{"version":3,"sources":["../../../src/objects/sdv.js"],"names":["SDV","vehicleLog","validate","xvizLog","Boolean","Vector3","copy","carPosition","heading","BaseObject"],"mappings":";;;;;;;;;;;;;;;;;;;AAeA;;AACA;;AACA;;;;;;IAEqBA,G;;;;;AAInB,qBAA4C;AAAA;;AAAA,QAA/BC,UAA+B,QAA/BA,UAA+B;AAAA,6BAAnBC,QAAmB;AAAA,QAAnBA,QAAmB,8BAAR,KAAQ;AAAA;;AAC1C,QAAIA,QAAJ,EAAc;AACZ,8BAAOA,QAAQ,IAAID,UAAnB,EAA+B,cAA/B;AACD;;AACD;AACA,UAAKE,OAAL,GAAeF,UAAf;AAL0C;AAM3C;;;;wBAEa;AACZ,aAAOG,OAAO,CAAC,KAAKD,OAAN,CAAd;AACD;;;wBAEc;AAIb,aAAO,KAAKA,OAAL,IAAgB,IAAIE,aAAJ,GAAcC,IAAd,CAAmB,KAAKH,OAAL,CAAaI,WAAhC,CAAvB;AACD;;;wBAEa;AAEZ,aAAO,KAAKJ,OAAL,IAAgB,mBAAQ,KAAKA,OAAL,CAAaK,OAArB,CAAvB;AACD;;;EA1B8BC,sB","sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n// Class to provide sdv object access helpers\nimport BaseObject from './base-object';\nimport {Vector3, degrees} from 'math.gl';\nimport assert from '../utils/assert';\n\nexport default class SDV extends BaseObject {\n  // Set `validate` to `true` to throw exception if object cannot be initialized\n  // If not, object will still be created as \"uninitialized\",\n  // and member functions will just return null\n  constructor({vehicleLog, validate = false}) {\n    if (validate) {\n      assert(validate || vehicleLog, 'sdv validate');\n    }\n    super();\n    this.xvizLog = vehicleLog;\n  }\n\n  get isValid() {\n    return Boolean(this.xvizLog);\n  }\n\n  get position() {\n    // TODO - vehicleLog.carPosition is object with 0, 1, 2 keys, not array which is why\n    // we need to initialize this way\n    // Needs to be fixed in API post-processing\n    return this.xvizLog && new Vector3().copy(this.xvizLog.carPosition);\n  }\n\n  get bearing() {\n    // Note: Heading should be transformed by Viewport modelMatrix\n    return this.xvizLog && degrees(this.xvizLog.heading);\n  }\n}\n"],"file":"sdv.js"}