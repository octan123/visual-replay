{"code":"!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=137)}([function(e,t,r){e.exports=r(148)},function(e,t,r){\"use strict\";r.d(t,\"b\",(function(){return n})),r.d(t,\"a\",(function(){return i})),r.d(t,\"c\",(function(){return o}));var n=1e-6,i=\"undefined\"!=typeof Float32Array?Float32Array:Array,o=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},function(e,t,r){\"use strict\";function n(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,\"next\",e)}function u(e){n(a,i,o,s,u,\"throw\",e)}s(void 0)}))}}r.d(t,\"a\",(function(){return i}))},function(e,t,r){\"use strict\";r.d(t,\"f\",(function(){return c})),r.d(t,\"g\",(function(){return f})),r.d(t,\"l\",(function(){return p})),r.d(t,\"m\",(function(){return h})),r.d(t,\"e\",(function(){return d})),r.d(t,\"s\",(function(){return v})),r.d(t,\"r\",(function(){return m})),r.d(t,\"o\",(function(){return g})),r.d(t,\"i\",(function(){return b})),r.d(t,\"p\",(function(){return O})),r.d(t,\"h\",(function(){return _})),r.d(t,\"q\",(function(){return w})),r.d(t,\"b\",(function(){return E})),r.d(t,\"a\",(function(){return j})),r.d(t,\"c\",(function(){return P})),r.d(t,\"d\",(function(){return S})),r.d(t,\"n\",(function(){return k})),r.d(t,\"j\",(function(){return T})),r.d(t,\"k\",(function(){return A})),r.d(t,\"t\",(function(){return x}));var n=r(7),i=r(68),o=r(21),a=r(19),s=1/Math.PI*180,u=1/180*Math.PI,c={};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)Object(a.a)(t in c),c[t]=e[t];return c}function l(e){return Math.round(e/c.EPSILON)*c.EPSILON}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.precision,n=void 0===r?c.precision||4:r;return e=l(e),\"\".concat(parseFloat(e.toPrecision(n)))}function h(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&!(e instanceof DataView)}function d(e){return e.clone?e.clone():Object(i.a)(Array,Object(o.a)(e))}function y(e,t,r){if(h(e)){r=r||((i=e).clone?i.clone():new Array(i.length));for(var n=0;n<r.length&&n<e.length;++n)r[n]=t(e[n],n,r);return r}var i;return t(e)}function v(e){return g(e)}function m(e){return b(e)}function g(e,t){return y(e,(function(e){return e*u}),t)}function b(e,t){return y(e,(function(e){return e*s}),t)}function O(e){return y(e,(function(e){return Math.sin(e)}))}function _(e){return y(e,(function(e){return Math.cos(e)}))}function w(e){return y(e,(function(e){return Math.tan(e)}))}function E(e){return y(e,(function(e){return Math.asin(e)}))}function j(e){return y(e,(function(e){return Math.acos(e)}))}function P(e){return y(e,(function(e){return Math.atan(e)}))}function S(e,t,r){return y(e,(function(e){return Math.max(t,Math.min(r,e))}))}function k(e,t,r){return h(e)?e.map((function(e,n){return k(e,t[n],r)})):r*t+(1-r)*e}function T(e,t,r){var n=c.EPSILON;r&&(c.EPSILON=r);try{if(e===t)return!0;if(h(e)&&h(t)){if(e.length!==t.length)return!1;for(var i=0;i<e.length;++i)if(!T(e[i],t[i]))return!1;return!0}return e&&e.equals?e.equals(t):t&&t.equals?t.equals(e):!(!Number.isFinite(e)||!Number.isFinite(t))&&Math.abs(e-t)<=c.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))}finally{c.EPSILON=n}}function A(e,t){if(e===t)return!0;if(e&&\"object\"===Object(n.a)(e)&&t&&\"object\"===Object(n.a)(t)){if(e.constructor!==t.constructor)return!1;if(e.exactEquals)return e.exactEquals(t)}if(h(e)&&h(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!A(e[r],t[r]))return!1;return!0}return!1}function x(e,t){var r,n=c.EPSILON;c.EPSILON=e;try{r=t()}finally{c.EPSILON=n}return r}c.EPSILON=1e-12,c.debug=!1,c.precision=4,c.printTypes=!1,c.printDegrees=!1,c.printRowMajor=!0},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return o})),r.d(t,\"b\",(function(){return a})),r.d(t,\"c\",(function(){return u}));var n=r(3);function i(e,t){if(e.length!==t)return!1;for(var r=0;r<e.length;++r)if(!Number.isFinite(e[r]))return!1;return!0}function o(e){if(!Number.isFinite(e))throw new Error(\"Invalid number \".concat(e));return e}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"\";if(n.f.debug&&!i(e,t))throw new Error(\"math.gl: \".concat(r,\" some fields set to invalid numbers'\"));return e}var s={};function u(e,t){s[e]||(s[e]=!0,console.warn(\"\".concat(e,\" has been removed in version \").concat(t,\", see upgrade guide for more information\")))}},function(e,t,r){\"use strict\";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,\"a\",(function(){return i}))},function(e,t,r){\"use strict\";function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}r.d(t,\"a\",(function(){return n}))},function(e,t,r){\"use strict\";function n(e){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}r.d(t,\"a\",(function(){return n}))},function(e,t,r){\"use strict\";r.d(t,\"b\",(function(){return i})),r.d(t,\"g\",(function(){return o})),r.d(t,\"e\",(function(){return a})),r.d(t,\"h\",(function(){return s})),r.d(t,\"d\",(function(){return u})),r.d(t,\"c\",(function(){return c})),r.d(t,\"m\",(function(){return f})),r.d(t,\"l\",(function(){return l})),r.d(t,\"n\",(function(){return p})),r.d(t,\"i\",(function(){return h})),r.d(t,\"j\",(function(){return d})),r.d(t,\"k\",(function(){return y})),r.d(t,\"a\",(function(){return v})),r.d(t,\"f\",(function(){return g}));var n=r(1);function i(){var e=new n.a(3);return n.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function o(e){var t=e[0],r=e[1],n=e[2];return Math.hypot(t,r,n)}function a(e,t,r){var i=new n.a(3);return i[0]=e,i[1]=t,i[2]=r,i}function s(e,t){var r=t[0],n=t[1],i=t[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function u(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function c(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],s=r[1],u=r[2];return e[0]=i*u-o*s,e[1]=o*a-n*u,e[2]=n*s-i*a,e}function f(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[3]*n+r[7]*i+r[11]*o+r[15];return a=a||1,e[0]=(r[0]*n+r[4]*i+r[8]*o+r[12])/a,e[1]=(r[1]*n+r[5]*i+r[9]*o+r[13])/a,e[2]=(r[2]*n+r[6]*i+r[10]*o+r[14])/a,e}function l(e,t,r){var n=t[0],i=t[1],o=t[2];return e[0]=n*r[0]+i*r[3]+o*r[6],e[1]=n*r[1]+i*r[4]+o*r[7],e[2]=n*r[2]+i*r[5]+o*r[8],e}function p(e,t,r){var n=r[0],i=r[1],o=r[2],a=r[3],s=t[0],u=t[1],c=t[2],f=i*c-o*u,l=o*s-n*c,p=n*u-i*s,h=i*p-o*l,d=o*f-n*p,y=n*l-i*f,v=2*a;return f*=v,l*=v,p*=v,h*=2,d*=2,y*=2,e[0]=s+f+h,e[1]=u+l+d,e[2]=c+p+y,e}function h(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function d(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function y(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function v(e,t){var r=e[0],n=e[1],i=e[2],o=t[0],a=t[1],s=t[2],c=Math.sqrt(r*r+n*n+i*i)*Math.sqrt(o*o+a*a+s*s),f=c&&u(e,t)/c;return Math.acos(Math.min(Math.max(f,-1),1))}var m,g=o;m=i()},function(e,t,r){\"use strict\";r.r(t),r.d(t,\"createWorker\",(function(){return p})),r.d(t,\"assert\",(function(){return v.a})),r.d(t,\"isBrowser\",(function(){return m.c})),r.d(t,\"isWorker\",(function(){return m.d})),r.d(t,\"nodeVersion\",(function(){return m.e})),r.d(t,\"self\",(function(){return m.f})),r.d(t,\"window\",(function(){return m.g})),r.d(t,\"global\",(function(){return m.b})),r.d(t,\"document\",(function(){return m.a})),r.d(t,\"validateLoaderVersion\",(function(){return c.a})),r.d(t,\"getLibraryUrl\",(function(){return w})),r.d(t,\"loadLibrary\",(function(){return O})),r.d(t,\"getTransferList\",(function(){return u.a})),r.d(t,\"parseJSON\",(function(){return T})),r.d(t,\"padTo4Bytes\",(function(){return A})),r.d(t,\"copyToArray\",(function(){return R})),r.d(t,\"copyArrayBuffer\",(function(){return I})),r.d(t,\"getZeroOffsetArrayBuffer\",(function(){return x})),r.d(t,\"copyPaddedArrayBufferToDataView\",(function(){return M})),r.d(t,\"copyPaddedStringToDataView\",(function(){return N})),r.d(t,\"padStringToByteAlignment\",(function(){return V})),r.d(t,\"copyStringToDataView\",(function(){return D})),r.d(t,\"copyBinaryToDataView\",(function(){return L})),r.d(t,\"getFirstCharacters\",(function(){return S})),r.d(t,\"getMagicString\",(function(){return k})),r.d(t,\"path\",(function(){return n})),r.d(t,\"setPathPrefix\",(function(){return F.d})),r.d(t,\"getPathPrefix\",(function(){return F.b})),r.d(t,\"resolvePath\",(function(){return F.c})),r.d(t,\"_addAliases\",(function(){return F.a})),r.d(t,\"makeTextEncoderIterator\",(function(){return B.d})),r.d(t,\"makeTextDecoderIterator\",(function(){return B.c})),r.d(t,\"makeLineIterator\",(function(){return B.a})),r.d(t,\"makeNumberedLineIterator\",(function(){return B.b})),r.d(t,\"RequestScheduler\",(function(){return U.a})),r.d(t,\"_getMeshSize\",(function(){return z})),r.d(t,\"getMeshBoundingBox\",(function(){return $}));var n={};r.r(n),r.d(n,\"dirname\",(function(){return C}));var i=r(15),o=r(0),a=r.n(o),s=r(2),u=r(64),c=r(63);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e){if(\"undefined\"!=typeof self){var t,r=0,n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(i,o){var a=r++;self.addEventListener(\"message\",(function e(t){var r=t.data;if(r&&r.id===a)switch(r.type){case\"parse-done\":self.removeEventListener(\"message\",e),i(r.result);break;case\"parse-error\":self.removeEventListener(\"message\",e),o(r.message)}})),self.postMessage({type:\"parse\",id:a,arraybuffer:e,options:t,url:n},[e])}))};self.onmessage=(t=Object(s.a)(a.a.mark((function t(r){var i,o,s,f,l,p,d,v,m,g;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.data,t.prev=1,y(i,e.name)){t.next=4;break}return t.abrupt(\"return\");case 4:return Object(c.a)(e,i.source.split(\"@\")[1]),o=i.arraybuffer,s=i.byteOffset,f=void 0===s?0:s,l=i.byteLength,p=void 0===l?0:l,d=i.options,v=void 0===d?{}:d,t.next=8,h({loader:e,arraybuffer:o,byteOffset:f,byteLength:p,options:v,context:{parse:n}});case 8:m=t.sent,g=Object(u.a)(m),self.postMessage({type:\"done\",result:m},g),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),self.postMessage({type:\"error\",message:t.t0.message});case 16:case\"end\":return t.stop()}}),t,null,[[1,13]])}))),function(e){return t.apply(this,arguments)})}}function h(e){return d.apply(this,arguments)}function d(){return(d=Object(s.a)(a.a.mark((function e(t){var r,n,i,o,s,u,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.loader,n=t.arraybuffer,t.byteOffset,t.byteLength,i=t.options,o=t.context,!r.parseSync&&!r.parse){e.next=6;break}s=n,u=r.parseSync||r.parse,e.next=13;break;case 6:if(!r.parseTextSync){e.next=12;break}c=new TextDecoder,s=c.decode(n),u=r.parseTextSync,e.next=13;break;case 12:throw new Error(\"Could not load data with \".concat(r.name,\" loader\"));case 13:return i=l(l({},i),{},{modules:r&&r.options&&r.options.modules||{},worker:!1}),e.next=16,u(s,l({},i),o,r);case 16:return e.abrupt(\"return\",e.sent);case 17:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return e&&\"parse\"===e.type&&e.source&&e.source.startsWith(\"loaders.gl\")}var v=r(45),m=r(18),g=r(91),b={};function O(e){return _.apply(this,arguments)}function _(){return(_=Object(s.a)(a.a.mark((function e(t){var r,n,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:null,n=i.length>2&&void 0!==i[2]?i[2]:{},r&&(t=w(t,r,n)),b[t]=b[t]||E(t),e.next=6,b[t];case 6:return e.abrupt(\"return\",e.sent);case 7:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t,r){var n=r.modules||{};return n[e]?n[e]:m.c?r.CDN?(Object(v.a)(r.CDN.startsWith(\"http\")),\"\".concat(r.CDN,\"/\").concat(t,\"@\").concat(\"2.2.6\",\"/dist/libs/\").concat(e)):m.d?\"../src/libs/\".concat(e):\"modules/\".concat(t,\"/src/libs/\").concat(e):\"modules/\".concat(t,\"/dist/libs/\").concat(e)}function E(e){return j.apply(this,arguments)}function j(){return(j=Object(s.a)(a.a.mark((function e(t){var r,n,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.endsWith(\"wasm\")){e.next=7;break}return e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.arrayBuffer();case 6:return e.abrupt(\"return\",e.sent);case 7:if(m.c){e.next=9;break}return e.abrupt(\"return\",Object(g.requireFromFile)(t));case 9:if(!m.d){e.next=11;break}return e.abrupt(\"return\",importScripts(t));case 11:return e.next=13,fetch(t);case 13:return n=e.sent,e.next=16,n.text();case 16:return i=e.sent,e.abrupt(\"return\",P(i,t));case 18:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){if(!m.c)return Object(g.requireFromString)(e,t);if(m.d)return eval.call(m.b,e),null;var r=document.createElement(\"script\");r.id=t;try{r.appendChild(document.createTextNode(e))}catch(t){r.text=e}return document.body.appendChild(r),null}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(\"string\"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return k(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){var r=0;return k(e,r,t)}return\"\"}function k(e,t,r){if(e.byteLength<=t+r)return\"\";for(var n=new DataView(e),i=\"\",o=0;o<r;o++)i+=String.fromCharCode(n.getUint8(t+o));return i}function T(e){try{return JSON.parse(e)}catch(t){throw new Error('Failed to parse JSON from data starting with \"'.concat(S(e),'\"'))}}function A(e){return e+3&-4}function x(e,t,r){var n=r?new Uint8Array(e).subarray(t,t+r):new Uint8Array(e).subarray(t);return new Uint8Array(n).buffer}function I(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.byteLength,i=new Uint8Array(e,r,n),o=new Uint8Array(t);return i.set(o),e}function R(e,t,r){var n;if(e instanceof ArrayBuffer)n=new Uint8Array(e);else{var i=e.byteOffset,o=e.byteLength;n=new Uint8Array(e.buffer,i,o)}return t.set(n,r),r+A(n.byteLength)}function M(e,t,r){var n=A(r.byteLength),i=n-r.byteLength;if(e){var o=new Uint8Array(e.buffer,e.byteOffset+t,r.byteLength),a=new Uint8Array(r);o.set(a);for(var s=0;s<i;++s)e.setUint8(t+r.byteLength+s,32)}return t+=n}function N(e,t,r){return t=M(e,t,(new TextEncoder).encode(r))}function V(e,t){for(var r=e.length,n=Math.ceil(r/t)*t-r,i=\"\",o=0;o<n;++o)i+=\" \";return e+i}function D(e,t,r,n){if(e)for(var i=0;i<n;i++)e.setUint8(t+i,r.charCodeAt(i));return t+n}function L(e,t,r,n){if(e)for(var i=0;i<n;i++)e.setUint8(t+i,r[i]),t++;return t+n}function C(e){var t=e&&e.lastIndexOf(\"/\");return t>=0?e.substr(0,t):\"\"}var F=r(39),B=r(52),U=r(105);function z(e){var t=0;for(var r in e){var n=e[r];ArrayBuffer.isView(n)&&(t+=n.byteLength*n.BYTES_PER_ELEMENT)}return t}function $(e){if(!e||!e.POSITION)return null;var t=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,a=-1/0,s=e.POSITION.value,u=s&&s.length;if(!u)return null;for(var c=0;c<u;c+=3){var f=s[c],l=s[c+1],p=s[c+2];t=f<t?f:t,r=l<r?l:r,n=p<n?p:n,i=f>i?f:i,o=l>o?l:o,a=p>a?p:a}return[[t,r,n],[i,o,a]]}},function(e,t,r){\"use strict\";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,\"a\",(function(){return n}))},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return i}));var n=r(67);function i(e){return new n.a(e)}},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return i}));var n=r(47);function i(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(n.a)(e,t)}},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return i}));var n=r(7);function i(e,t){return!t||\"object\"!==Object(n.a)(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}},function(e,t,r){\"use strict\";(function(e,n){r.d(t,\"e\",(function(){return a})),r.d(t,\"f\",(function(){return s})),r.d(t,\"c\",(function(){return u})),r.d(t,\"b\",(function(){return c})),r.d(t,\"d\",(function(){return f})),r.d(t,\"a\",(function(){return l}));var i=r(7),o={self:\"undefined\"!=typeof self&&self,window:\"undefined\"!=typeof window&&window,global:void 0!==e&&e,document:\"undefined\"!=typeof document&&document,process:\"object\"===(void 0===n?\"undefined\":Object(i.a)(n))&&n},a=o.self||o.window||o.global,s=o.window||o.self||o.global,u=o.global||o.self||o.window,c=o.document||{},f=o.process||{},l=console}).call(this,r(35),r(38))},function(e,t,r){\"use strict\";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,\"a\",(function(){return n}))},function(e,t,r){\"use strict\";r.d(t,\"b\",(function(){return i})),r.d(t,\"g\",(function(){return o})),r.d(t,\"c\",(function(){return a})),r.d(t,\"l\",(function(){return s})),r.d(t,\"a\",(function(){return u})),r.d(t,\"k\",(function(){return c})),r.d(t,\"h\",(function(){return f})),r.d(t,\"m\",(function(){return l})),r.d(t,\"j\",(function(){return p})),r.d(t,\"d\",(function(){return h})),r.d(t,\"i\",(function(){return d})),r.d(t,\"n\",(function(){return y})),r.d(t,\"o\",(function(){return v})),r.d(t,\"f\",(function(){return m})),r.d(t,\"e\",(function(){return g}));var n=r(1);function i(e){var t=new n.a(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function o(e,t,r,i){var o=new n.a(4);return o[0]=e,o[1]=t,o[2]=r,o[3]=i,o}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function s(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function u(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function c(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function f(e){var t=e[0],r=e[1],n=e[2],i=e[3];return Math.hypot(t,r,n,i)}function l(e){var t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function p(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r*r+n*n+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=r*a,e[1]=n*a,e[2]=i*a,e[3]=o*a,e}function h(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function d(e,t,r,n){var i=t[0],o=t[1],a=t[2],s=t[3];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=a+n*(r[2]-a),e[3]=s+n*(r[3]-s),e}function y(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*a,e[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*a,e[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*a,e[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*a,e}function v(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],s=r[1],u=r[2],c=r[3],f=c*n+s*o-u*i,l=c*i+u*n-a*o,p=c*o+a*i-s*n,h=-a*n-s*i-u*o;return e[0]=f*c+h*-a+l*-u-p*-s,e[1]=l*c+h*-s+p*-a-f*-u,e[2]=p*c+h*-u+f*-s-l*-a,e[3]=t[3],e}function m(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function g(e,t){var r=e[0],i=e[1],o=e[2],a=e[3],s=t[0],u=t[1],c=t[2],f=t[3];return Math.abs(r-s)<=n.b*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=n.b*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-c)<=n.b*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(a-f)<=n.b*Math.max(1,Math.abs(a),Math.abs(f))}var b,O;b=new n.a(4),n.a!=Float32Array&&(b[0]=0,b[1]=0,b[2]=0,b[3]=0),O=b},function(e,t,r){\"use strict\";var n,i,o=e.exports=r(26),a=r(119);o.codegen=r(204),o.fetch=r(205),o.path=r(206),o.typedArrayIsLe=function(){var e=new Float32Array([-0]);return 128===new Uint8Array(e.buffer)[3]},o.fs=o.inquire(\"fs\"),o.toArray=function(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),n=0;n<t.length;)r[n]=e[t[n++]];return r}return[]},o.toObject=function(e){for(var t={},r=0;r<e.length;){var n=e[r++],i=e[r++];void 0!==i&&(t[n]=i)}return t};var s=/\\\\/g,u=/\"/g;o.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},o.safeProp=function(e){return!/^[$\\w_]+$/.test(e)||o.isReserved(e)?'[\"'+e.replace(s,\"\\\\\\\\\").replace(u,'\\\\\"')+'\"]':\".\"+e},o.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var c=/_([a-z])/g;o.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(c,(function(e,t){return t.toUpperCase()}))},o.compareFieldsById=function(e,t){return e.id-t.id},o.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(o.decorateRoot.remove(e.$type),e.$type.name=t,o.decorateRoot.add(e.$type)),e.$type;n||(n=r(81));var i=new n(t||e.name);return o.decorateRoot.add(i),i.ctor=e,Object.defineProperty(e,\"$type\",{value:i,enumerable:!1}),Object.defineProperty(e.prototype,\"$type\",{value:i,enumerable:!1}),i};var f=0;o.decorateEnum=function(e){if(e.$type)return e.$type;i||(i=r(25));var t=new i(\"Enum\"+f++,e);return o.decorateRoot.add(t),Object.defineProperty(e,\"$type\",{value:t,enumerable:!1}),t},Object.defineProperty(o,\"decorateRoot\",{get:function(){return a.decorated||(a.decorated=new(r(86)))}})},function(e,t,r){\"use strict\";(function(e,n){r.d(t,\"f\",(function(){return a})),r.d(t,\"g\",(function(){return s})),r.d(t,\"b\",(function(){return u})),r.d(t,\"a\",(function(){return c})),r.d(t,\"c\",(function(){return f})),r.d(t,\"d\",(function(){return l})),r.d(t,\"e\",(function(){return h}));var i=r(7),o={self:\"undefined\"!=typeof self&&self,window:\"undefined\"!=typeof window&&window,global:void 0!==e&&e,document:\"undefined\"!=typeof document&&document},a=o.self||o.window||o.global,s=o.window||o.self||o.global,u=o.global||o.self||o.window,c=o.document||{},f=\"object\"!==(void 0===n?\"undefined\":Object(i.a)(n))||\"[object process]\"!==String(n)||n.browser,l=\"function\"==typeof importScripts,p=void 0!==n&&n.version&&n.version.match(/v([0-9]*)/),h=p&&parseFloat(p[1])||0}).call(this,r(35),r(38))},function(e,t,r){\"use strict\";function n(e,t){if(!e)throw new Error(\"math.gl assertion \".concat(t))}r.d(t,\"a\",(function(){return n}))},function(e,t,r){\"use strict\";function n(e,t,r){var n=t[0],i=t[1],o=r[3]*n+r[7]*i||1;return e[0]=(r[0]*n+r[4]*i)/o,e[1]=(r[1]*n+r[5]*i)/o,e}function i(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[3]*n+r[7]*i+r[11]*o||1;return e[0]=(r[0]*n+r[4]*i+r[8]*o)/a,e[1]=(r[1]*n+r[5]*i+r[9]*o)/a,e[2]=(r[2]*n+r[6]*i+r[10]*o)/a,e}function o(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e[2]=t[2],e}function a(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e[2]=t[2],e[3]=t[3],e}function s(e,t,r){var n=t[0],i=t[1],o=t[2];return e[0]=r[0]*n+r[3]*i+r[6]*o,e[1]=r[1]*n+r[4]*i+r[7]*o,e[2]=r[2]*n+r[5]*i+r[8]*o,e[3]=t[3],e}r.d(t,\"a\",(function(){return n})),r.d(t,\"c\",(function(){return i})),r.d(t,\"b\",(function(){return o})),r.d(t,\"d\",(function(){return a})),r.d(t,\"e\",(function(){return s}))},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return o}));var n=r(57);var i=r(65);function o(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return i})),r.d(t,\"i\",(function(){return o})),r.d(t,\"d\",(function(){return a})),r.d(t,\"b\",(function(){return s})),r.d(t,\"e\",(function(){return u})),r.d(t,\"h\",(function(){return c})),r.d(t,\"f\",(function(){return f})),r.d(t,\"g\",(function(){return l})),r.d(t,\"c\",(function(){return p}));var n=r(1);function i(){var e=new n.a(9);return n.a!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function o(e,t){if(e===t){var r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function a(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],f=t[8],l=f*a-s*c,p=-f*o+s*u,h=c*o-a*u,d=r*l+n*p+i*h;return d?(d=1/d,e[0]=l*d,e[1]=(-f*n+i*c)*d,e[2]=(s*n-i*a)*d,e[3]=p*d,e[4]=(f*r-i*u)*d,e[5]=(-s*r+i*o)*d,e[6]=h*d,e[7]=(-c*r+n*u)*d,e[8]=(a*r-n*o)*d,e):null}function s(e){var t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8];return t*(c*o-a*u)+r*(-c*i+a*s)+n*(u*i-o*s)}function u(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],f=t[7],l=t[8],p=r[0],h=r[1],d=r[2],y=r[3],v=r[4],m=r[5],g=r[6],b=r[7],O=r[8];return e[0]=p*n+h*a+d*c,e[1]=p*i+h*s+d*f,e[2]=p*o+h*u+d*l,e[3]=y*n+v*a+m*c,e[4]=y*i+v*s+m*f,e[5]=y*o+v*u+m*l,e[6]=g*n+b*a+O*c,e[7]=g*i+b*s+O*f,e[8]=g*o+b*u+O*l,e}function c(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],f=t[7],l=t[8],p=r[0],h=r[1];return e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=p*n+h*a+c,e[7]=p*i+h*s+f,e[8]=p*o+h*u+l,e}function f(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],f=t[7],l=t[8],p=Math.sin(r),h=Math.cos(r);return e[0]=h*n+p*a,e[1]=h*i+p*s,e[2]=h*o+p*u,e[3]=h*a-p*n,e[4]=h*s-p*i,e[5]=h*u-p*o,e[6]=c,e[7]=f,e[8]=l,e}function l(e,t,r){var n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function p(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r+r,s=n+n,u=i+i,c=r*a,f=n*a,l=n*s,p=i*a,h=i*s,d=i*u,y=o*a,v=o*s,m=o*u;return e[0]=1-l-d,e[3]=f-m,e[6]=p+v,e[1]=f+m,e[4]=1-c-d,e[7]=h-y,e[2]=p-v,e[5]=h+y,e[8]=1-c-l,e}},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return o}));var n=r(67);function i(e){var t,r;function i(t,r){try{var a=e[t](r),s=a.value,u=s instanceof n.a;Promise.resolve(u?s.wrapped:s).then((function(e){u?i(\"return\"===t?\"return\":\"next\",e):o(a.done?\"return\":\"normal\",e)}),(function(e){i(\"throw\",e)}))}catch(e){o(\"throw\",e)}}function o(e,n){switch(e){case\"return\":t.resolve({value:n,done:!0});break;case\"throw\":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?i(t.key,t.arg):r=null}this._invoke=function(e,n){return new Promise((function(o,a){var s={key:e,arg:n,resolve:o,reject:a,next:null};r?r=r.next=s:(t=r=s,i(e,n))}))},\"function\"!=typeof e.return&&(this.return=void 0)}function o(e){return function(){return new i(e.apply(this,arguments))}}\"function\"==typeof Symbol&&Symbol.asyncIterator&&(i.prototype[Symbol.asyncIterator]=function(){return this}),i.prototype.next=function(e){return this._invoke(\"next\",e)},i.prototype.throw=function(e){return this._invoke(\"throw\",e)},i.prototype.return=function(e){return this._invoke(\"return\",e)}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.subscribeXVIZConfigChange=function(e){u.push(e)},t.setXVIZConfig=function(e){Object.assign(s,e),Array.isArray(s.STREAM_BLACKLIST)&&(s.STREAM_BLACKLIST=new Set(s.STREAM_BLACKLIST));u.forEach((function(e){return e()}))},t.getXVIZConfig=function(){return s};var n=o(r(139)),i=o(r(59));function o(e){return e&&e.__esModule?e:{default:e}}var a={supportedVersions:[1,2],currentMajorVersion:1,pathDistanceThreshold:.1,TIME_WINDOW:.4,PLAYBACK_FRAME_RATE:10,STREAM_BLACKLIST:new Set,preProcessPrimitive:function(e){return e},ALLOW_MISSING_PRIMARY_POSE:!1,DYNAMIC_STREAM_METADATA:!1,TIMESTAMP_FORMAT:\"seconds\",PRIMARY_POSE_STREAM:\"/vehicle_pose\"},s=Object.assign({},a);i.default.setDefaultCollection(new n.default);var u=[]},function(e,t,r){\"use strict\";e.exports=a;var n=r(42);((a.prototype=Object.create(n.prototype)).constructor=a).className=\"Enum\";var i=r(53),o=r(17);function a(e,t,r,i,o){if(n.call(this,e,r),t&&\"object\"!=typeof t)throw TypeError(\"values must be an object\");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=o||{},this.reserved=void 0,t)for(var a=Object.keys(t),s=0;s<a.length;++s)\"number\"==typeof t[a[s]]&&(this.valuesById[this.values[a[s]]=t[a[s]]]=a[s])}a.fromJSON=function(e,t){var r=new a(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,r},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject([\"options\",this.options,\"values\",this.values,\"reserved\",this.reserved&&this.reserved.length?this.reserved:void 0,\"comment\",t?this.comment:void 0,\"comments\",t?this.comments:void 0])},a.prototype.add=function(e,t,r){if(!o.isString(e))throw TypeError(\"name must be a string\");if(!o.isInteger(t))throw TypeError(\"id must be an integer\");if(void 0!==this.values[e])throw Error(\"duplicate name '\"+e+\"' in \"+this);if(this.isReservedId(t))throw Error(\"id \"+t+\" is reserved in \"+this);if(this.isReservedName(e))throw Error(\"name '\"+e+\"' is reserved in \"+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error(\"duplicate id \"+t+\" in \"+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=r||null,this},a.prototype.remove=function(e){if(!o.isString(e))throw TypeError(\"name must be a string\");var t=this.values[e];if(null==t)throw Error(\"name '\"+e+\"' does not exist in \"+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},a.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},a.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)}},function(e,t,r){\"use strict\";(function(e){var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,\"message\",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,\"stack\",{value:(new Error).stack||\"\"}),r&&i(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,\"name\",{get:function(){return e}}),t.prototype.toString=function(){return this.name+\": \"+this.message},t}n.asPromise=r(116),n.base64=r(195),n.EventEmitter=r(196),n.float=r(197),n.inquire=r(117),n.utf8=r(198),n.pool=r(199),n.LongBits=r(200),n.global=\"undefined\"!=typeof window&&window||void 0!==e&&e||\"undefined\"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isNode=Boolean(n.global.process&&n.global.process.versions&&n.global.process.versions.node),n.isInteger=Number.isInteger||function(e){return\"number\"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return\"string\"==typeof e||e instanceof String},n.isObject=function(e){return e&&\"object\"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&(\"object\"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire(\"buffer\").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return\"number\"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):\"undefined\"==typeof Uint8Array?e:new Uint8Array(e)},n.Array=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire(\"long\"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\\\x00-\\\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o(\"ProtocolError\"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}}).call(this,r(35))},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return i})),r.d(t,\"b\",(function(){return o})),r.d(t,\"c\",(function(){return a})),r.d(t,\"d\",(function(){return s}));var n=r(1);function i(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e}function o(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function a(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e}function s(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e}var u,c;u=new n.a(2),n.a!=Float32Array&&(u[0]=0,u[1]=0),c=u},function(e,t,r){\"use strict\";function n(e){var t;if(\"undefined\"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError(\"Object is not async iterable\")}r.d(t,\"a\",(function(){return n}))},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return h}));var n=r(6),i=r(5),o=r(13),a=r(10),s=r(12),u=r(47);var c=r(68);function f(e){var t=\"function\"==typeof Map?new Map:void 0;return(f=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf(\"[native code]\")))return e;var r;if(\"function\"!=typeof e)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Object(c.a)(e,arguments,Object(a.a)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object(u.a)(n,e)})(e)}var l=r(3),p=r(19),h=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:\"clone\",value:function(){return(new this.constructor).copy(this)}},{key:\"from\",value:function(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}},{key:\"fromArray\",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<this.ELEMENTS;++r)this[r]=e[r+t];return this.check()}},{key:\"to\",value:function(e){return e===this?this:Object(l.m)(e)?this.toArray(e):this.toObject(e)}},{key:\"toTarget\",value:function(e){return e?this.to(e):this}},{key:\"toArray\",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<this.ELEMENTS;++r)e[t+r]=this[r];return e}},{key:\"toFloat32Array\",value:function(){return new Float32Array(this)}},{key:\"toString\",value:function(){return this.formatString(l.f)}},{key:\"formatString\",value:function(e){for(var t=\"\",r=0;r<this.ELEMENTS;++r)t+=(r>0?\", \":\"\")+Object(l.l)(this[r],e);return\"\".concat(e.printTypes?this.constructor.name:\"\",\"[\").concat(t,\"]\")}},{key:\"equals\",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(!Object(l.j)(this[t],e[t]))return!1;return!0}},{key:\"exactEquals\",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}},{key:\"negate\",value:function(){for(var e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}},{key:\"lerp\",value:function(e,t,r){void 0===r&&(r=t,t=e,e=this);for(var n=0;n<this.ELEMENTS;++n){var i=e[n];this[n]=i+r*(t[n]-i)}return this.check()}},{key:\"min\",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}},{key:\"max\",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}},{key:\"clamp\",value:function(e,t){for(var r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e[r]),t[r]);return this.check()}},{key:\"add\",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++)for(var o=i[n],a=0;a<this.ELEMENTS;++a)this[a]+=o[a];return this.check()}},{key:\"subtract\",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++)for(var o=i[n],a=0;a<this.ELEMENTS;++a)this[a]-=o[a];return this.check()}},{key:\"scale\",value:function(e){if(Array.isArray(e))return this.multiply(e);for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:\"sub\",value:function(e){return this.subtract(e)}},{key:\"setScalar\",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}},{key:\"addScalar\",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}},{key:\"subScalar\",value:function(e){return this.addScalar(-e)}},{key:\"multiplyScalar\",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:\"divideScalar\",value:function(e){return this.scale(1/e)}},{key:\"clampScalar\",value:function(e,t){for(var r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e),t);return this.check()}},{key:\"multiplyByScalar\",value:function(e){return this.scale(e)}},{key:\"check\",value:function(){if(l.f.debug&&!this.validate())throw new Error(\"math.gl: \".concat(this.constructor.name,\" some fields set to invalid numbers'\"));return this}},{key:\"validate\",value:function(){for(var e=this.length===this.ELEMENTS,t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}},{key:\"ELEMENTS\",get:function(){return Object(p.a)(!1),0}},{key:\"RANK\",get:function(){return Object(p.a)(!1),0}},{key:\"elements\",get:function(){return this}}]),t}(f(Array))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),Object.defineProperty(t,\"XVIZJSONWriter\",{enumerable:!0,get:function(){return n.XVIZJSONWriter}}),Object.defineProperty(t,\"XVIZBinaryWriter\",{enumerable:!0,get:function(){return i.XVIZBinaryWriter}}),Object.defineProperty(t,\"encodeBinaryXVIZ\",{enumerable:!0,get:function(){return i.encodeBinaryXVIZ}}),Object.defineProperty(t,\"XVIZProtobufWriter\",{enumerable:!0,get:function(){return o.XVIZProtobufWriter}}),Object.defineProperty(t,\"XVIZFormatWriter\",{enumerable:!0,get:function(){return a.XVIZFormatWriter}}),Object.defineProperty(t,\"XVIZJSONReader\",{enumerable:!0,get:function(){return s.XVIZJSONReader}}),Object.defineProperty(t,\"XVIZBinaryReader\",{enumerable:!0,get:function(){return u.XVIZBinaryReader}}),Object.defineProperty(t,\"XVIZProtobufReader\",{enumerable:!0,get:function(){return c.XVIZProtobufReader}}),Object.defineProperty(t,\"MemorySourceSink\",{enumerable:!0,get:function(){return f.MemorySourceSink}}),Object.defineProperty(t,\"TextEncoder\",{enumerable:!0,get:function(){return l.TextEncoder}}),Object.defineProperty(t,\"TextDecoder\",{enumerable:!0,get:function(){return l.TextDecoder}}),Object.defineProperty(t,\"XVIZData\",{enumerable:!0,get:function(){return p.XVIZData}}),Object.defineProperty(t,\"XVIZMessage\",{enumerable:!0,get:function(){return h.XVIZMessage}}),Object.defineProperty(t,\"XVIZ_MESSAGE_TYPE\",{enumerable:!0,get:function(){return d.XVIZ_MESSAGE_TYPE}}),Object.defineProperty(t,\"XVIZEnvelope\",{enumerable:!0,get:function(){return y.XVIZEnvelope}}),Object.defineProperty(t,\"XVIZ_FORMAT\",{enumerable:!0,get:function(){return v.XVIZ_FORMAT}}),Object.defineProperty(t,\"XVIZ_GLTF_EXTENSION\",{enumerable:!0,get:function(){return v.XVIZ_GLTF_EXTENSION}}),Object.defineProperty(t,\"XVIZ_MESSAGE_NAMESPACE\",{enumerable:!0,get:function(){return v.XVIZ_MESSAGE_NAMESPACE}}),Object.defineProperty(t,\"getDataFormat\",{enumerable:!0,get:function(){return m.getDataContainer}}),Object.defineProperty(t,\"getDataContainer\",{enumerable:!0,get:function(){return m.getDataContainer}}),Object.defineProperty(t,\"isEnvelope\",{enumerable:!0,get:function(){return m.isEnvelope}}),Object.defineProperty(t,\"unpackEnvelope\",{enumerable:!0,get:function(){return m.unpackEnvelope}}),Object.defineProperty(t,\"isBinaryXVIZ\",{enumerable:!0,get:function(){return m.isBinaryXVIZ}}),Object.defineProperty(t,\"parseBinaryXVIZ\",{enumerable:!0,get:function(){return m.parseBinaryXVIZ}}),Object.defineProperty(t,\"isGLBXVIZ\",{enumerable:!0,get:function(){return m.isGLBXVIZ}}),Object.defineProperty(t,\"isPBEXVIZ\",{enumerable:!0,get:function(){return m.isPBEXVIZ}}),Object.defineProperty(t,\"parsePBEXVIZ\",{enumerable:!0,get:function(){return m.parsePBEXVIZ}}),Object.defineProperty(t,\"isJSONString\",{enumerable:!0,get:function(){return m.isJSONString}}),Object.defineProperty(t,\"getObjectXVIZType\",{enumerable:!0,get:function(){return m.getObjectXVIZType}}),Object.defineProperty(t,\"getXVIZMessageType\",{enumerable:!0,get:function(){return m.getXVIZMessageType}}),Object.defineProperty(t,\"isXVIZMessage\",{enumerable:!0,get:function(){return m.isXVIZMessage}}),Object.defineProperty(t,\"XVIZ_PROTOBUF_MESSAGE\",{enumerable:!0,get:function(){return g.XVIZ_PROTOBUF_MESSAGE}}),Object.defineProperty(t,\"XVIZProviderFactory\",{enumerable:!0,get:function(){return b.XVIZProviderFactory}}),Object.defineProperty(t,\"XVIZJSONProvider\",{enumerable:!0,get:function(){return O.XVIZJSONProvider}}),Object.defineProperty(t,\"XVIZBinaryProvider\",{enumerable:!0,get:function(){return _.XVIZBinaryProvider}}),Object.defineProperty(t,\"XVIZProtobufProvider\",{enumerable:!0,get:function(){return w.XVIZProtobufProvider}});var n=r(102),i=r(103),o=r(106),a=r(212),s=r(213),u=r(221),c=r(222),f=r(223),l=r(37),p=r(126),h=r(127),d=r(88),y=r(224),v=r(44),m=r(62),g=r(73),b=r(225),O=r(128),_=r(129),w=r(130)},function(e,t,r){\"use strict\";e.exports=c;var n=r(42);((c.prototype=Object.create(n.prototype)).constructor=c).className=\"Field\";var i,o=r(25),a=r(43),s=r(17),u=/^required|optional|repeated$/;function c(e,t,r,i,o,c,f){if(s.isObject(i)?(f=o,c=i,i=o=void 0):s.isObject(o)&&(f=c,c=o,o=void 0),n.call(this,e,c),!s.isInteger(t)||t<0)throw TypeError(\"id must be a non-negative integer\");if(!s.isString(r))throw TypeError(\"type must be a string\");if(void 0!==i&&!u.test(i=i.toString().toLowerCase()))throw TypeError(\"rule must be a string rule\");if(void 0!==o&&!s.isString(o))throw TypeError(\"extend must be a string\");this.rule=i&&\"optional\"!==i?i:void 0,this.type=r,this.id=t,this.extend=o||void 0,this.required=\"required\"===i,this.optional=!this.required,this.repeated=\"repeated\"===i,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!s.Long&&void 0!==a.long[r],this.bytes=\"bytes\"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=f}c.fromJSON=function(e,t){return new c(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(c.prototype,\"packed\",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption(\"packed\")),this._packed}}),c.prototype.setOption=function(e,t,r){return\"packed\"===e&&(this._packed=null),n.prototype.setOption.call(this,e,t,r)},c.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject([\"rule\",\"optional\"!==this.rule&&this.rule||void 0,\"type\",this.type,\"id\",this.id,\"extend\",this.extend,\"options\",this.options,\"comment\",t?this.comment:void 0])},c.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=a.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof o&&\"string\"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof o)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=s.Long.fromNumber(this.typeDefault,\"u\"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&\"string\"==typeof this.typeDefault){var e;s.base64.test(this.typeDefault)?s.base64.decode(this.typeDefault,e=s.newBuffer(s.base64.length(this.typeDefault)),0):s.utf8.write(this.typeDefault,e=s.newBuffer(s.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=s.emptyObject:this.repeated?this.defaultValue=s.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),n.prototype.resolve.call(this)},c.d=function(e,t,r,n){return\"function\"==typeof t?t=s.decorateType(t).name:t&&\"object\"==typeof t&&(t=s.decorateEnum(t).name),function(i,o){s.decorateType(i.constructor).add(new c(o,e,t,r,{default:n}))}},c._configure=function(e){i=e}},function(e,t,r){\"use strict\";(function(e){r.d(t,\"a\",(function(){return o})),r.d(t,\"b\",(function(){return a}));var n=r(7),i=r(46);function o(){return!(\"object\"===(void 0===e?\"undefined\":Object(n.a)(e))&&\"[object process]\"===String(e)&&!e.browser)||Object(i.a)()}function a(){return o()&&\"undefined\"!=typeof document}}).call(this,r(38))},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return y}));var n=r(6),i=r(13),o=r(10),a=r(5),s=r(12),u=r(48),c=r(3),f=r(4),l=r(8),p=r(20),h=[0,0,0],d={},y=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(n.a)(this,t),e=Object(i.a)(this,Object(o.a)(t).call(this,-0,-0,-0)),1===arguments.length&&Object(c.m)(r)?e.copy(r):(c.f.debug&&(Object(f.a)(r),Object(f.a)(a),Object(f.a)(s)),e[0]=r,e[1]=a,e[2]=s),e}return Object(s.a)(t,e),Object(a.a)(t,null,[{key:\"ZERO\",get:function(){return d.ZERO=d.ZERO||Object.freeze(new t(0,0,0,0))}}]),Object(a.a)(t,[{key:\"set\",value:function(e,t,r){return this[0]=e,this[1]=t,this[2]=r,this.check()}},{key:\"copy\",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}},{key:\"fromObject\",value:function(e){return c.f.debug&&(Object(f.a)(e.x),Object(f.a)(e.y),Object(f.a)(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}},{key:\"toObject\",value:function(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}},{key:\"angle\",value:function(e){return l.a(this,e)}},{key:\"cross\",value:function(e){return l.c(this,this,e),this.check()}},{key:\"rotateX\",value:function(e){var t=e.radians,r=e.origin,n=void 0===r?h:r;return l.i(this,this,n,t),this.check()}},{key:\"rotateY\",value:function(e){var t=e.radians,r=e.origin,n=void 0===r?h:r;return l.j(this,this,n,t),this.check()}},{key:\"rotateZ\",value:function(e){var t=e.radians,r=e.origin,n=void 0===r?h:r;return l.k(this,this,n,t),this.check()}},{key:\"transform\",value:function(e){return this.transformAsPoint(e)}},{key:\"transformAsPoint\",value:function(e){return l.m(this,this,e),this.check()}},{key:\"transformAsVector\",value:function(e){return Object(p.c)(this,this,e),this.check()}},{key:\"transformByMatrix3\",value:function(e){return l.l(this,this,e),this.check()}},{key:\"transformByMatrix2\",value:function(e){return Object(p.b)(this,this,e),this.check()}},{key:\"transformByQuaternion\",value:function(e){return l.n(this,this,e),this.check()}},{key:\"ELEMENTS\",get:function(){return 3}},{key:\"z\",get:function(){return this[2]},set:function(e){this[2]=Object(f.a)(e)}}]),t}(u.a)},function(e,t,r){\"use strict\";(function(e,n){r.d(t,\"a\",(function(){return a})),r.d(t,\"b\",(function(){return s}));var i=r(7),o={self:\"undefined\"!=typeof self&&self,window:\"undefined\"!=typeof window&&window,global:void 0!==e&&e,document:\"undefined\"!=typeof document&&document},a=o.global||o.self||o.window,s=\"object\"!==(void 0===n?\"undefined\":Object(i.a)(n))||\"[object process]\"!==String(n)||n.browser,u=void 0!==n&&n.version&&n.version.match(/v([0-9]*)/);u&&parseFloat(u[1])}).call(this,r(35),r(38))},function(e,t){var r;r=function(){return this}();try{r=r||new Function(\"return this\")()}catch(e){\"object\"==typeof window&&(r=window)}e.exports=r},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),Object.defineProperty(t,\"XVIZ_GLTF_EXTENSION\",{enumerable:!0,get:function(){return n.XVIZ_GLTF_EXTENSION}}),t.STATE_UPDATE_TYPE=t.XVIZ_MESSAGE_TYPE=void 0;var n=r(30);t.XVIZ_MESSAGE_TYPE={METADATA:\"METADATA\",TIMESLICE:\"TIMESLICE\",DONE:\"DONE\",VIDEO_METADATA:\"VIDEO_METADATA\",VIDEO_FRAME:\"VIDEO_FRAME\",ERROR:\"ERROR\",INCOMPLETE:\"INCOMPLETE\"};t.STATE_UPDATE_TYPE={COMPLETE_STATE:\"COMPLETE\",INCREMENTAL:\"INCREMENTAL\",PERSISTENT:\"PERSISTENT\",SNAPSHOT:\"INCREMENTAL\"}},function(e,t,r){\"use strict\";\"undefined\"==typeof TextDecoder&&r(144),e.exports={TextEncoder:TextEncoder,TextDecoder:TextDecoder}},function(e,t){var r,n,i=e.exports={};function o(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r=\"function\"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n=\"function\"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],f=!1,l=-1;function p(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&h())}function h(){if(!f){var e=s(p);f=!0;for(var t=c.length;t;){for(u=c,c=[];++l<t;)u&&u[l].run();l=-1,t=c.length}u=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||f||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title=\"browser\",i.browser=!0,i.env={},i.argv=[],i.version=\"\",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error(\"process.binding is not supported\")},i.cwd=function(){return\"/\"},i.chdir=function(e){throw new Error(\"process.chdir is not supported\")},i.umask=function(){return 0}},function(e,t,r){\"use strict\";r.d(t,\"d\",(function(){return o})),r.d(t,\"b\",(function(){return a})),r.d(t,\"a\",(function(){return s})),r.d(t,\"c\",(function(){return u}));var n=\"\",i={};function o(e){n=e}function a(){return n}function s(e){Object.assign(i,e)}function u(e){for(var t in i)if(e.startsWith(t)){var r=i[t];e=e.replace(t,r)}return e.startsWith(\"http://\")||e.startsWith(\"https://\")||(e=\"\".concat(n).concat(e)),e}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getAccessorTypeFromSize=function(e){return i[e-1]||i[0]},t.getComponentTypeFromArray=function(e){var t=o.get(e.constructor);if(!t)throw new Error(\"Illegal typed array\");return t},t.getAccessorArrayTypeAndLength=function(e,t){var r=u[e.componentType],i=a[e.type],o=s[e.componentType],c=e.count*i,f=e.count*i*o;return(0,n.assert)(f>=0&&f<=t.byteLength),{ArrayType:r,length:c,byteLength:f}},t.getFullUri=function(e,t){return e.startsWith(\"data:\")||e.startsWith(\"http:\")||e.startsWith(\"https:\")?e:t.substr(0,t.lastIndexOf(\"/\")+1)+e},t.ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY=t.ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE=t.ATTRIBUTE_TYPE_TO_COMPONENTS=void 0;var n=r(60),i=[\"SCALAR\",\"VEC2\",\"VEC3\",\"VEC4\"],o=new Map([[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126]]),a={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16};t.ATTRIBUTE_TYPE_TO_COMPONENTS=a;var s={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4};t.ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE=s;var u={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};t.ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY=u},function(e,t,r){\"use strict\";function n(e,t,r,n){var i=n?\" !== \":\" === \",o=n?\" || \":\" && \",a=n?\"!\":\"\",s=n?\"\":\"!\";switch(e){case\"null\":return t+i+\"null\";case\"array\":return a+\"Array.isArray(\"+t+\")\";case\"object\":return\"(\"+a+t+o+\"typeof \"+t+i+'\"object\"'+o+s+\"Array.isArray(\"+t+\"))\";case\"integer\":return\"(typeof \"+t+i+'\"number\"'+o+s+\"(\"+t+\" % 1)\"+o+t+i+t+(r?o+a+\"isFinite(\"+t+\")\":\"\")+\")\";case\"number\":return\"(typeof \"+t+i+'\"'+e+'\"'+(r?o+a+\"isFinite(\"+t+\")\":\"\")+\")\";default:return\"typeof \"+t+i+'\"'+e+'\"'}}e.exports={copy:function(e,t){for(var r in t=t||{},e)t[r]=e[r];return t},checkDataType:n,checkDataTypes:function(e,t,r){switch(e.length){case 1:return n(e[0],t,r,!0);default:var i=\"\",a=o(e);for(var s in a.array&&a.object&&(i=a.null?\"(\":\"(!\"+t+\" || \",i+=\"typeof \"+t+' !== \"object\")',delete a.null,delete a.array,delete a.object),a.number&&delete a.integer,a)i+=(i?\" && \":\"\")+n(s,t,r,!0);return i}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++){var o=t[n];(i[o]||\"array\"===e&&\"array\"===o)&&(r[r.length]=o)}if(r.length)return r}else{if(i[t])return[t];if(\"array\"===e&&\"array\"===t)return[\"array\"]}},toHash:o,getProperty:u,escapeQuotes:c,equal:r(76),ucs2length:r(158),varOccurences:function(e,t){t+=\"[^0-9]\";var r=e.match(new RegExp(t,\"g\"));return r?r.length:0},varReplace:function(e,t,r){return t+=\"([^0-9])\",r=r.replace(/\\$/g,\"$$$$\"),e.replace(new RegExp(t,\"g\"),r+\"$1\")},schemaHasRules:function(e,t){if(\"boolean\"==typeof e)return!e;for(var r in e)if(t[r])return!0},schemaHasRulesExcept:function(e,t,r){if(\"boolean\"==typeof e)return!e&&\"not\"!=r;for(var n in e)if(n!=r&&t[n])return!0},schemaUnknownRules:function(e,t){if(\"boolean\"==typeof e)return;for(var r in e)if(!t[r])return r},toQuotedString:f,getPathExpr:function(e,t,r,n){return h(e,r?\"'/' + \"+t+(n?\"\":\".replace(/~/g, '~0').replace(/\\\\//g, '~1')\"):n?\"'[' + \"+t+\" + ']'\":\"'[\\\\'' + \"+t+\" + '\\\\']'\")},getPath:function(e,t,r){var n=f(r?\"/\"+d(t):u(t));return h(e,n)},getData:function(e,t,r){var n,i,o,a;if(\"\"===e)return\"rootData\";if(\"/\"==e[0]){if(!l.test(e))throw new Error(\"Invalid JSON-pointer: \"+e);i=e,o=\"rootData\"}else{if(!(a=e.match(p)))throw new Error(\"Invalid JSON-pointer: \"+e);if(n=+a[1],\"#\"==(i=a[2])){if(n>=t)throw new Error(\"Cannot access property/index \"+n+\" levels up, current level is \"+t);return r[t-n]}if(n>t)throw new Error(\"Cannot access data \"+n+\" levels up, current level is \"+t);if(o=\"data\"+(t-n||\"\"),!i)return o}for(var s=o,c=i.split(\"/\"),f=0;f<c.length;f++){var h=c[f];h&&(o+=u(y(h)),s+=\" && \"+o)}return s},unescapeFragment:function(e){return y(decodeURIComponent(e))},unescapeJsonPointer:y,escapeFragment:function(e){return encodeURIComponent(d(e))},escapeJsonPointer:d};var i=o([\"string\",\"number\",\"integer\",\"boolean\",\"null\"]);function o(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var a=/^[a-z$_][a-z$_0-9]*$/i,s=/'|\\\\/g;function u(e){return\"number\"==typeof e?\"[\"+e+\"]\":a.test(e)?\".\"+e:\"['\"+c(e)+\"']\"}function c(e){return e.replace(s,\"\\\\$&\").replace(/\\n/g,\"\\\\n\").replace(/\\r/g,\"\\\\r\").replace(/\\f/g,\"\\\\f\").replace(/\\t/g,\"\\\\t\")}function f(e){return\"'\"+c(e)+\"'\"}var l=/^\\/(?:[^~]|~0|~1)*$/,p=/^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;function h(e,t){return'\"\"'==e?t:(e+\" + \"+t).replace(/([^\\\\])' \\+ '/g,\"$1\")}function d(e){return e.replace(/~/g,\"~0\").replace(/\\//g,\"~1\")}function y(e){return e.replace(/~1/g,\"/\").replace(/~0/g,\"~\")}},function(e,t,r){\"use strict\";e.exports=o,o.className=\"ReflectionObject\";var n,i=r(17);function o(e,t){if(!i.isString(e))throw TypeError(\"name must be a string\");if(t&&!i.isObject(t))throw TypeError(\"options must be an object\");this.options=t,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(o.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(\".\")}}}),o.prototype.toJSON=function(){throw Error()},o.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof n&&t._handleAdd(this)},o.prototype.onRemove=function(e){var t=e.root;t instanceof n&&t._handleRemove(this),this.parent=null,this.resolved=!1},o.prototype.resolve=function(){return this.resolved||this.root instanceof n&&(this.resolved=!0),this},o.prototype.getOption=function(e){if(this.options)return this.options[e]},o.prototype.setOption=function(e,t,r){return r&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},o.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)this.setOption(r[n],e[r[n]],t);return this},o.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+\" \"+t:e},o._configure=function(e){n=e}},function(e,t,r){\"use strict\";var n=t,i=r(17),o=[\"double\",\"float\",\"int32\",\"uint32\",\"sint32\",\"fixed32\",\"sfixed32\",\"int64\",\"uint64\",\"sint64\",\"fixed64\",\"sfixed64\",\"bool\",\"string\",\"bytes\"];function a(e,t){var r=0,n={};for(t|=0;r<e.length;)n[o[r+t]]=e[r++];return n}n.basic=a([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=a([0,0,0,0,0,0,0,0,0,0,0,0,!1,\"\",i.emptyArray,null]),n.long=a([0,0,0,1,1],7),n.mapKey=a([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=a([1,5,0,0,0,5,5,0,0,0,1,1,0])},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.XVIZ_GLTF_EXTENSION=t.XVIZ_MESSAGE_NAMESPACE=t.XVIZ_FORMAT=void 0;var n=Object.freeze({BINARY_GLB:\"BINARY_GLB\",BINARY_PBE:\"BINARY_PBE\",JSON_BUFFER:\"JSON_BUFFER\",JSON_STRING:\"JSON_STRING\",OBJECT:\"OBJECT\"});t.XVIZ_FORMAT=n;t.XVIZ_MESSAGE_NAMESPACE=\"xviz\";t.XVIZ_GLTF_EXTENSION=\"AVS_xviz\"},function(e,t,r){\"use strict\";function n(e,t){if(!e)throw new Error(t||\"loader assertion failed.\")}r.d(t,\"a\",(function(){return n}))},function(e,t,r){\"use strict\";(function(e){r.d(t,\"a\",(function(){return i}));var n=r(7);function i(t){if(\"undefined\"!=typeof window&&\"object\"===Object(n.a)(window.process)&&\"renderer\"===window.process.type)return!0;if(void 0!==e&&\"object\"===Object(n.a)(e.versions)&&Boolean(e.versions.electron))return!0;var r=\"object\"===(\"undefined\"==typeof navigator?\"undefined\":Object(n.a)(navigator))&&\"string\"==typeof navigator.userAgent&&navigator.userAgent,i=t||r;return!!(i&&i.indexOf(\"Electron\")>=0)}}).call(this,r(38))},function(e,t,r){\"use strict\";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,\"a\",(function(){return n}))},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return l}));var n=r(6),i=r(5),o=r(13),a=r(10),s=r(12),u=r(29),c=r(4),f=r(19),l=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:\"copy\",value:function(e){return Object(f.a)(!1),this}},{key:\"len\",value:function(){return Math.sqrt(this.lengthSquared())}},{key:\"magnitude\",value:function(){return this.len()}},{key:\"lengthSquared\",value:function(){for(var e=0,t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}},{key:\"magnitudeSquared\",value:function(){return this.lengthSquared()}},{key:\"distance\",value:function(e){return Math.sqrt(this.distanceSquared(e))}},{key:\"distanceSquared\",value:function(e){for(var t=0,r=0;r<this.ELEMENTS;++r){var n=this[r]-e[r];t+=n*n}return Object(c.a)(t)}},{key:\"dot\",value:function(e){for(var t=0,r=0;r<this.ELEMENTS;++r)t+=this[r]*e[r];return Object(c.a)(t)}},{key:\"normalize\",value:function(){var e=this.magnitude();if(0!==e)for(var t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}},{key:\"multiply\",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++)for(var o=i[n],a=0;a<this.ELEMENTS;++a)this[a]*=o[a];return this.check()}},{key:\"divide\",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++)for(var o=i[n],a=0;a<this.ELEMENTS;++a)this[a]/=o[a];return this.check()}},{key:\"lengthSq\",value:function(){return this.lengthSquared()}},{key:\"distanceTo\",value:function(e){return this.distance(e)}},{key:\"distanceToSquared\",value:function(e){return this.distanceSquared(e)}},{key:\"getComponent\",value:function(e){return Object(f.a)(e>=0&&e<this.ELEMENTS,\"index is out of range\"),Object(c.a)(this[e])}},{key:\"setComponent\",value:function(e,t){return Object(f.a)(e>=0&&e<this.ELEMENTS,\"index is out of range\"),this[e]=t,this.check()}},{key:\"addVectors\",value:function(e,t){return this.copy(e).add(t)}},{key:\"subVectors\",value:function(e,t){return this.copy(e).subtract(t)}},{key:\"multiplyVectors\",value:function(e,t){return this.copy(e).multiply(t)}},{key:\"addScaledVector\",value:function(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}},{key:\"x\",get:function(){return this[0]},set:function(e){this[0]=Object(c.a)(e)}},{key:\"y\",get:function(){return this[1]},set:function(e){this[1]=Object(c.a)(e)}}]),t}(u.a)},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return d}));var n=r(50),i=r(6),o=r(13),a=r(10),s=r(5),u=r(12),c=r(29),f=r(3),l=r(4),p=r(56),h=\"Unknown Euler angle order\";var d=function(e){function t(){var e,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DefaultOrder;(Object(i.a)(this,t),e=Object(o.a)(this,Object(a.a)(t).call(this,-0,-0,-0,-0)),arguments.length>0&&Array.isArray(arguments[0]))?(r=e).fromVector3.apply(r,arguments):e.set(n,s,u,c);return e}return Object(u.a)(t,e),Object(s.a)(t,[{key:\"ELEMENTS\",get:function(){return 4}}],[{key:\"rotationOrder\",value:function(e){return t.RotationOrders[e]}},{key:\"ZYX\",get:function(){return 0}},{key:\"YXZ\",get:function(){return 1}},{key:\"XZY\",get:function(){return 2}},{key:\"ZXY\",get:function(){return 3}},{key:\"YZX\",get:function(){return 4}},{key:\"XYZ\",get:function(){return 5}},{key:\"RollPitchYaw\",get:function(){return 0}},{key:\"DefaultOrder\",get:function(){return t.ZYX}},{key:\"RotationOrders\",get:function(){return[\"ZYX\",\"YXZ\",\"XZY\",\"ZXY\",\"YZX\",\"XYZ\"]}}]),Object(s.a)(t,[{key:\"fromQuaternion\",value:function(e){var r=Object(n.a)(e,4),i=r[0],o=r[1],a=r[2],s=r[3],u=o*o,c=-2*(u+a*a)+1,f=2*(i*o+s*a),l=-2*(i*a-s*o),p=2*(o*a+s*i),h=-2*(i*i+u)+1;return l=(l=l>1?1:l)<-1?-1:l,new t(Math.atan2(p,h),Math.asin(l),Math.atan2(f,c),t.RollPitchYaw)}},{key:\"copy\",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=Number.isFinite(e[3])||this.order,this.check()}},{key:\"set\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;return this[0]=e,this[1]=t,this[2]=r,this[3]=Number.isFinite(n)?n:this[3],this.check()}},{key:\"validate\",value:function(){return(e=this[3])>=0&&e<6&&Number.isFinite(this[0])&&Number.isFinite(this[1])&&Number.isFinite(this[2]);var e}},{key:\"toArray\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}},{key:\"toArray4\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e}},{key:\"toVector3\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=this[0],e[1]=this[1],e[2]=this[2],e}},{key:\"fromVector3\",value:function(e,t){return this.set(e[0],e[1],e[2],Number.isFinite(t)?t:this[3])}},{key:\"fromArray\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[0]=e[0+t],this[1]=e[1+t],this[2]=e[2+t],void 0!==e[3]&&(this[3]=e[3]),this.check()}},{key:\"fromRollPitchYaw\",value:function(e,r,n){return this.set(e,r,n,t.ZYX)}},{key:\"fromRotationMatrix\",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.DefaultOrder;return this._fromRotationMatrix(e,r),this.check()}},{key:\"getRotationMatrix\",value:function(e){return this._getRotationMatrix(e)}},{key:\"getQuaternion\",value:function(){var e=new p.a;switch(this[4]){case t.XYZ:return e.rotateX(this[0]).rotateY(this[1]).rotateZ(this[2]);case t.YXZ:return e.rotateY(this[0]).rotateX(this[1]).rotateZ(this[2]);case t.ZXY:return e.rotateZ(this[0]).rotateX(this[1]).rotateY(this[2]);case t.ZYX:return e.rotateZ(this[0]).rotateY(this[1]).rotateX(this[2]);case t.YZX:return e.rotateY(this[0]).rotateZ(this[1]).rotateX(this[2]);case t.XZY:return e.rotateX(this[0]).rotateZ(this[1]).rotateY(this[2]);default:throw new Error(h)}}},{key:\"_fromRotationMatrix\",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.DefaultOrder,n=e.elements,i=n[0],o=n[4],a=n[8],s=n[1],u=n[5],c=n[9],l=n[2],p=n[6],d=n[10];switch(r=r||this[3]){case t.XYZ:this[1]=Math.asin(Object(f.d)(a,-1,1)),Math.abs(a)<.99999?(this[0]=Math.atan2(-c,d),this[2]=Math.atan2(-o,i)):(this[0]=Math.atan2(p,u),this[2]=0);break;case t.YXZ:this[0]=Math.asin(-Object(f.d)(c,-1,1)),Math.abs(c)<.99999?(this[1]=Math.atan2(a,d),this[2]=Math.atan2(s,u)):(this[1]=Math.atan2(-l,i),this[2]=0);break;case t.ZXY:this[0]=Math.asin(Object(f.d)(p,-1,1)),Math.abs(p)<.99999?(this[1]=Math.atan2(-l,d),this[2]=Math.atan2(-o,u)):(this[1]=0,this[2]=Math.atan2(s,i));break;case t.ZYX:this[1]=Math.asin(-Object(f.d)(l,-1,1)),Math.abs(l)<.99999?(this[0]=Math.atan2(p,d),this[2]=Math.atan2(s,i)):(this[0]=0,this[2]=Math.atan2(-o,u));break;case t.YZX:this[2]=Math.asin(Object(f.d)(s,-1,1)),Math.abs(s)<.99999?(this[0]=Math.atan2(-c,u),this[1]=Math.atan2(-l,i)):(this[0]=0,this[1]=Math.atan2(a,d));break;case t.XZY:this[2]=Math.asin(-Object(f.d)(o,-1,1)),Math.abs(o)<.99999?(this[0]=Math.atan2(p,u),this[1]=Math.atan2(a,i)):(this[0]=Math.atan2(-c,d),this[1]=0);break;default:throw new Error(h)}return this[3]=r,this}},{key:\"_getRotationMatrix\",value:function(e){var r=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],n=this.x,i=this.y,o=this.z,a=Math.cos(n),s=Math.cos(i),u=Math.cos(o),c=Math.sin(n),f=Math.sin(i),l=Math.sin(o);switch(this[3]){case t.XYZ:var p=a*u,d=a*l,y=c*u,v=c*l;r[0]=s*u,r[4]=-s*l,r[8]=f,r[1]=d+y*f,r[5]=p-v*f,r[9]=-c*s,r[2]=v-p*f,r[6]=y+d*f,r[10]=a*s;break;case t.YXZ:var m=s*u,g=s*l,b=f*u,O=f*l;r[0]=m+O*c,r[4]=b*c-g,r[8]=a*f,r[1]=a*l,r[5]=a*u,r[9]=-c,r[2]=g*c-b,r[6]=O+m*c,r[10]=a*s;break;case t.ZXY:var _=s*u,w=s*l,E=f*u,j=f*l;r[0]=_-j*c,r[4]=-a*l,r[8]=E+w*c,r[1]=w+E*c,r[5]=a*u,r[9]=j-_*c,r[2]=-a*f,r[6]=c,r[10]=a*s;break;case t.ZYX:var P=a*u,S=a*l,k=c*u,T=c*l;r[0]=s*u,r[4]=k*f-S,r[8]=P*f+T,r[1]=s*l,r[5]=T*f+P,r[9]=S*f-k,r[2]=-f,r[6]=c*s,r[10]=a*s;break;case t.YZX:var A=a*s,x=a*f,I=c*s,R=c*f;r[0]=s*u,r[4]=R-A*l,r[8]=I*l+x,r[1]=l,r[5]=a*u,r[9]=-c*u,r[2]=-f*u,r[6]=x*l+I,r[10]=A-R*l;break;case t.XZY:var M=a*s,N=a*f,V=c*s,D=c*f;r[0]=s*u,r[4]=-l,r[8]=f*u,r[1]=M*l+D,r[5]=a*u,r[9]=N*l-V,r[2]=V*l-N,r[6]=c*u,r[10]=D*l+M;break;default:throw new Error(h)}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},{key:\"toQuaternion\",value:function(){var e=Math.cos(.5*this.yaw),t=Math.sin(.5*this.yaw),r=Math.cos(.5*this.roll),n=Math.sin(.5*this.roll),i=Math.cos(.5*this.pitch),o=Math.sin(.5*this.pitch),a=e*r*i+t*n*o,s=e*n*i-t*r*o,u=e*r*o+t*n*i,c=t*r*i-e*n*o;return new p.a(s,u,c,a)}},{key:\"x\",get:function(){return this[0]},set:function(e){this[0]=Object(l.a)(e)}},{key:\"y\",get:function(){return this[1]},set:function(e){this[1]=Object(l.a)(e)}},{key:\"z\",get:function(){return this[2]},set:function(e){this[2]=Object(l.a)(e)}},{key:\"alpha\",get:function(){return this[0]},set:function(e){this[0]=Object(l.a)(e)}},{key:\"beta\",get:function(){return this[1]},set:function(e){this[1]=Object(l.a)(e)}},{key:\"gamma\",get:function(){return this[2]},set:function(e){this[2]=Object(l.a)(e)}},{key:\"phi\",get:function(){return this[0]},set:function(e){this[0]=Object(l.a)(e)}},{key:\"theta\",get:function(){return this[1]},set:function(e){this[1]=Object(l.a)(e)}},{key:\"psi\",get:function(){return this[2]},set:function(e){this[2]=Object(l.a)(e)}},{key:\"roll\",get:function(){return this[0]},set:function(e){this[0]=Object(l.a)(e)}},{key:\"pitch\",get:function(){return this[1]},set:function(e){this[1]=Object(l.a)(e)}},{key:\"yaw\",get:function(){return this[2]},set:function(e){this[2]=Object(l.a)(e)}},{key:\"order\",get:function(){return this[3]},set:function(e){this[3]=function(e){if(e<0&&e>=6)throw new Error(h);return e}(e)}}]),t}(c.a)},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return i}));var n=r(65);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return j}));var n=r(50),i=r(6),o=r(13),a=r(10),s=r(5),u=r(12),c=r(4),f=r(66),l=r(20),p=r(1);function h(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],f=t[7],l=t[8],p=t[9],h=t[10],d=t[11],y=t[12],v=t[13],m=t[14],g=t[15],b=r[0],O=r[1],_=r[2],w=r[3];return e[0]=b*n+O*s+_*l+w*y,e[1]=b*i+O*u+_*p+w*v,e[2]=b*o+O*c+_*h+w*m,e[3]=b*a+O*f+_*d+w*g,b=r[4],O=r[5],_=r[6],w=r[7],e[4]=b*n+O*s+_*l+w*y,e[5]=b*i+O*u+_*p+w*v,e[6]=b*o+O*c+_*h+w*m,e[7]=b*a+O*f+_*d+w*g,b=r[8],O=r[9],_=r[10],w=r[11],e[8]=b*n+O*s+_*l+w*y,e[9]=b*i+O*u+_*p+w*v,e[10]=b*o+O*c+_*h+w*m,e[11]=b*a+O*f+_*d+w*g,b=r[12],O=r[13],_=r[14],w=r[15],e[12]=b*n+O*s+_*l+w*y,e[13]=b*i+O*u+_*p+w*v,e[14]=b*o+O*c+_*h+w*m,e[15]=b*a+O*f+_*d+w*g,e}function d(e,t,r){var n=r[0],i=r[1],o=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function y(e,t,r,n,i){var o,a=1/Math.tan(t/2);return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(n-i),e[10]=(i+n)*o,e[14]=2*i*n*o):(e[10]=-1,e[14]=-2*n),e}function v(e,t,r,n){var i,o,a,s,u,c,f,l,h,d,y=t[0],v=t[1],m=t[2],g=n[0],b=n[1],O=n[2],_=r[0],w=r[1],E=r[2];return Math.abs(y-_)<p.b&&Math.abs(v-w)<p.b&&Math.abs(m-E)<p.b?function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}(e):(f=y-_,l=v-w,h=m-E,i=b*(h*=d=1/Math.hypot(f,l,h))-O*(l*=d),o=O*(f*=d)-g*h,a=g*l-b*f,(d=Math.hypot(i,o,a))?(i*=d=1/d,o*=d,a*=d):(i=0,o=0,a=0),s=l*a-h*o,u=h*i-f*a,c=f*o-l*i,(d=Math.hypot(s,u,c))?(s*=d=1/d,u*=d,c*=d):(s=0,u=0,c=0),e[0]=i,e[1]=s,e[2]=f,e[3]=0,e[4]=o,e[5]=u,e[6]=l,e[7]=0,e[8]=a,e[9]=c,e[10]=h,e[11]=0,e[12]=-(i*y+o*v+a*m),e[13]=-(s*y+u*v+c*m),e[14]=-(f*y+l*v+h*m),e[15]=1,e)}var m=r(27),g=r(8),b=r(16),O=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),_=Object.freeze([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),w=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL0ROW3:3,COL1ROW0:4,COL1ROW1:5,COL1ROW2:6,COL1ROW3:7,COL2ROW0:8,COL2ROW1:9,COL2ROW2:10,COL2ROW3:11,COL3ROW0:12,COL3ROW1:13,COL3ROW2:14,COL3ROW3:15}),E={},j=function(e){function t(e){var r;return Object(i.a)(this,t),r=Object(o.a)(this,Object(a.a)(t).call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0)),1===arguments.length&&Array.isArray(e)?r.copy(e):r.identity(),r}return Object(u.a)(t,e),Object(s.a)(t,[{key:\"INDICES\",get:function(){return w}},{key:\"ELEMENTS\",get:function(){return 16}},{key:\"RANK\",get:function(){return 4}}],[{key:\"IDENTITY\",get:function(){return E.IDENTITY=E.IDENTITY||Object.freeze(new t(O)),E.IDENTITY}},{key:\"ZERO\",get:function(){return E.ZERO=E.ZERO||Object.freeze(new t(_)),E.ZERO}}]),Object(s.a)(t,[{key:\"copy\",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}},{key:\"set\",value:function(e,t,r,n,i,o,a,s,u,c,f,l,p,h,d,y){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this[4]=i,this[5]=o,this[6]=a,this[7]=s,this[8]=u,this[9]=c,this[10]=f,this[11]=l,this[12]=p,this[13]=h,this[14]=d,this[15]=y,this.check()}},{key:\"setRowMajor\",value:function(e,t,r,n,i,o,a,s,u,c,f,l,p,h,d,y){return this[0]=e,this[1]=i,this[2]=u,this[3]=p,this[4]=t,this[5]=o,this[6]=c,this[7]=h,this[8]=r,this[9]=a,this[10]=f,this[11]=d,this[12]=n,this[13]=s,this[14]=l,this[15]=y,this.check()}},{key:\"toRowMajor\",value:function(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}},{key:\"identity\",value:function(){return this.copy(O)}},{key:\"fromQuaternion\",value:function(e){return function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r+r,s=n+n,u=i+i,c=r*a,f=n*a,l=n*s,p=i*a,h=i*s,d=i*u,y=o*a,v=o*s,m=o*u;e[0]=1-l-d,e[1]=f+m,e[2]=p-v,e[3]=0,e[4]=f-m,e[5]=1-c-d,e[6]=h+y,e[7]=0,e[8]=p+v,e[9]=h-y,e[10]=1-c-l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}(this,e),this.check()}},{key:\"frustum\",value:function(e){var r=e.left,n=e.right,i=e.bottom,o=e.top,a=e.near,s=e.far;return s===1/0?t._computeInfinitePerspectiveOffCenter(this,r,n,i,o,a):function(e,t,r,n,i,o,a){var s=1/(r-t),u=1/(i-n),c=1/(o-a);e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*u,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(i+n)*u,e[10]=(a+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*c,e[15]=0}(this,r,n,i,o,a,s),this.check()}},{key:\"lookAt\",value:function(e,t,r){if(1===arguments.length){var n=e;e=n.eye,t=n.center,r=n.up}return v(this,e,t=t||[0,0,0],r=r||[0,1,0]),this.check()}},{key:\"ortho\",value:function(e){var t=e.left,r=e.right,n=e.bottom,i=e.top,o=e.near,a=void 0===o?.1:o,s=e.far;return function(e,t,r,n,i,o,a){var s=1/(t-r),u=1/(n-i),c=1/(o-a);e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*u,e[14]=(a+o)*c,e[15]=1}(this,t,r,n,i,a,void 0===s?500:s),this.check()}},{key:\"orthographic\",value:function(e){var r=e.fovy,n=void 0===r?45*Math.PI/180:r,i=e.aspect,o=void 0===i?1:i,a=e.focalDistance,s=void 0===a?1:a,u=e.near,c=void 0===u?.1:u,f=e.far,l=void 0===f?500:f;if(n>2*Math.PI)throw Error(\"radians\");var p=n/2,h=s*Math.tan(p),d=h*o;return(new t).ortho({left:-d,right:d,bottom:-h,top:h,near:c,far:l})}},{key:\"perspective\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fovy,r=void 0===t?void 0:t,n=e.fov,i=void 0===n?45*Math.PI/180:n,o=e.aspect,a=void 0===o?1:o,s=e.near,u=void 0===s?.1:s,c=e.far,f=void 0===c?500:c;if((r=r||i)>2*Math.PI)throw Error(\"radians\");return y(this,r,a,u,f),this.check()}},{key:\"determinant\",value:function(){return t=(e=this)[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8],f=e[9],l=e[10],p=e[11],h=e[12],d=e[13],y=e[14],v=e[15],(t*a-r*o)*(l*v-p*y)-(t*s-n*o)*(f*v-p*d)+(t*u-i*o)*(f*y-l*d)+(r*s-n*a)*(c*v-p*h)-(r*u-i*a)*(c*y-l*h)+(n*u-i*s)*(c*d-f*h);var e,t,r,n,i,o,a,s,u,c,f,l,p,h,d,y,v}},{key:\"getScale\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}},{key:\"getTranslation\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}},{key:\"getRotation\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.getScale(t||[-0,-0,-0]),n=1/r[0],i=1/r[1],o=1/r[2];return e[0]=this[0]*n,e[1]=this[1]*i,e[2]=this[2]*o,e[3]=0,e[4]=this[4]*n,e[5]=this[5]*i,e[6]=this[6]*o,e[7]=0,e[8]=this[8]*n,e[9]=this[9]*i,e[10]=this[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{key:\"getRotationMatrix3\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.getScale(t||[-0,-0,-0]),n=1/r[0],i=1/r[1],o=1/r[2];return e[0]=this[0]*n,e[1]=this[1]*i,e[2]=this[2]*o,e[3]=this[4]*n,e[4]=this[5]*i,e[5]=this[6]*o,e[6]=this[8]*n,e[7]=this[9]*i,e[8]=this[10]*o,e}},{key:\"transpose\",value:function(){return function(e,t){if(e===t){var r=t[1],n=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15]}(this,this),this.check()}},{key:\"invert\",value:function(){var e,t,r,n,i,o,a,s,u,c,f,l,p,h,d,y,v,m,g,b,O,_,w,E,j,P,S,k,T,A,x;return e=this,r=(t=this)[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],f=t[8],l=t[9],p=t[10],h=t[11],d=t[12],y=t[13],v=t[14],m=t[15],(x=(g=r*s-n*a)*(A=p*m-h*v)-(b=r*u-i*a)*(T=l*m-h*y)+(O=r*c-o*a)*(k=l*v-p*y)+(_=n*u-i*s)*(S=f*m-h*d)-(w=n*c-o*s)*(P=f*v-p*d)+(E=i*c-o*u)*(j=f*y-l*d))&&(x=1/x,e[0]=(s*A-u*T+c*k)*x,e[1]=(i*T-n*A-o*k)*x,e[2]=(y*E-v*w+m*_)*x,e[3]=(p*w-l*E-h*_)*x,e[4]=(u*S-a*A-c*P)*x,e[5]=(r*A-i*S+o*P)*x,e[6]=(v*O-d*E-m*b)*x,e[7]=(f*E-p*O+h*b)*x,e[8]=(a*T-s*S+c*j)*x,e[9]=(n*S-r*T-o*j)*x,e[10]=(d*w-y*O+m*g)*x,e[11]=(l*O-f*w-h*g)*x,e[12]=(s*P-a*k-u*j)*x,e[13]=(r*k-n*P+i*j)*x,e[14]=(y*b-d*_-v*g)*x,e[15]=(f*_-l*b+p*g)*x),this.check()}},{key:\"multiplyLeft\",value:function(e){return h(this,e,this),this.check()}},{key:\"multiplyRight\",value:function(e){return h(this,this,e),this.check()}},{key:\"rotateX\",value:function(e){var t,r,n,i,o,a,s,u,c,f,l,p,h;return t=this,r=this,n=e,i=Math.sin(n),o=Math.cos(n),a=r[4],s=r[5],u=r[6],c=r[7],f=r[8],l=r[9],p=r[10],h=r[11],r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=a*o+f*i,t[5]=s*o+l*i,t[6]=u*o+p*i,t[7]=c*o+h*i,t[8]=f*o-a*i,t[9]=l*o-s*i,t[10]=p*o-u*i,t[11]=h*o-c*i,this.check()}},{key:\"rotateY\",value:function(e){var t,r,n,i,o,a,s,u,c,f,l,p,h;return t=this,r=this,n=e,i=Math.sin(n),o=Math.cos(n),a=r[0],s=r[1],u=r[2],c=r[3],f=r[8],l=r[9],p=r[10],h=r[11],r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=a*o-f*i,t[1]=s*o-l*i,t[2]=u*o-p*i,t[3]=c*o-h*i,t[8]=a*i+f*o,t[9]=s*i+l*o,t[10]=u*i+p*o,t[11]=c*i+h*o,this.check()}},{key:\"rotateZ\",value:function(e){var t,r,n,i,o,a,s,u,c,f,l,p,h;return t=this,r=this,n=e,i=Math.sin(n),o=Math.cos(n),a=r[0],s=r[1],u=r[2],c=r[3],f=r[4],l=r[5],p=r[6],h=r[7],r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=a*o+f*i,t[1]=s*o+l*i,t[2]=u*o+p*i,t[3]=c*o+h*i,t[4]=f*o-a*i,t[5]=l*o-s*i,t[6]=p*o-u*i,t[7]=h*o-c*i,this.check()}},{key:\"rotateXYZ\",value:function(e){var t=Object(n.a)(e,3),r=t[0],i=t[1],o=t[2];return this.rotateX(r).rotateY(i).rotateZ(o)}},{key:\"rotateAxis\",value:function(e,t){return function(e,t,r,n){var i,o,a,s,u,c,f,l,h,d,y,v,m,g,b,O,_,w,E,j,P,S,k,T,A=n[0],x=n[1],I=n[2],R=Math.hypot(A,x,I);R<p.b||(A*=R=1/R,x*=R,I*=R,i=Math.sin(r),a=1-(o=Math.cos(r)),s=t[0],u=t[1],c=t[2],f=t[3],l=t[4],h=t[5],d=t[6],y=t[7],v=t[8],m=t[9],g=t[10],b=t[11],O=A*A*a+o,_=x*A*a+I*i,w=I*A*a-x*i,E=A*x*a-I*i,j=x*x*a+o,P=I*x*a+A*i,S=A*I*a+x*i,k=x*I*a-A*i,T=I*I*a+o,e[0]=s*O+l*_+v*w,e[1]=u*O+h*_+m*w,e[2]=c*O+d*_+g*w,e[3]=f*O+y*_+b*w,e[4]=s*E+l*j+v*P,e[5]=u*E+h*j+m*P,e[6]=c*E+d*j+g*P,e[7]=f*E+y*j+b*P,e[8]=s*S+l*k+v*T,e[9]=u*S+h*k+m*T,e[10]=c*S+d*k+g*T,e[11]=f*S+y*k+b*T,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]))}(this,this,e,t),this.check()}},{key:\"scale\",value:function(e){return Array.isArray(e)?d(this,this,e):d(this,this,[e,e,e]),this.check()}},{key:\"translate\",value:function(e){var t,r,n,i,o,a,s,u,c,f,l,p,h,d,y,v,m,g;return t=this,r=this,v=(n=e)[0],m=n[1],g=n[2],r===t?(t[12]=r[0]*v+r[4]*m+r[8]*g+r[12],t[13]=r[1]*v+r[5]*m+r[9]*g+r[13],t[14]=r[2]*v+r[6]*m+r[10]*g+r[14],t[15]=r[3]*v+r[7]*m+r[11]*g+r[15]):(i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],c=r[5],f=r[6],l=r[7],p=r[8],h=r[9],d=r[10],y=r[11],t[0]=i,t[1]=o,t[2]=a,t[3]=s,t[4]=u,t[5]=c,t[6]=f,t[7]=l,t[8]=p,t[9]=h,t[10]=d,t[11]=y,t[12]=i*v+u*m+p*g+r[12],t[13]=o*v+c*m+h*g+r[13],t[14]=a*v+f*m+d*g+r[14],t[15]=s*v+l*m+y*g+r[15]),this.check()}},{key:\"transform\",value:function(e,t){return 4===e.length?(t=b.n(t||[-0,-0,-0,-0],e,this),Object(c.b)(t,4),t):this.transformAsPoint(e,t)}},{key:\"transformAsPoint\",value:function(e,t){switch(e.length){case 2:t=m.d(t||[-0,-0],e,this);break;case 3:t=g.m(t||[-0,-0,-0],e,this);break;default:throw new Error(\"Illegal vector\")}return Object(c.b)(t,e.length),t}},{key:\"transformAsVector\",value:function(e,t){switch(e.length){case 2:t=Object(l.a)(t||[-0,-0],e,this);break;case 3:t=Object(l.c)(t||[-0,-0,-0],e,this);break;default:throw new Error(\"Illegal vector\")}return Object(c.b)(t,e.length),t}},{key:\"makeRotationX\",value:function(e){return this.identity().rotateX(e)}},{key:\"makeTranslation\",value:function(e,t,r){return this.identity().translate([e,t,r])}},{key:\"transformPoint\",value:function(e,t){return Object(c.c)(\"Matrix4.transformPoint\",\"3.0\"),this.transformAsPoint(e,t)}},{key:\"transformVector\",value:function(e,t){return Object(c.c)(\"Matrix4.transformVector\",\"3.0\"),this.transformAsPoint(e,t)}},{key:\"transformDirection\",value:function(e,t){return Object(c.c)(\"Matrix4.transformDirection\",\"3.0\"),this.transformAsVector(e,t)}}],[{key:\"_computeInfinitePerspectiveOffCenter\",value:function(e,t,r,n,i,o){var a=2*o/(r-t),s=2*o/(i-n),u=(r+t)/(r-t),c=(i+n)/(i-n),f=-2*o;return e[0]=a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=u,e[9]=c,e[10]=-1,e[11]=-1,e[12]=0,e[13]=0,e[14]=f,e[15]=0,e}}]),t}(f.a)},function(e,t,r){\"use strict\";r.d(t,\"c\",(function(){return u})),r.d(t,\"d\",(function(){return f})),r.d(t,\"a\",(function(){return p})),r.d(t,\"b\",(function(){return d}));var n=r(0),i=r.n(n),o=r(11),a=r(23),s=r(28);function u(e,t){return c.apply(this,arguments)}function c(){return(c=Object(a.a)(i.a.mark((function e(t,r){var n,a,u,c,f,l,p,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new TextDecoder(r),a=!0,u=!1,e.prev=3,f=Object(s.a)(t);case 5:return e.next=7,Object(o.a)(f.next());case 7:return l=e.sent,a=l.done,e.next=11,Object(o.a)(l.value);case 11:if(p=e.sent,a){e.next=19;break}return h=p,e.next=16,\"string\"==typeof h?h:n.decode(h,{stream:!0});case 16:a=!0,e.next=5;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),u=!0,c=e.t0;case 25:if(e.prev=25,e.prev=26,a||null==f.return){e.next=30;break}return e.next=30,Object(o.a)(f.return());case 30:if(e.prev=30,!u){e.next=33;break}throw c;case 33:return e.finish(30);case 34:return e.finish(25);case 35:case\"end\":return e.stop()}}),e,null,[[3,21,25,35],[26,,30,34]])})))).apply(this,arguments)}function f(e,t){return l.apply(this,arguments)}function l(){return(l=Object(a.a)(i.a.mark((function e(t,r){var n,a,u,c,f,l,p,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new TextEncoder,a=!0,u=!1,e.prev=3,f=Object(s.a)(t);case 5:return e.next=7,Object(o.a)(f.next());case 7:return l=e.sent,a=l.done,e.next=11,Object(o.a)(l.value);case 11:if(p=e.sent,a){e.next=19;break}return h=p,e.next=16,\"string\"==typeof h?n.encode(h):h;case 16:a=!0,e.next=5;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),u=!0,c=e.t0;case 25:if(e.prev=25,e.prev=26,a||null==f.return){e.next=30;break}return e.next=30,Object(o.a)(f.return());case 30:if(e.prev=30,!u){e.next=33;break}throw c;case 33:return e.finish(30);case 34:return e.finish(25);case 35:case\"end\":return e.stop()}}),e,null,[[3,21,25,35],[26,,30,34]])})))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=Object(a.a)(i.a.mark((function e(t){var r,n,a,u,c,f,l,p,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=\"\",n=!0,a=!1,e.prev=3,c=Object(s.a)(t);case 5:return e.next=7,Object(o.a)(c.next());case 7:return f=e.sent,n=f.done,e.next=11,Object(o.a)(f.value);case 11:if(l=e.sent,n){e.next=26;break}r+=l,p=void 0;case 16:if(!((p=r.indexOf(\"\\n\"))>=0)){e.next=23;break}return h=r.slice(0,p+1),r=r.slice(p+1),e.next=21,h;case 21:e.next=16;break;case 23:n=!0,e.next=5;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(3),a=!0,u=e.t0;case 32:if(e.prev=32,e.prev=33,n||null==c.return){e.next=37;break}return e.next=37,Object(o.a)(c.return());case 37:if(e.prev=37,!a){e.next=40;break}throw u;case 40:return e.finish(37);case 41:return e.finish(32);case 42:if(!(r.length>0)){e.next=45;break}return e.next=45,r;case 45:case\"end\":return e.stop()}}),e,null,[[3,28,32,42],[33,,37,41]])})))).apply(this,arguments)}function d(e){return y.apply(this,arguments)}function y(){return(y=Object(a.a)(i.a.mark((function e(t){var r,n,a,u,c,f,l,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=1,n=!0,a=!1,e.prev=3,c=Object(s.a)(t);case 5:return e.next=7,Object(o.a)(c.next());case 7:return f=e.sent,n=f.done,e.next=11,Object(o.a)(f.value);case 11:if(l=e.sent,n){e.next=20;break}return p=l,e.next=16,{counter:r,line:p};case 16:r++;case 17:n=!0,e.next=5;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(3),a=!0,u=e.t0;case 26:if(e.prev=26,e.prev=27,n||null==c.return){e.next=31;break}return e.next=31,Object(o.a)(c.return());case 31:if(e.prev=31,!a){e.next=34;break}throw u;case 34:return e.finish(31);case 35:return e.finish(26);case 36:case\"end\":return e.stop()}}),e,null,[[3,22,26,36],[27,,31,35]])})))).apply(this,arguments)}},function(e,t,r){\"use strict\";e.exports=f;var n=r(42);((f.prototype=Object.create(n.prototype)).constructor=f).className=\"Namespace\";var i,o,a,s=r(31),u=r(17);function c(e,t){if(e&&e.length){for(var r={},n=0;n<e.length;++n)r[e[n].name]=e[n].toJSON(t);return r}}function f(e,t){n.call(this,e,t),this.nested=void 0,this._nestedArray=null}function l(e){return e._nestedArray=null,e}f.fromJSON=function(e,t){return new f(e,t.options).addJSON(t.nested)},f.arrayToJSON=c,f.isReservedId=function(e,t){if(e)for(var r=0;r<e.length;++r)if(\"string\"!=typeof e[r]&&e[r][0]<=t&&e[r][1]>t)return!0;return!1},f.isReservedName=function(e,t){if(e)for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1},Object.defineProperty(f.prototype,\"nestedArray\",{get:function(){return this._nestedArray||(this._nestedArray=u.toArray(this.nested))}}),f.prototype.toJSON=function(e){return u.toObject([\"options\",this.options,\"nested\",c(this.nestedArray,e)])},f.prototype.addJSON=function(e){if(e)for(var t,r=Object.keys(e),n=0;n<r.length;++n)t=e[r[n]],this.add((void 0!==t.fields?i.fromJSON:void 0!==t.values?a.fromJSON:void 0!==t.methods?o.fromJSON:void 0!==t.id?s.fromJSON:f.fromJSON)(r[n],t));return this},f.prototype.get=function(e){return this.nested&&this.nested[e]||null},f.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof a)return this.nested[e].values;throw Error(\"no such enum: \"+e)},f.prototype.add=function(e){if(!(e instanceof s&&void 0!==e.extend||e instanceof i||e instanceof a||e instanceof o||e instanceof f))throw TypeError(\"object must be a valid nested object\");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof f&&e instanceof f)||t instanceof i||t instanceof o)throw Error(\"duplicate name '\"+e.name+\"' in \"+this);for(var r=t.nestedArray,n=0;n<r.length;++n)e.add(r[n]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),l(this)},f.prototype.remove=function(e){if(!(e instanceof n))throw TypeError(\"object must be a ReflectionObject\");if(e.parent!==this)throw Error(e+\" is not a member of \"+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),l(this)},f.prototype.define=function(e,t){if(u.isString(e))e=e.split(\".\");else if(!Array.isArray(e))throw TypeError(\"illegal path\");if(e&&e.length&&\"\"===e[0])throw Error(\"path must be relative\");for(var r=this;e.length>0;){var n=e.shift();if(r.nested&&r.nested[n]){if(!((r=r.nested[n])instanceof f))throw Error(\"path conflicts with non-namespace objects\")}else r.add(r=new f(n))}return t&&r.addJSON(t),r},f.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof f?e[t++].resolveAll():e[t++].resolve();return this.resolve()},f.prototype.lookup=function(e,t,r){if(\"boolean\"==typeof t?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),u.isString(e)&&e.length){if(\".\"===e)return this.root;e=e.split(\".\")}else if(!e.length)return this;if(\"\"===e[0])return this.root.lookup(e.slice(1),t);var n=this.get(e[0]);if(n){if(1===e.length){if(!t||t.indexOf(n.constructor)>-1)return n}else if(n instanceof f&&(n=n.lookup(e.slice(1),t,!0)))return n}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof f&&(n=this._nestedArray[i].lookup(e,t,!0)))return n;return null===this.parent||r?null:this.parent.lookup(e,t)},f.prototype.lookupType=function(e){var t=this.lookup(e,[i]);if(!t)throw Error(\"no such type: \"+e);return t},f.prototype.lookupEnum=function(e){var t=this.lookup(e,[a]);if(!t)throw Error(\"no such Enum '\"+e+\"' in \"+this);return t},f.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[i,a]);if(!t)throw Error(\"no such Type or Enum '\"+e+\"' in \"+this);return t},f.prototype.lookupService=function(e){var t=this.lookup(e,[o]);if(!t)throw Error(\"no such Service '\"+e+\"' in \"+this);return t},f._configure=function(e,t,r){i=e,o=t,a=r}},function(e,t,r){\"use strict\";r.d(t,\"b\",(function(){return s})),r.d(t,\"a\",(function(){return a}));var n=r(6),i=r(5),o=r(55),a=function(){function e(t,r){Object(n.a)(this,e),this.name=t,this.type=r,this.sampleSize=1,this.reset()}return Object(i.a)(e,[{key:\"setSampleSize\",value:function(e){return this.sampleSize=e,this}},{key:\"incrementCount\",value:function(){return this.addCount(1),this}},{key:\"decrementCount\",value:function(){return this.subtractCount(1),this}},{key:\"addCount\",value:function(e){return this._count+=e,this._samples++,this._checkSampling(),this}},{key:\"subtractCount\",value:function(e){return this._count-=e,this._samples++,this._checkSampling(),this}},{key:\"addTime\",value:function(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}},{key:\"timeStart\",value:function(){return this._startTime=Object(o.a)(),this._timerPending=!0,this}},{key:\"timeEnd\",value:function(){return this._timerPending?(this.addTime(Object(o.a)()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}},{key:\"getSampleAverageCount\",value:function(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}},{key:\"getSampleAverageTime\",value:function(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}},{key:\"getSampleHz\",value:function(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}},{key:\"getAverageCount\",value:function(){return this.samples>0?this.count/this.samples:0}},{key:\"getAverageTime\",value:function(){return this.samples>0?this.time/this.samples:0}},{key:\"getHz\",value:function(){return this.time>0?this.samples/(this.time/1e3):0}},{key:\"reset\",value:function(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}},{key:\"_checkSampling\",value:function(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}]),e}(),s=function(){function e(t){var r=t.id,i=t.stats;Object(n.a)(this,e),this.id=r,this.stats={},this._initializeStats(i),Object.seal(this)}return Object(i.a)(e,[{key:\"get\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"count\";return this._getOrCreate({name:e,type:t})}},{key:\"reset\",value:function(){for(var e in this.stats)this.stats[e].reset();return this}},{key:\"forEach\",value:function(e){for(var t in this.stats)e(this.stats[t])}},{key:\"getTable\",value:function(){var e={};return this.forEach((function(t){e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}})),e}},{key:\"_initializeStats\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){return e._getOrCreate(t)}))}},{key:\"_getOrCreate\",value:function(e){if(!e||!e.name)return null;var t=e.name,r=e.type;return this.stats[t]||(this.stats[t]=e instanceof a?e:new a(t,r)),this.stats[t]}},{key:\"size\",get:function(){return Object.keys(this.stats).length}}]),e}()},function(e,t,r){\"use strict\";(function(e){function n(){var t;if(\"undefined\"!=typeof window&&window.performance)t=window.performance.now();else if(void 0!==e&&e.hrtime){var r=e.hrtime();t=1e3*r[0]+r[1]/1e6}else t=Date.now();return t}r.d(t,\"a\",(function(){return n}))}).call(this,r(38))},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return V}));var n=r(6),i=r(5),o=r(13),a=r(10),s=r(12),u=r(29),c=r(4),f=r(19),l=r(1),p=r(22),h=r(8),d=r(16);function y(){var e=new l.a(4);return l.a!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function v(e,t,r){r*=.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function m(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=r[0],u=r[1],c=r[2],f=r[3];return e[0]=n*f+a*s+i*c-o*u,e[1]=i*f+a*u+o*s-n*c,e[2]=o*f+a*c+n*u-i*s,e[3]=a*f-n*s-i*u-o*c,e}function g(e,t,r,n){var i,o,a,s,u,c=t[0],f=t[1],p=t[2],h=t[3],d=r[0],y=r[1],v=r[2],m=r[3];return(o=c*d+f*y+p*v+h*m)<0&&(o=-o,d=-d,y=-y,v=-v,m=-m),1-o>l.b?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-n)*i)/a,u=Math.sin(n*i)/a):(s=1-n,u=n),e[0]=s*c+u*d,e[1]=s*f+u*y,e[2]=s*p+u*v,e[3]=s*h+u*m,e}function b(e,t){var r,n=t[0]+t[4]+t[8];if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;r=Math.sqrt(t[3*i+i]-t[3*o+o]-t[3*a+a]+1),e[i]=.5*r,r=.5/r,e[3]=(t[3*o+a]-t[3*a+o])*r,e[o]=(t[3*o+i]+t[3*i+o])*r,e[a]=(t[3*a+i]+t[3*i+a])*r}return e}d.b,d.g,d.c,d.l;var O,_,w,E,j,P,S=d.a,k=d.k,T=d.d,A=d.i,x=d.h,I=d.m,R=d.j,M=(d.f,d.e,O=h.b(),_=h.e(1,0,0),w=h.e(0,1,0),function(e,t,r){var n=h.d(t,r);return n<-.999999?(h.c(O,_,t),h.f(O)<1e-6&&h.c(O,w,t),h.h(O,O),v(e,O,Math.PI),e):n>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(h.c(O,t,r),e[0]=O[0],e[1]=O[1],e[2]=O[2],e[3]=1+n,R(e,e))}),N=(E=y(),j=y(),P=p.a(),[0,0,0,1]),V=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(n.a)(this,t),e=Object(o.a)(this,Object(a.a)(t).call(this,-0,-0,-0,-0)),Array.isArray(r)&&1===arguments.length?e.copy(r):e.set(r,i,s,u),e}return Object(s.a)(t,e),Object(i.a)(t,[{key:\"copy\",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}},{key:\"set\",value:function(e,t,r,n){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this.check()}},{key:\"fromMatrix3\",value:function(e){return b(this,e),this.check()}},{key:\"identity\",value:function(){var e;return(e=this)[0]=0,e[1]=0,e[2]=0,e[3]=1,this.check()}},{key:\"fromAxisRotation\",value:function(e,t){return v(this,e,t),this.check()}},{key:\"setAxisAngle\",value:function(e,t){return this.fromAxisRotation(e,t)}},{key:\"len\",value:function(){return x(this)}},{key:\"lengthSquared\",value:function(){return I(this)}},{key:\"dot\",value:function(e,t){if(void 0!==t)throw new Error(\"Quaternion.dot only takes one argument\");return T(this,e)}},{key:\"rotationTo\",value:function(e,t){return M(this,e,t),this.check()}},{key:\"add\",value:function(e,t){if(void 0!==t)throw new Error(\"Quaternion.add only takes one argument\");return S(this,this,e),this.check()}},{key:\"calculateW\",value:function(){var e,t,r,n,i;return e=this,r=(t=this)[0],n=t[1],i=t[2],e[0]=r,e[1]=n,e[2]=i,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),this.check()}},{key:\"conjugate\",value:function(){var e,t;return t=this,(e=this)[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],this.check()}},{key:\"invert\",value:function(){var e,t,r,n,i,o,a,s;return e=this,r=(t=this)[0],n=t[1],i=t[2],o=t[3],s=(a=r*r+n*n+i*i+o*o)?1/a:0,e[0]=-r*s,e[1]=-n*s,e[2]=-i*s,e[3]=o*s,this.check()}},{key:\"lerp\",value:function(e,t,r){return A(this,e,t,r),this.check()}},{key:\"multiplyRight\",value:function(e,t){return Object(f.a)(!t),m(this,this,e),this.check()}},{key:\"multiplyLeft\",value:function(e,t){return Object(f.a)(!t),m(this,e,this),this.check()}},{key:\"normalize\",value:function(){var e=this.len(),t=e>0?1/e:0;return this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,0===e&&(this[3]=1),this.check()}},{key:\"rotateX\",value:function(e){return function(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),u=Math.cos(r);e[0]=n*u+a*s,e[1]=i*u+o*s,e[2]=o*u-i*s,e[3]=a*u-n*s}(this,this,e),this.check()}},{key:\"rotateY\",value:function(e){return function(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),u=Math.cos(r);e[0]=n*u-o*s,e[1]=i*u+a*s,e[2]=o*u+n*s,e[3]=a*u-i*s}(this,this,e),this.check()}},{key:\"rotateZ\",value:function(e){return function(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),u=Math.cos(r);e[0]=n*u+i*s,e[1]=i*u-n*s,e[2]=o*u+a*s,e[3]=a*u-o*s}(this,this,e),this.check()}},{key:\"scale\",value:function(e){return k(this,this,e),this.check()}},{key:\"slerp\",value:function(e,t,r){switch(arguments.length){case 1:var n=arguments[0],i=n.start;e=void 0===i?N:i,t=n.target,r=n.ratio;break;case 2:var o=Array.prototype.slice.call(arguments);t=o[0],r=o[1],e=this}return g(this,e,t,r),this.check()}},{key:\"transformVector4\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return d.o(t,e,this),Object(c.b)(t,4)}},{key:\"lengthSq\",value:function(){return this.lengthSquared()}},{key:\"setFromAxisAngle\",value:function(e,t){return this.setAxisAngle(e,t)}},{key:\"premultiply\",value:function(e,t){return this.multiplyLeft(e,t)}},{key:\"multiply\",value:function(e,t){return this.multiplyRight(e,t)}},{key:\"ELEMENTS\",get:function(){return 4}},{key:\"x\",get:function(){return this[0]},set:function(e){this[0]=Object(c.a)(e)}},{key:\"y\",get:function(){return this[1]},set:function(e){this[1]=Object(c.a)(e)}},{key:\"z\",get:function(){return this[2]},set:function(e){this[2]=Object(c.a)(e)}},{key:\"w\",get:function(){return this[3]},set:function(e){this[3]=Object(c.a)(e)}}]),t}(u.a)},function(e,t,r){\"use strict\";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,\"a\",(function(){return n}))},function(e,t){},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n,i=r(94),o=(n=r(140))&&n.__esModule?n:{default:n},a=r(141);function s(e){return(s=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function u(e,t){var r;if(\"undefined\"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if(\"string\"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===r&&e.constructor&&(r=e.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(e);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&\"number\"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y(e);if(t){var i=y(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||\"object\"!==s(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=null,m=0,g=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(r,e);var t=h(r);function r(e){var n,i=e.id,o=e.timestamp;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,r),(n=t.call(this)).id=i,n.index=m++,n.state={},n.startTime=o,n.endTime=o,n._props=new Map,n._streams=new Map,n._geometry=null,n}return l(r,null,[{key:\"setDefaultCollection\",value:function(e){v=e}}]),l(r,[{key:\"getBearingToObject\",value:function(e){var t=this.position,r=e.position;return t&&r?Math.atan2(r[1]-t[1],r[0]-t[0])/Math.PI*180:null}},{key:\"getDistanceToObject\",value:function(e){var t=this.position,r=e.position,n=null;return t&&r&&(n=new i.Vector2(t).distance(r),n=Math.round(10*n)/10),n}},{key:\"getProp\",value:function(e){return this._props.get(e)}},{key:\"getFeature\",value:function(e){return this._streams.get(e)}},{key:\"_observe\",value:function(e){this.startTime=Math.min(this.startTime,e),this.endTime=Math.max(this.endTime,e)}},{key:\"_addFeature\",value:function(e,t){this._streams.set(e,t),t.index=this.index,t.state=this.state;var r,n=u(this._props);try{for(n.s();!(r=n.n()).done;){var i=r.value;t[i[0]]=i[1]}}catch(e){n.e(e)}finally{n.f()}var o=t.center||t.vertices;if(o&&Array.isArray(o)){if(Number.isFinite(o[0]))o[2]=o[2]||0;else if(this._geometry)return;this._geometry=o}}},{key:\"_setState\",value:function(e,t){e&&(this.state[e]=t)}},{key:\"_setProp\",value:function(e,t){this._props.set(e,t)}},{key:\"_reset\",value:function(){this._props.size&&this._props.clear(),this._streams.size&&this._streams.clear(),this._geometry=null}},{key:\"position\",get:function(){var e=this._geometry;return e?Number.isFinite(e[0])?e:(this._geometry=(0,a.getCentroid)(e),this._geometry):null}},{key:\"isValid\",get:function(){return Boolean(this._geometry)}},{key:\"streamNames\",get:function(){return this._streams.keys()}}],[{key:\"observe\",value:function(e,t){return v&&v.observe(e,t)}},{key:\"get\",value:function(e){return v&&v.get(e)}},{key:\"clear\",value:function(){return v&&v.clear()}},{key:\"count\",value:function(){return v&&v.count()}},{key:\"resetAll\",value:function(){return v&&v.resetAll()}},{key:\"getAll\",value:function(){return v&&v.getAll()}},{key:\"getAllInCurrentFrame\",value:function(){return v&&v.getAllInCurrentFrame()}},{key:\"prune\",value:function(e,t){return v&&v.prune(e,t)}}]),r}(o.default);t.default=g},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.assert=function(e,t){if(!e)throw new Error(t||\"gltf/glb assertion failed.\")}},function(e,t,r){\"use strict\";e.exports=a;var n=r(42);((a.prototype=Object.create(n.prototype)).constructor=a).className=\"OneOf\";var i=r(31),o=r(17);function a(e,t,r,i){if(Array.isArray(t)||(r=t,t=void 0),n.call(this,e,r),void 0!==t&&!Array.isArray(t))throw TypeError(\"fieldNames must be an Array\");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function s(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}a.fromJSON=function(e,t){return new a(e,t.oneof,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject([\"options\",this.options,\"oneof\",this.oneof,\"comment\",t?this.comment:void 0])},a.prototype.add=function(e){if(!(e instanceof i))throw TypeError(\"field must be a Field\");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,s(this),this},a.prototype.remove=function(e){if(!(e instanceof i))throw TypeError(\"field must be a Field\");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+\" is not a member of \"+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},a.prototype.onAdd=function(e){n.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var r=e.get(this.oneof[t]);r&&!r.partOf&&(r.partOf=this,this.fieldsArray.push(r))}s(this)},a.prototype.onRemove=function(e){for(var t,r=0;r<this.fieldsArray.length;++r)(t=this.fieldsArray[r]).parent&&t.parent.remove(t);n.prototype.onRemove.call(this,e)},a.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,r){o.decorateType(t.constructor).add(new a(r,e)),Object.defineProperty(t,r,{get:o.oneOfGetter(e),set:o.oneOfSetter(e)})}}},function(e,t,r){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0}),t.getDataContainer=l,t.isEnvelope=function(e){return e.type&&e.data},t.unpackEnvelope=function(e){var t=e.type.split(\"/\");return{namespace:t[0],type:t.slice(1).join(\"/\"),data:e.data}},t.isBinaryXVIZ=d,t.parseBinaryXVIZ=function(e,t){if(t&&t.messageFormat===i.XVIZ_FORMAT.BINARY_PBE||h(e,{magic:a.MAGIC_PBE1}))return b(e,t);var r=new n.GLTFParser;r.parse(e,{createImages:!1});var o=r.getApplicationData(\"xviz\");void 0===o&&(o=r.getExtension(i.XVIZ_GLTF_EXTENSION));return o},t.isGLBXVIZ=y,t.isPBEXVIZ=v,t.parsePBEXVIZ=b,t.isJSONString=function(t){if(t instanceof Uint8Array)return function(t){var r=t.slice(0,5).find((function(e){return e>=32})),n=t.slice(-5);n instanceof e&&(n=e.from(n));var i=n.reverse().find((function(e){return e>=32}));return r=String.fromCharCode(r),i=String.fromCharCode(i),\"{\"===r&&\"}\"===i||\"[\"===r&&\"]\"===i}(t);if(\"object\"===u(t))return!1;var r=t.slice(0,5).trim(),n=t.slice(-5).trim();return r.startsWith(\"{\")&&n.endsWith(\"}\")||r.startsWith(\"[\")&&n.endsWith(\"]\")},t.getObjectXVIZType=_,t.getXVIZMessageType=function(e){switch(l(e)){case\"binary\":return y(e)?function(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=new DataView(e),n={};if(n.byteOffset=t,n.magic=r.getUint32(t+0,!1),n.version=r.getUint32(t+4,!0),n.byteLength=r.getUint32(t+8,!0),2!==n.version||n.byteLength<20)return null;n.jsonChunkLength=r.getUint32(t+12,!0),n.jsonChunkFormat=r.getUint32(t+16,!0);var i=1313821514,o=n.jsonChunkFormat===i||0===n.jsonChunkFormat;if(!o)return null;return n.jsonChunkByteOffset=20,new Uint8Array(e,t+n.jsonChunkByteOffset,n.jsonChunkLength)}(e);if(!t)return null;return p(new o.TextDecoder(\"utf8\").decode(t))}(e):v(e)?(t=new Uint8Array(e,4),a.XVIZ_PROTOBUF_MESSAGE.Envelope.toObject(t,{enum:String}).type):(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),O(e));case\"string\":return O(e);case\"object\":return e.type?_(e.type):null}var t;return null},t.isXVIZMessage=function(e){switch(l(e)){case\"binary\":return!!d(e)||(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),null!==O(e));case\"string\":return null!==O(e);case\"object\":return!!e.type&&null!==_(e.type)}return!1};var n=r(214),i=r(44),o=r(37),a=r(73),s=r(78);function u(e){return(u=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}var c=/\"type\":\\s*\"(xviz\\/\\w*)\"/,f=/xviz\\/\\w*/;function l(t){return null==t?null:t instanceof e||t instanceof ArrayBuffer||ArrayBuffer.isView(t)?\"binary\":u(t)}function p(e,t){var r=e.match(c);return!r&&t&&(r=t.match(c)),r?r[1]:null}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.magic,n=t.magicAlt,i=new DataView(e),o=i.getUint32(0,!1);return o===r||n&&n===o}function d(e){return e instanceof ArrayBuffer&&(h(e,{magic:1482049882,magicAlt:1735152710})||h(e,{magic:a.MAGIC_PBE1}))}function y(e){return e instanceof ArrayBuffer&&h(e,{magic:1482049882,magicAlt:1735152710})}function v(e){return e instanceof ArrayBuffer&&h(e,{magic:a.MAGIC_PBE1})}function m(e){if(e&&e.ui_config)for(var t=0,r=Object.keys(e.ui_config);t<r.length;t++){var n=r[t];e.ui_config[n]=a.XVIZ_PROTOBUF_TYPE.UIPanelInfo.toObject(e.ui_config[n])}}function g(e,t){var r=t||e.$type;if(e&&r&&r.fields){var n=r.fields,i=function(t){var r=n[t];if(r&&e[r.name])if(!r.resolvedType&&r.repeated&&0===e[r.name].length)e[r.name]=void 0,delete e[r.name];else if(r.resolvedType)if(r.resolvedType instanceof s.Enum)r.repeated?0===e[r.name].length?(e[r.name]=void 0,delete e[r.name]):e[r.name]=e[r.name].map((function(e){return r.resolvedType.valuesById[e]})):e[r.name]=r.resolvedType.valuesById[e[r.name]];else if(r instanceof s.MapField)for(var i=0,o=Object.keys(e[r.name]);i<o.length;i++){var a=o[i];e[r.name][a]=g(e[r.name][a],r.resolvedType)}else r.resolvedType instanceof s.Type&&(r.repeated?0===e[r.name].length?(e[r.name]=void 0,delete e[r.name]):e[r.name]=e[r.name].map((function(e){return g(e,r.resolvedType)})):e[r.name]=g(e[r.name],r.resolvedType))};for(var o in n)i(o)}return e}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.messageType,n={type:r,data:null},i=e;if(!n.type){var o=new Uint8Array(e,4),s=a.XVIZ_PROTOBUF_MESSAGE.Envelope.decode(o);n.type=s.type,i=s.data.value}switch(n.type){case\"xviz/metadata\":var u=a.XVIZ_PROTOBUF_MESSAGE.Metadata.decode(i);n.data=g(u),m(n.data);break;case\"xviz/state_update\":var c=a.XVIZ_PROTOBUF_MESSAGE.StateUpdate.decode(i);n.data=g(c);break;default:throw new Error(\"Unknown Message type \".concat(n.type))}return n}function O(e){var t=e.slice(0,50),r=e.slice(-50);return Number.isFinite(t[0])&&(t=String.fromCharCode.apply(null,t),r=String.fromCharCode.apply(null,r)),p(t,r)}function _(e){var t=e.match(f);return t?t[0]:null}}).call(this,r(71).Buffer)},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return i}));var n=r(45);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"2.2.6\";Object(n.a)(e,\"no loader provided\");var r=e.version;t&&r&&(t=o(t),r=o(r))}function o(e){var t=e.split(\".\").map(Number);return{major:t[0],minor:t[1]}}},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return i}));var n=r(7);function i(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,a=r||new Set;if(e){if(o(e))a.add(e);else if(o(e.buffer))a.add(e.buffer);else if(t&&\"object\"===Object(n.a)(e))for(var s in e)i(e[s],t,a)}else;return void 0===r?Array.from(a):null}function o(e){return!!e&&(e instanceof ArrayBuffer||(\"undefined\"!=typeof MessagePort&&e instanceof MessagePort||(\"undefined\"!=typeof ImageBitmap&&e instanceof ImageBitmap||\"undefined\"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return i}));var n=r(57);function i(e,t){if(e){if(\"string\"==typeof e)return Object(n.a)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n.a)(e,t):void 0}}},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return l}));var n=r(6),i=r(5),o=r(13),a=r(10),s=r(12),u=r(29),c=r(4),f=r(3),l=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:\"toString\",value:function(){var e=\"[\";if(f.f.printRowMajor){e+=\"row-major:\";for(var t=0;t<this.RANK;++t)for(var r=0;r<this.RANK;++r)e+=\" \".concat(this[r*this.RANK+t])}else{e+=\"column-major:\";for(var n=0;n<this.ELEMENTS;++n)e+=\" \".concat(this[n])}return e+=\"]\"}},{key:\"getElementIndex\",value:function(e,t){return t*this.RANK+e}},{key:\"getElement\",value:function(e,t){return this[t*this.RANK+e]}},{key:\"setElement\",value:function(e,t,r){return this[t*this.RANK+e]=Object(c.a)(r),this}},{key:\"getColumn\",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array(this.RANK).fill(-0),r=e*this.RANK,n=0;n<this.RANK;++n)t[n]=this[r+n];return t}},{key:\"setColumn\",value:function(e,t){for(var r=e*this.RANK,n=0;n<this.RANK;++n)this[r+n]=t[n];return this}}]),t}(u.a)},function(e,t,r){\"use strict\";function n(e){this.wrapped=e}r.d(t,\"a\",(function(){return n}))},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return o}));var n=r(47);function i(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function o(e,t,r){return(o=i()?Reflect.construct:function(e,t,r){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return r&&Object(n.a)(o,r.prototype),o}).apply(null,arguments)}},function(e,t,r){\"use strict\";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.XVIZBaseWriter=void 0;var i=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),!t)throw new Error(\"Writer must be provided a sink\");this.sink=t}var t,r,i;return t=e,(r=[{key:\"_checkValid\",value:function(){if(!this.sink)throw new Error('Cannot use this Writer after \"close()\" has been called.')}},{key:\"close\",value:function(){this.sink&&(this.sink.close(),this.sink=null)}}])&&n(t.prototype,r),i&&n(t,i),e}();t.XVIZBaseWriter=i},function(e,t,r){\"use strict\";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),a=n[0],s=n[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),f=0,l=s>0?a-4:a;for(r=0;r<l;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[f++]=t>>16&255,u[f++]=t>>8&255,u[f++]=255&t;2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[f++]=255&t);1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[f++]=t>>8&255,u[f++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(f(e,a,a+16383>s?s:a+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+\"==\")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+\"=\"));return o.join(\"\")};for(var n=[],i=[],o=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,a=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var r=e.indexOf(\"=\");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function f(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join(\"\")}i[\"-\".charCodeAt(0)]=62,i[\"_\".charCodeAt(0)]=63},function(e,t,r){\"use strict\";(function(e){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\nvar n=r(70),i=r(145),o=r(146);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError(\"Invalid typed array length\");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if(\"number\"==typeof e){if(\"string\"==typeof t)throw new Error(\"If encoding is specified then the first argument must be a string\");return l(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if(\"number\"==typeof t)throw new TypeError('\"value\" argument must not be a number');return\"undefined\"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError(\"'offset' is out of bounds\");if(t.byteLength<r+(n||0))throw new RangeError(\"'length' is out of bounds\");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=p(e,t);return e}(e,t,r,n):\"string\"==typeof t?function(e,t,r){\"string\"==typeof r&&\"\"!==r||(r=\"utf8\");if(!u.isEncoding(r))throw new TypeError('\"encoding\" must be a valid string encoding');var n=0|d(t,r),i=(e=s(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|h(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if(\"undefined\"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||\"length\"in t)return\"number\"!=typeof t.length||(n=t.length)!=n?s(e,0):p(e,t);if(\"Buffer\"===t.type&&o(t.data))return p(e,t.data)}var n;throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}(e,t)}function f(e){if(\"number\"!=typeof e)throw new TypeError('\"size\" argument must be a number');if(e<0)throw new RangeError('\"size\" argument must not be negative')}function l(e,t){if(f(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=a())throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+a().toString(16)+\" bytes\");return 0|e}function d(e,t){if(u.isBuffer(e))return e.length;if(\"undefined\"!=typeof ArrayBuffer&&\"function\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;\"string\"!=typeof e&&(e=\"\"+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case\"ascii\":case\"latin1\":case\"binary\":return r;case\"utf8\":case\"utf-8\":case void 0:return B(e).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*r;case\"hex\":return r>>>1;case\"base64\":return U(e).length;default:if(n)return B(e).length;t=(\"\"+t).toLowerCase(),n=!0}}function y(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return\"\";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return\"\";if((r>>>=0)<=(t>>>=0))return\"\";for(e||(e=\"utf8\");;)switch(e){case\"hex\":return A(this,t,r);case\"utf8\":case\"utf-8\":return S(this,t,r);case\"ascii\":return k(this,t,r);case\"latin1\":case\"binary\":return T(this,t,r);case\"base64\":return P(this,t,r);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return x(this,t,r);default:if(n)throw new TypeError(\"Unknown encoding: \"+e);e=(e+\"\").toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if(\"string\"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if(\"string\"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,i);if(\"number\"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&\"function\"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,i);throw new TypeError(\"val must be string, number or Buffer\")}function g(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&(\"ucs2\"===(n=String(n).toLowerCase())||\"ucs-2\"===n||\"utf16le\"===n||\"utf-16le\"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var f=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*a}else-1!==f&&(o-=o-f),f=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var l=!0,p=0;p<u;p++)if(c(e,o+p)!==c(t,p)){l=!1;break}if(l)return o}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError(\"Invalid hex string\");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function O(e,t,r,n){return z(B(t,e.length-r),e,r,n)}function _(e,t,r,n){return z(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return _(e,t,r,n)}function E(e,t,r,n){return z(U(t),e,r,n)}function j(e,t,r,n){return z(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function P(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function S(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,c=e[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=r)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=l}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r=\"\",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&\"function\"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,\"undefined\"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return f(t),t<=0?s(e,t):void 0!==r?\"string\"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return l(null,e)},u.allocUnsafeSlow=function(e){return l(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError(\"Arguments must be Buffers\");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!u.isBuffer(a))throw new TypeError('\"list\" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?\"\":0===arguments.length?S(this,0,e):y.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e=\"\",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString(\"hex\",0,r).match(/.{2}/g).join(\" \"),this.length>r&&(e+=\" ... \")),\"<Buffer \"+e+\">\"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError(\"out of range index\");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(n,i),f=e.slice(t,r),l=0;l<s;++l)if(c[l]!==f[l]){o=c[l],a=f[l];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n=\"utf8\",r=this.length,t=0;else if(void 0===r&&\"string\"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");t|=0,isFinite(r)?(r|=0,void 0===n&&(n=\"utf8\")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");n||(n=\"utf8\");for(var o=!1;;)switch(n){case\"hex\":return b(this,e,t,r);case\"utf8\":case\"utf-8\":return O(this,e,t,r);case\"ascii\":return _(this,e,t,r);case\"latin1\":case\"binary\":return w(this,e,t,r);case\"base64\":return E(this,e,t,r);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return j(this,e,t,r);default:if(o)throw new TypeError(\"Unknown encoding: \"+n);n=(\"\"+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};function k(e,t,r){var n=\"\";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function T(e,t,r){var n=\"\";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function A(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i=\"\",o=t;o<r;++o)i+=F(e[o]);return i}function x(e,t,r){for(var n=e.slice(t,r),i=\"\",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function I(e,t,r){if(e%1!=0||e<0)throw new RangeError(\"offset is not uint\");if(e+t>r)throw new RangeError(\"Trying to access beyond buffer length\")}function R(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('\"value\" argument is out of bounds');if(r+n>e.length)throw new RangeError(\"Index out of range\")}function M(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function N(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function V(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError(\"Index out of range\");if(r<0)throw new RangeError(\"Index out of range\")}function D(e,t,r,n,o){return o||V(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function L(e,t,r,n,o){return o||V(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||R(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||R(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return D(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return D(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError(\"targetStart out of bounds\");if(r<0||r>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(n<0)throw new RangeError(\"sourceEnd out of bounds\");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if(\"string\"==typeof e){if(\"string\"==typeof t?(n=t,t=0,r=this.length):\"string\"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&\"string\"!=typeof n)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof n&&!u.isEncoding(n))throw new TypeError(\"Unknown encoding: \"+n)}else\"number\"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError(\"Out of range index\");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),\"number\"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=u.isBuffer(e)?e:B(new u(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var C=/[^+\\/0-9A-Za-z-_]/g;function F(e){return e<16?\"0\"+e.toString(16):e.toString(16)}function B(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error(\"Invalid code point\");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function U(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\\s+|\\s+$/g,\"\")}(e).replace(C,\"\")).length<2)return\"\";for(;e.length%4!=0;)e+=\"=\";return e}(e))}function z(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(35))},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.packBinaryJson=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=o,f=s.flattenArrays,l=void 0===f||f,p=t,h=null;if(\"string\"==typeof p&&0===p.indexOf(\"#/\"))return\"#\".concat(p);if(Array.isArray(p)){var d=l&&c(n,p);if(!d)return p.map((function(t){return e(t,r,null,o)}));p=d.typedArray,h=d}if(ArrayBuffer.isView(p)&&r)return o&&o.isImage&&(h=a(a({},h),{},{isImage:!0})),u(r,p,n,h);if(null!==p&&\"object\"===i(p)){var y={};for(var v in p)[\"data\",\"width_px\",\"height_px\"].every((function(e){return e in p}))&&(o=a(a({},o),{},{isImage:!0})),y[v]=e(p[v],r,v,o);return y}return p};var n=r(151);function i(e){return(i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t,r,n){if(e.isImage(t)||n&&n.isImage){var i=e.addImage(t);return\"#/images/\".concat(i)}var o=n&&n.size?{size:n.size}:{size:3},a=e.addBuffer(t,o);return\"#/accessors/\".concat(a)}function c(e,t){var r=null,i=3;return\"vertices\"!==e&&\"points\"!==e||(r=(0,n.flattenToTypedArray)(t,i,Float32Array)),\"colors\"===e&&(i=4===t[0].length?4:3,r=(0,n.flattenToTypedArray)(t,i,Uint8Array)),r?{typedArray:r,size:i}:null}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.XVIZ_PROTOBUF_TYPE=t.XVIZ_PROTOBUF_MESSAGE=t.XVIZ_PROTOBUF_ROOT=t.XVIZ_PROTOBUF_MAGIC=t.MAGIC_PBE1=t.XVIZ_PROTOBUF_TYPE_NAME=t.XVIZ_PROTOBUF_MESSAGE_NAME=void 0;var n=r(152),i={ENVELOPE:\"xviz.v2.Envelope\",START:\"xviz.v2.Start\",TRANSFORM_LOG:\"xviz.v2.TransformLog\",TRANSFORM_LOG_POINT_IN_TIME:\"xviz.v2.TransformPointInTime\",TRANSFORM_LOG_DONE:\"xviz.v2.TransformLogDone\",STATE_UPDATE:\"xviz.v2.StateUpdate\",RECONFIGURE:\"xviz.v2.Reconfigure\",METADATA:\"xviz.v2.Metadata\",ERROR:\"xviz.v2.Error\"};t.XVIZ_PROTOBUF_MESSAGE_NAME=i;var o={UI_PANEL_INFO:\"xviz.v2.UIPanelInfo\"};t.XVIZ_PROTOBUF_TYPE_NAME=o;t.MAGIC_PBE1=1346520369;var a=Uint8Array.from([80,66,69,49]);t.XVIZ_PROTOBUF_MAGIC=a;var s=(0,n.loadProtos)();t.XVIZ_PROTOBUF_ROOT=s;var u={Envelope:s.lookupType(i.ENVELOPE),Metadata:s.lookupType(i.METADATA),StateUpdate:s.lookupType(i.STATE_UPDATE)};t.XVIZ_PROTOBUF_MESSAGE=u;var c={UIPanelInfo:s.lookupType(o.UI_PANEL_INFO)};t.XVIZ_PROTOBUF_TYPE=c},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),Object.defineProperty(t,\"SCHEMA_DATA\",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,\"PROTO_DATA\",{enumerable:!0,get:function(){return i.default}});var n=o(r(153)),i=o(r(154));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){\"use strict\";var n=r(157),i=r(76),o=r(41),a=r(108),s=r(159);function u(e,t,r){var n=this._refs[r];if(\"string\"==typeof n){if(!this._refs[n])return u.call(this,e,t,n);n=this._refs[n]}if((n=n||this._schemas[r])instanceof a)return d(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var i,o,s,f=c.call(this,t,r);return f&&(i=f.schema,t=f.root,s=f.baseId),i instanceof a?o=i.validate||e.call(this,i.schema,t,void 0,s):void 0!==i&&(o=d(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,s)),o}function c(e,t){var r=n.parse(t),i=v(r),o=y(this._getId(e.schema));if(0===Object.keys(e.schema).length||i!==o){var s=g(i),u=this._refs[s];if(\"string\"==typeof u)return f.call(this,e,u,r);if(u instanceof a)u.validate||this._compile(u),e=u;else{if(!((u=this._schemas[s])instanceof a))return;if(u.validate||this._compile(u),s==g(t))return{schema:u,root:e,baseId:o};e=u}if(!e.schema)return;o=y(this._getId(e.schema))}return p.call(this,r,o,e.schema,e)}function f(e,t,r){var n=c.call(this,e,t);if(n){var i=n.schema,o=n.baseId;e=n.root;var a=this._getId(i);return a&&(o=b(o,a)),p.call(this,r,o,i,e)}}e.exports=u,u.normalizeId=g,u.fullPath=y,u.url=b,u.ids=function(e){var t=g(this._getId(e)),r={\"\":t},a={\"\":y(t,!1)},u={},c=this;return s(e,{allKeys:!0},(function(e,t,s,f,l,p,h){if(\"\"!==t){var d=c._getId(e),y=r[f],v=a[f]+\"/\"+l;if(void 0!==h&&(v+=\"/\"+(\"number\"==typeof h?h:o.escapeFragment(h))),\"string\"==typeof d){d=y=g(y?n.resolve(y,d):d);var m=c._refs[d];if(\"string\"==typeof m&&(m=c._refs[m]),m&&m.schema){if(!i(e,m.schema))throw new Error('id \"'+d+'\" resolves to more than one schema')}else if(d!=g(v))if(\"#\"==d[0]){if(u[d]&&!i(e,u[d]))throw new Error('id \"'+d+'\" resolves to more than one schema');u[d]=e}else c._refs[d]=v}r[t]=y,a[t]=v}})),u},u.inlineRef=d,u.schema=c;var l=o.toHash([\"properties\",\"patternProperties\",\"enum\",\"dependencies\",\"definitions\"]);function p(e,t,r,n){if(e.fragment=e.fragment||\"\",\"/\"==e.fragment.slice(0,1)){for(var i=e.fragment.split(\"/\"),a=1;a<i.length;a++){var s=i[a];if(s){if(void 0===(r=r[s=o.unescapeFragment(s)]))break;var u;if(!l[s]&&((u=this._getId(r))&&(t=b(t,u)),r.$ref)){var f=b(t,r.$ref),p=c.call(this,n,f);p&&(r=p.schema,n=p.root,t=p.baseId)}}}return void 0!==r&&r!==n.schema?{schema:r,root:n,baseId:t}:void 0}}var h=o.toHash([\"type\",\"format\",\"pattern\",\"maxLength\",\"minLength\",\"maxProperties\",\"minProperties\",\"maxItems\",\"minItems\",\"maximum\",\"minimum\",\"uniqueItems\",\"multipleOf\",\"required\",\"enum\"]);function d(e,t){return!1!==t&&(void 0===t||!0===t?function e(t){var r;if(Array.isArray(t)){for(var n=0;n<t.length;n++)if(\"object\"==typeof(r=t[n])&&!e(r))return!1}else for(var i in t){if(\"$ref\"==i)return!1;if(\"object\"==typeof(r=t[i])&&!e(r))return!1}return!0}(e):t?function e(t){var r,n=0;if(Array.isArray(t)){for(var i=0;i<t.length;i++)if(\"object\"==typeof(r=t[i])&&(n+=e(r)),n==1/0)return 1/0}else for(var o in t){if(\"$ref\"==o)return 1/0;if(h[o])n++;else if(\"object\"==typeof(r=t[o])&&(n+=e(r)+1),n==1/0)return 1/0}return n}(e)<=t:void 0)}function y(e,t){return!1!==t&&(e=g(e)),v(n.parse(e))}function v(e){return n.serialize(e).split(\"#\")[0]+\"#\"}var m=/#\\/?$/;function g(e){return e?e.replace(m,\"\"):\"\"}function b(e,t){return t=g(t),n.resolve(e,t)}},function(e,t,r){\"use strict\";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&\"object\"==typeof t&&\"object\"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!=i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!=i--;){var a=o[i];if(!e(t[a],r[a]))return!1}return!0}return t!=t&&r!=r}},function(e,t,r){\"use strict\";var n=r(75);function i(e,t,r){this.message=r||i.message(e,t),this.missingRef=n.url(e,t),this.missingSchema=n.normalizeId(n.fullPath(this.missingRef))}function o(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:o((function(e){this.message=\"validation failed\",this.errors=e,this.ajv=this.validation=!0})),MissingRef:o(i)},i.message=function(e,t){return\"can't resolve reference \"+t+\" from id \"+e}},function(e,t,r){\"use strict\";e.exports=r(192)},function(e,t,r){\"use strict\";e.exports=l;var n,i=r(26),o=i.LongBits,a=i.base64,s=i.utf8;function u(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function c(){}function f(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function l(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null}function p(e,t,r){t[r]=255&e}function h(e,t){this.len=e,this.next=void 0,this.val=t}function d(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function y(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}l.create=i.Buffer?function(){return(l.create=function(){return new n})()}:function(){return new l},l.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(l.alloc=i.pool(l.alloc,i.Array.prototype.subarray)),l.prototype._push=function(e,t,r){return this.tail=this.tail.next=new u(e,t,r),this.len+=t,this},h.prototype=Object.create(u.prototype),h.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},l.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new h((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},l.prototype.int32=function(e){return e<0?this._push(d,10,o.fromNumber(e)):this.uint32(e)},l.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},l.prototype.uint64=function(e){var t=o.from(e);return this._push(d,t.length(),t)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(d,t.length(),t)},l.prototype.bool=function(e){return this._push(p,1,e?1:0)},l.prototype.fixed32=function(e){return this._push(y,4,e>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(e){var t=o.from(e);return this._push(y,4,t.lo)._push(y,4,t.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},l.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var v=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};l.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(i.isString(e)){var r=l.alloc(t=a.length(e));a.decode(e,r,0),e=r}return this.uint32(t)._push(v,t,e)},l.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(p,1,0)},l.prototype.fork=function(){return this.states=new f(this),this.head=this.tail=new u(c,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this},l.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},l.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},l._configure=function(e){n=e}},function(e,t,r){\"use strict\";e.exports=u;var n,i=r(26),o=i.LongBits,a=i.utf8;function s(e,t){return RangeError(\"index out of range: \"+e.pos+\" + \"+(t||1)+\" > \"+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var c,f=\"undefined\"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error(\"illegal buffer\")}:function(e){if(Array.isArray(e))return new u(e);throw Error(\"illegal buffer\")};function l(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error(\"invalid varint encoding\")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw s(this,8);return new o(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}function d(e,t){var r,n=e.byteLength/t.BYTES_PER_ELEMENT;if(e.byteOffset%t.BYTES_PER_ELEMENT==0)r=new t(e.buffer,e.byteOffset,n);else{var i=e.byteOffset,o=e.byteOffset+e.byteLength;r=new t(e.buffer.slice(i,o))}return r}u.create=i.Buffer?function(e){return(u.create=function(e){return i.Buffer.isBuffer(e)?new n(e):f(e)})(e)}:f,u.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,u.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return c}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return p(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|p(this.buf,this.pos+=4)},u.prototype.fixed32_array=function(){return d(this.bytes(),Uint32Array)},u.prototype.sfixed32_array=function(){return d(this.bytes(),Int32Array)},u.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.float_array=function(){return d(this.bytes(),Float32Array)},u.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.double_array=function(){return d(this.bytes(),Float64Array)},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},u.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},u.prototype.skip=function(e){if(\"number\"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error(\"invalid wire type \"+e+\" at offset \"+this.pos)}return this},u._configure=function(e){n=e;var t=i.Long?\"toLong\":\"toNumber\";i.merge(u.prototype,{int64:function(){return l.call(this)[t](!1)},uint64:function(){return l.call(this)[t](!0)},sint64:function(){return l.call(this).zzDecode()[t](!1)},fixed64:function(){return h.call(this)[t](!0)},sfixed64:function(){return h.call(this)[t](!1)}})}},function(e,t,r){\"use strict\";e.exports=g;var n=r(53);((g.prototype=Object.create(n.prototype)).constructor=g).className=\"Type\";var i=r(25),o=r(61),a=r(31),s=r(82),u=r(83),c=r(85),f=r(80),l=r(79),p=r(17),h=r(120),d=r(121),y=r(122),v=r(123),m=r(124);function g(e,t){n.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function b(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(g.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],n=r.id;if(this._fieldsById[n])throw Error(\"duplicate id \"+n+\" in \"+this);this._fieldsById[n]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=p.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=p.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=g.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof c||((e.prototype=new c).constructor=e,p.merge(e.prototype,t)),e.$type=e.prototype.$type=this,p.merge(e,c,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var n={};for(r=0;r<this.oneofsArray.length;++r)n[this._oneofsArray[r].resolve().name]={get:p.oneOfGetter(this._oneofsArray[r].oneof),set:p.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,n)}}}),g.generateConstructor=function(e){for(var t,r=p.codegen([\"p\"],e.name),n=0;n<e.fieldsArray.length;++n)(t=e._fieldsArray[n]).map?r(\"this%s={}\",p.safeProp(t.name)):t.repeated&&r(\"this%s=[]\",p.safeProp(t.name));return r(\"if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)\")(\"this[ks[i]]=p[ks[i]]\")},g.fromJSON=function(e,t){var r=new g(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var c=Object.keys(t.fields),f=0;f<c.length;++f)r.add((void 0!==t.fields[c[f]].keyType?s.fromJSON:a.fromJSON)(c[f],t.fields[c[f]]));if(t.oneofs)for(c=Object.keys(t.oneofs),f=0;f<c.length;++f)r.add(o.fromJSON(c[f],t.oneofs[c[f]]));if(t.nested)for(c=Object.keys(t.nested),f=0;f<c.length;++f){var l=t.nested[c[f]];r.add((void 0!==l.id?a.fromJSON:void 0!==l.fields?g.fromJSON:void 0!==l.values?i.fromJSON:void 0!==l.methods?u.fromJSON:n.fromJSON)(c[f],l))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),r},g.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return p.toObject([\"options\",t&&t.options||void 0,\"oneofs\",n.arrayToJSON(this.oneofsArray,e),\"fields\",n.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},\"extensions\",this.extensions&&this.extensions.length?this.extensions:void 0,\"reserved\",this.reserved&&this.reserved.length?this.reserved:void 0,\"group\",this.group||void 0,\"nested\",t&&t.nested||void 0,\"comment\",r?this.comment:void 0])},g.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var r=this.oneofsArray;for(t=0;t<r.length;)r[t++].resolve();return n.prototype.resolveAll.call(this)},g.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},g.prototype.add=function(e){if(this.get(e.name))throw Error(\"duplicate name '\"+e.name+\"' in \"+this);if(e instanceof a&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error(\"duplicate id \"+e.id+\" in \"+this);if(this.isReservedId(e.id))throw Error(\"id \"+e.id+\" is reserved in \"+this);if(this.isReservedName(e.name))throw Error(\"name '\"+e.name+\"' is reserved in \"+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),b(this)}return e instanceof o?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),b(this)):n.prototype.add.call(this,e)},g.prototype.remove=function(e){if(e instanceof a&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+\" is not a member of \"+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),b(this)}if(e instanceof o){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+\" is not a member of \"+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),b(this)}return n.prototype.remove.call(this,e)},g.prototype.isReservedId=function(e){return n.isReservedId(this.reserved,e)},g.prototype.isReservedName=function(e){return n.isReservedName(this.reserved,e)},g.prototype.create=function(e){return new this.ctor(e)},g.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=h(this)({Writer:l,types:t,util:p}),this.decode=d(this)({Reader:f,types:t,util:p}),this.verify=y(this)({types:t,util:p}),this.fromObject=v.fromObject(this)({types:t,util:p}),this.toObject=v.toObject(this)({types:t,util:p});var n=m[e];if(n){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(i),i.toObject=this.toObject,this.toObject=n.toObject.bind(i)}return this},g.prototype.encode=function(e,t){return this.setup().encode(e,t)},g.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},g.prototype.decode=function(e,t){return this.setup().decode(e,t)},g.prototype.decodeDelimited=function(e){return e instanceof f||(e=f.create(e)),this.decode(e,e.uint32())},g.prototype.verify=function(e){return this.setup().verify(e)},g.prototype.fromObject=function(e){return this.setup().fromObject(e)},g.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},g.d=function(e){return function(t){p.decorateType(t,e)}}},function(e,t,r){\"use strict\";e.exports=a;var n=r(31);((a.prototype=Object.create(n.prototype)).constructor=a).className=\"MapField\";var i=r(43),o=r(17);function a(e,t,r,i,a,s){if(n.call(this,e,t,i,void 0,void 0,a,s),!o.isString(r))throw TypeError(\"keyType must be a string\");this.keyType=r,this.resolvedKeyType=null,this.map=!0}a.fromJSON=function(e,t){return new a(e,t.id,t.keyType,t.type,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject([\"keyType\",this.keyType,\"type\",this.type,\"id\",this.id,\"extend\",this.extend,\"options\",this.options,\"comment\",t?this.comment:void 0])},a.prototype.resolve=function(){if(this.resolved)return this;if(void 0===i.mapKey[this.keyType])throw Error(\"invalid key type: \"+this.keyType);return n.prototype.resolve.call(this)},a.d=function(e,t,r){return\"function\"==typeof r?r=o.decorateType(r).name:r&&\"object\"==typeof r&&(r=o.decorateEnum(r).name),function(n,i){o.decorateType(n.constructor).add(new a(i,e,t,r))}}},function(e,t,r){\"use strict\";e.exports=s;var n=r(53);((s.prototype=Object.create(n.prototype)).constructor=s).className=\"Service\";var i=r(84),o=r(17),a=r(118);function s(e,t){n.call(this,e,t),this.methods={},this._methodsArray=null}function u(e){return e._methodsArray=null,e}s.fromJSON=function(e,t){var r=new s(e,t.options);if(t.methods)for(var n=Object.keys(t.methods),o=0;o<n.length;++o)r.add(i.fromJSON(n[o],t.methods[n[o]]));return t.nested&&r.addJSON(t.nested),r.comment=t.comment,r},s.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return o.toObject([\"options\",t&&t.options||void 0,\"methods\",n.arrayToJSON(this.methodsArray,e)||{},\"nested\",t&&t.nested||void 0,\"comment\",r?this.comment:void 0])},Object.defineProperty(s.prototype,\"methodsArray\",{get:function(){return this._methodsArray||(this._methodsArray=o.toArray(this.methods))}}),s.prototype.get=function(e){return this.methods[e]||n.prototype.get.call(this,e)},s.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return n.prototype.resolve.call(this)},s.prototype.add=function(e){if(this.get(e.name))throw Error(\"duplicate name '\"+e.name+\"' in \"+this);return e instanceof i?(this.methods[e.name]=e,e.parent=this,u(this)):n.prototype.add.call(this,e)},s.prototype.remove=function(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+\" is not a member of \"+this);return delete this.methods[e.name],e.parent=null,u(this)}return n.prototype.remove.call(this,e)},s.prototype.create=function(e,t,r){for(var n,i=new a.Service(e,t,r),s=0;s<this.methodsArray.length;++s){var u=o.lcFirst((n=this._methodsArray[s]).resolve().name).replace(/[^$\\w_]/g,\"\");i[u]=o.codegen([\"r\",\"c\"],o.isReserved(u)?u+\"_\":u)(\"return this.rpcCall(m,q,s,r,c)\")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return i}},function(e,t,r){\"use strict\";e.exports=o;var n=r(42);((o.prototype=Object.create(n.prototype)).constructor=o).className=\"Method\";var i=r(17);function o(e,t,r,o,a,s,u,c){if(i.isObject(a)?(u=a,a=s=void 0):i.isObject(s)&&(u=s,s=void 0),void 0!==t&&!i.isString(t))throw TypeError(\"type must be a string\");if(!i.isString(r))throw TypeError(\"requestType must be a string\");if(!i.isString(o))throw TypeError(\"responseType must be a string\");n.call(this,e,u),this.type=t||\"rpc\",this.requestType=r,this.requestStream=!!a||void 0,this.responseType=o,this.responseStream=!!s||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=c}o.fromJSON=function(e,t){return new o(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject([\"type\",\"rpc\"!==this.type&&this.type||void 0,\"requestType\",this.requestType,\"requestStream\",this.requestStream,\"responseType\",this.responseType,\"responseStream\",this.responseStream,\"options\",this.options,\"comment\",t?this.comment:void 0])},o.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),n.prototype.resolve.call(this))}},function(e,t,r){\"use strict\";e.exports=i;var n=r(26);function i(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}i.create=function(e){return this.$type.create(e)},i.encode=function(e,t){return this.$type.encode(e,t)},i.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},i.decode=function(e){return this.$type.decode(e)},i.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},i.verify=function(e){return this.$type.verify(e)},i.fromObject=function(e){return this.$type.fromObject(e)},i.toObject=function(e,t){return this.$type.toObject(e,t)},i.prototype.toJSON=function(){return this.$type.toObject(this,n.toJSONOptions)}},function(e,t,r){\"use strict\";e.exports=l;var n=r(53);((l.prototype=Object.create(n.prototype)).constructor=l).className=\"Root\";var i,o,a,s=r(31),u=r(25),c=r(61),f=r(17);function l(e){n.call(this,\"\",e),this.deferred=[],this.files=[]}function p(){}l.fromJSON=function(e,t){return t||(t=new l),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},l.prototype.resolvePath=f.path.resolve,l.prototype.load=function e(t,r,n){\"function\"==typeof r&&(n=r,r=void 0);var i=this;if(!n)return f.asPromise(e,i,t,r);var s=n===p;function u(e,t){if(n){var r=n;if(n=null,s)throw e;r(e,t)}}function c(e){var t=e.lastIndexOf(\"google/protobuf/\");if(t>-1){var r=e.substring(t);if(r in a)return r}return null}function l(e,t){try{if(f.isString(t)&&\"{\"===t.charAt(0)&&(t=JSON.parse(t)),f.isString(t)){o.filename=e;var n,a=o(t,i,r),l=0;if(a.imports)for(;l<a.imports.length;++l)(n=c(a.imports[l])||i.resolvePath(e,a.imports[l]))&&h(n);if(a.weakImports)for(l=0;l<a.weakImports.length;++l)(n=c(a.weakImports[l])||i.resolvePath(e,a.weakImports[l]))&&h(n,!0)}else i.setOptions(t.options).addJSON(t.nested)}catch(e){u(e)}s||d||u(null,i)}function h(e,t){if(!(i.files.indexOf(e)>-1))if(i.files.push(e),e in a)s?l(e,a[e]):(++d,setTimeout((function(){--d,l(e,a[e])})));else if(s){var r;try{r=f.fs.readFileSync(e).toString(\"utf8\")}catch(e){return void(t||u(e))}l(e,r)}else++d,f.fetch(e,(function(r,o){--d,n&&(r?t?d||u(null,i):u(r):l(e,o))}))}var d=0;f.isString(t)&&(t=[t]);for(var y,v=0;v<t.length;++v)(y=i.resolvePath(\"\",t[v]))&&h(y);if(s)return i;d||u(null,i)},l.prototype.loadSync=function(e,t){if(!f.isNode)throw Error(\"not supported\");return this.load(e,t,p)},l.prototype.resolveAll=function(){if(this.deferred.length)throw Error(\"unresolvable extensions: \"+this.deferred.map((function(e){return\"'extend \"+e.extend+\"' in \"+e.parent.fullName})).join(\", \"));return n.prototype.resolveAll.call(this)};var h=/^[A-Z]/;function d(e,t){var r=t.parent.lookup(t.extend);if(r){var n=new s(t.fullName,t.id,t.type,t.rule,void 0,t.options);return n.declaringField=t,t.extensionField=n,r.add(n),!0}return!1}l.prototype._handleAdd=function(e){if(e instanceof s)void 0===e.extend||e.extensionField||d(0,e)||this.deferred.push(e);else if(e instanceof u)h.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof c)){if(e instanceof i)for(var t=0;t<this.deferred.length;)d(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);h.test(e.name)&&(e.parent[e.name]=e)}},l.prototype._handleRemove=function(e){if(e instanceof s){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof u)h.test(e.name)&&delete e.parent[e.name];else if(e instanceof n){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);h.test(e.name)&&delete e.parent[e.name]}},l._configure=function(e,t,r){i=e,o=t,a=r}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.XVIZBaseReader=void 0;var n=r(62);function i(e){return(i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.source=t,this.options=r,this.suffix=r.suffix||\"-frame.json\",this.index=this._readIndex()}var t,r,s;return t=e,(r=[{key:\"readMetadata\",value:function(){if(this.source){var e=this.source.readSync(this._xvizMessage(1));return e||(e=this.source.readSync(this._xvizMessage(1,{forceJson:!0}))),e}}},{key:\"readMessage\",value:function(e){if(this.source)return this.source.readSync(this._xvizMessage(2+e))}},{key:\"checkMessage\",value:function(e){return!!this.source&&this.source.existsSync(this._xvizMessage(2+e))}},{key:\"timeRange\",value:function(){if(this.index){var e=this.index;return{startTime:e.startTime,endTime:e.endTime}}return{startTime:null,endTime:null}}},{key:\"messageCount\",value:function(){if(this.index)return this.index.timing.length}},{key:\"findMessage\",value:function(e){if(this.index){var t=this.index,r=t.startTime,n=t.endTime,i=t.timing,o=this.messageCount(),a=o>0?o-1:0;if(e<r)return{first:0,last:0};if(e>n)return{first:a,last:a};for(var s=i.findIndex((function(t){return t[0]>=e})),u=-1,c=a;c>=0;){if(i[c][1]<=e){u=c;break}c--}return-1===s&&(s=0),-1===u&&(u=a),{first:s,last:u}}}},{key:\"close\",value:function(){this.source.close()}},{key:\"_xvizMessage\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.forceJson,n=void 0!==r&&r;return 0===e||n?\"\".concat(e,\"-frame.json\"):\"\".concat(e).concat(this.suffix)}},{key:\"_readIndex\",value:function(){if(this.source){var e=this.source.readSync(this._xvizMessage(0));if(e){if((0,n.isJSONString)(e))return JSON.parse(e);if(\"object\"===i(e))return e}}}}])&&a(t.prototype,r),s&&a(t,s),e}();t.XVIZBaseReader=s},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.XVIZ_MESSAGE_TYPE=void 0;var n=Object.freeze({START:\"start\",ERROR:\"error\",DONE:\"done\",METADATA:\"metadata\",STATE_UPDATE:\"state_update\",TRANSFORM_LOG:\"transform_log\",TRANSFORM_LOG_DONE:\"transform_log_done\",TRANSFORM_POINT_IN_TIME:\"transform_point_in_time\",RECONFIGURE:\"reconfigure\"});t.XVIZ_MESSAGE_TYPE=n},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.XVIZBaseProvider=void 0;var n=r(126);function i(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,u,\"next\",e)}function u(e){i(a,n,o,s,u,\"throw\",e)}s(void 0)}))}}function a(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}var c=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;a(this,e),this.start=t,this.end=r,this.increment=n,this.current=t}return u(e,[{key:\"valid\",value:function(){return this.current<=this.end}},{key:\"value\",value:function(){return this.current}},{key:\"next\",value:function(){var e=this.valid();if(!e)return{valid:e};var t=this.current;return this.current+=this.increment,{valid:e,data:t}}}]),e}(),f=function(){function e(t){var r=t.reader,n=t.options;a(this,e),this.reader=r,this.options=n,this.metadata=null,this._valid=!1}var t,r;return u(e,[{key:\"init\",value:(r=o(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.reader){e.next=2;break}return e.abrupt(\"return\");case 2:if(t=this.reader.timeRange(),r=t.startTime,n=t.endTime,this.metadata=this._readMetadata(),this.metadata&&Number.isFinite(r)&&Number.isFinite(n)&&this.reader.checkMessage(0)&&(this._valid=!0),!this.metadata||Number.isFinite(r)&&Number.isFinite(n)){e.next=7;break}throw new Error(\"The data source is missing the data index\");case 7:case\"end\":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:\"valid\",value:function(){return this._valid}},{key:\"xvizMetadata\",value:function(){return this.metadata}},{key:\"xvizMessage\",value:(t=o(regeneratorRuntime.mark((function e(t){var r,n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.next(),n=r.valid,i=r.data,n){e.next=3;break}return e.abrupt(\"return\",null);case 3:return o=this._readMessage(i),e.abrupt(\"return\",o);case 5:case\"end\":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:\"getMessageIterator\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.startTime,r=e.endTime,n=this.reader.timeRange(),i=n.startTime,o=n.endTime;if(Number.isFinite(t)||(t=i),Number.isFinite(r)||(r=o),t>r)return null;var a=this.reader.findMessage(t),s=this.reader.findMessage(r);return void 0!==a&&void 0!==s?new c(a.first,s.last):null}},{key:\"_readMessage\",value:function(e){var t=this.reader.readMessage(e);if(t)return new n.XVIZData(t)}},{key:\"_readMetadata\",value:function(){var e=this.reader.readMetadata();if(e)return new n.XVIZData(e)}}]),e}();t.XVIZBaseProvider=f},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.normalizeXVIZPrimitive=function(e,t,r,n,i,o,a){var s=t.type||i,u=t.vertices,c=t.center,f=e[s],l=f.enableZOffset,p=f.validate,h=f.normalize;if(l){var d=1e-6*r;if(u)for(var y=0;y<u.length;y++)u[y][2]=d;c&&2===c.length&&(c[2]=d)}s&&(t.type=s);if(!p(t,n,o))return null;h&&h(t);a&&a(t);return t},t.PRIMITIVE_CAT=void 0;t.PRIMITIVE_CAT={LOOKAHEAD:\"lookAheads\",FEATURE:\"features\",LABEL:\"labels\",POINTCLOUD:\"pointCloud\",IMAGE:\"images\",COMPONENT:\"components\"}},function(e,t){},function(e,t){},function(e,t){},function(e,t,r){\"use strict\";r.r(t);var n=r(95);r.d(t,\"Vector2\",(function(){return n.d})),r.d(t,\"Vector3\",(function(){return n.e})),r.d(t,\"Vector4\",(function(){return n.f})),r.d(t,\"Matrix3\",(function(){return n.a})),r.d(t,\"Matrix4\",(function(){return n.b})),r.d(t,\"Quaternion\",(function(){return n.c})),r.d(t,\"config\",(function(){return n.r})),r.d(t,\"configure\",(function(){return n.s})),r.d(t,\"formatValue\",(function(){return n.x})),r.d(t,\"isArray\",(function(){return n.y})),r.d(t,\"clone\",(function(){return n.q})),r.d(t,\"equals\",(function(){return n.v})),r.d(t,\"exactEquals\",(function(){return n.w})),r.d(t,\"toRadians\",(function(){return n.E})),r.d(t,\"toDegrees\",(function(){return n.D})),r.d(t,\"radians\",(function(){return n.A})),r.d(t,\"degrees\",(function(){return n.u})),r.d(t,\"sin\",(function(){return n.B})),r.d(t,\"cos\",(function(){return n.t})),r.d(t,\"tan\",(function(){return n.C})),r.d(t,\"asin\",(function(){return n.l})),r.d(t,\"acos\",(function(){return n.k})),r.d(t,\"atan\",(function(){return n.n})),r.d(t,\"clamp\",(function(){return n.p})),r.d(t,\"lerp\",(function(){return n.z})),r.d(t,\"withEpsilon\",(function(){return n.F})),r.d(t,\"checkNumber\",(function(){return n.o})),r.d(t,\"_MathUtils\",(function(){return n.h})),r.d(t,\"_SphericalCoordinates\",(function(){return n.j})),r.d(t,\"_Pose\",(function(){return n.i})),r.d(t,\"_Euler\",(function(){return n.g})),r.d(t,\"assert\",(function(){return n.m}))},function(e,t,r){\"use strict\";(function(e){var n=r(3),i=r(96);r.d(t,\"d\",(function(){return i.a}));var o=r(33);r.d(t,\"e\",(function(){return o.a}));var a=r(97);r.d(t,\"f\",(function(){return a.a}));var s=r(98);r.d(t,\"a\",(function(){return s.a}));var u=r(51);r.d(t,\"b\",(function(){return u.a}));var c=r(56);r.d(t,\"c\",(function(){return c.a})),r.d(t,\"r\",(function(){return n.f})),r.d(t,\"s\",(function(){return n.g})),r.d(t,\"x\",(function(){return n.l})),r.d(t,\"y\",(function(){return n.m})),r.d(t,\"q\",(function(){return n.e})),r.d(t,\"v\",(function(){return n.j})),r.d(t,\"w\",(function(){return n.k})),r.d(t,\"E\",(function(){return n.s})),r.d(t,\"D\",(function(){return n.r})),r.d(t,\"A\",(function(){return n.o})),r.d(t,\"u\",(function(){return n.i})),r.d(t,\"B\",(function(){return n.p})),r.d(t,\"t\",(function(){return n.h})),r.d(t,\"C\",(function(){return n.q})),r.d(t,\"l\",(function(){return n.b})),r.d(t,\"k\",(function(){return n.a})),r.d(t,\"n\",(function(){return n.c})),r.d(t,\"p\",(function(){return n.d})),r.d(t,\"z\",(function(){return n.n})),r.d(t,\"F\",(function(){return n.t}));var f=r(4);r.d(t,\"o\",(function(){return f.a}));var l=r(99);r.d(t,\"h\",(function(){return l.a}));var p=r(100);r.d(t,\"j\",(function(){return p.a}));var h=r(101);r.d(t,\"i\",(function(){return h.a}));var d=r(49);r.d(t,\"g\",(function(){return d.a}));var y=r(19);r.d(t,\"m\",(function(){return y.a}));var v={self:\"undefined\"!=typeof self&&self,window:\"undefined\"!=typeof window&&window,global:void 0!==e&&e};(v.global||v.self||v.window).mathgl={config:n.f}}).call(this,r(35))},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return h}));var n=r(6),i=r(5),o=r(13),a=r(10),s=r(12),u=r(48),c=r(3),f=r(4),l=r(27),p=r(20),h=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(n.a)(this,t),e=Object(o.a)(this,Object(a.a)(t).call(this,2)),Object(c.m)(r)&&1===arguments.length?e.copy(r):(c.f.debug&&(Object(f.a)(r),Object(f.a)(i)),e[0]=r,e[1]=i),e}return Object(s.a)(t,e),Object(i.a)(t,[{key:\"set\",value:function(e,t){return this[0]=e,this[1]=t,this.check()}},{key:\"copy\",value:function(e){return this[0]=e[0],this[1]=e[1],this.check()}},{key:\"fromObject\",value:function(e){return c.f.debug&&(Object(f.a)(e.x),Object(f.a)(e.y)),this[0]=e.x,this[1]=e.y,this.check()}},{key:\"toObject\",value:function(e){return e.x=this[0],e.y=this[1],e}},{key:\"horizontalAngle\",value:function(){return Math.atan2(this.y,this.x)}},{key:\"verticalAngle\",value:function(){return Math.atan2(this.x,this.y)}},{key:\"transform\",value:function(e){return this.transformAsPoint(e)}},{key:\"transformAsPoint\",value:function(e){return l.d(this,this,e),this.check()}},{key:\"transformAsVector\",value:function(e){return Object(p.a)(this,this,e),this.check()}},{key:\"transformByMatrix3\",value:function(e){return l.c(this,this,e),this.check()}},{key:\"transformByMatrix2x3\",value:function(e){return l.b(this,this,e),this.check()}},{key:\"transformByMatrix2\",value:function(e){return l.a(this,this,e),this.check()}},{key:\"ELEMENTS\",get:function(){return 2}}]),t}(u.a)},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return d}));var n=r(6),i=r(13),o=r(10),a=r(5),s=r(12),u=r(48),c=r(3),f=r(4),l=r(8),p=r(20),h={},d=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Object(n.a)(this,t),e=Object(i.a)(this,Object(o.a)(t).call(this,-0,-0,-0,-0)),Object(c.m)(r)&&1===arguments.length?e.copy(r):(c.f.debug&&(Object(f.a)(r),Object(f.a)(a),Object(f.a)(s),Object(f.a)(u)),e[0]=r,e[1]=a,e[2]=s,e[3]=u),e}return Object(s.a)(t,e),Object(a.a)(t,null,[{key:\"ZERO\",get:function(){return h.ZERO=h.ZERO||Object.freeze(new t(0,0,0,0))}}]),Object(a.a)(t,[{key:\"set\",value:function(e,t,r,n){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this.check()}},{key:\"copy\",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}},{key:\"fromObject\",value:function(e){return c.f.debug&&(Object(f.a)(e.x),Object(f.a)(e.y),Object(f.a)(e.z),Object(f.a)(e.w)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this}},{key:\"toObject\",value:function(e){return e.x=this[0],e.y=this[1],e.z=this[2],e.w=this[3],e}},{key:\"transform\",value:function(e){return l.m(this,this,e),this.check()}},{key:\"transformByMatrix3\",value:function(e){return Object(p.e)(this,this,e),this.check()}},{key:\"transformByMatrix2\",value:function(e){return Object(p.d)(this,this,e),this.check()}},{key:\"transformByQuaternion\",value:function(e){return l.n(this,this,e),this.check()}},{key:\"applyMatrix4\",value:function(e){return e.transform(this,this),this}},{key:\"ELEMENTS\",get:function(){return 4}},{key:\"z\",get:function(){return this[2]},set:function(e){this[2]=Object(f.a)(e)}},{key:\"w\",get:function(){return this[3]},set:function(e){this[3]=Object(f.a)(e)}}]),t}(u.a)},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return g}));var n=r(6),i=r(13),o=r(10),a=r(5),s=r(12),u=r(66),c=r(4),f=r(20),l=r(22),p=r(27),h=r(8),d=Object.freeze([1,0,0,0,1,0,0,0,1]),y=Object.freeze([0,0,0,0,0,0,0,0,0]),v=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL1ROW0:3,COL1ROW1:4,COL1ROW2:5,COL2ROW0:6,COL2ROW1:7,COL2ROW2:8}),m={},g=function(e){function t(e){var r;return Object(n.a)(this,t),r=Object(i.a)(this,Object(o.a)(t).call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0)),1===arguments.length&&Array.isArray(e)?r.copy(e):r.identity(),r}return Object(s.a)(t,e),Object(a.a)(t,[{key:\"ELEMENTS\",get:function(){return 9}},{key:\"RANK\",get:function(){return 3}},{key:\"INDICES\",get:function(){return v}}],[{key:\"IDENTITY\",get:function(){return m.IDENTITY=m.IDENTITY||Object.freeze(new t(d)),m.IDENTITY}},{key:\"ZERO\",get:function(){return m.ZERO=m.ZERO||Object.freeze(new t(y)),m.ZERO}}]),Object(a.a)(t,[{key:\"copy\",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this.check()}},{key:\"set\",value:function(e,t,r,n,i,o,a,s,u){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this[4]=i,this[5]=o,this[6]=a,this[7]=s,this[8]=u,this.check()}},{key:\"setRowMajor\",value:function(e,t,r,n,i,o,a,s,u){return this[0]=e,this[1]=n,this[2]=a,this[3]=t,this[4]=i,this[5]=s,this[6]=r,this[7]=o,this[8]=u,this.check()}},{key:\"determinant\",value:function(){return l.b(this)}},{key:\"identity\",value:function(){return this.copy(d)}},{key:\"fromQuaternion\",value:function(e){return l.c(this,e),this.check()}},{key:\"transpose\",value:function(){return l.i(this,this),this.check()}},{key:\"invert\",value:function(){return l.d(this,this),this.check()}},{key:\"multiplyLeft\",value:function(e){return l.e(this,e,this),this.check()}},{key:\"multiplyRight\",value:function(e){return l.e(this,this,e),this.check()}},{key:\"rotate\",value:function(e){return l.f(this,this,e),this.check()}},{key:\"scale\",value:function(e){return Array.isArray(e)?l.g(this,this,e):l.g(this,this,[e,e,e]),this.check()}},{key:\"translate\",value:function(e){return l.h(this,this,e),this.check()}},{key:\"transform\",value:function(e,t){switch(e.length){case 2:t=p.c(t||[-0,-0],e,this);break;case 3:t=h.l(t||[-0,-0,-0],e,this);break;case 4:t=Object(f.e)(t||[-0,-0,-0,-0],e,this);break;default:throw new Error(\"Illegal vector\")}return Object(c.b)(t,e.length),t}},{key:\"transformVector\",value:function(e,t){return Object(c.c)(\"Matrix3.transformVector\"),this.transform(e,t)}},{key:\"transformVector2\",value:function(e,t){return Object(c.c)(\"Matrix3.transformVector\"),this.transform(e,t)}},{key:\"transformVector3\",value:function(e,t){return Object(c.c)(\"Matrix3.transformVector\"),this.transform(e,t)}}]),t}(u.a)},function(e,t,r){\"use strict\";t.a={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,PI_OVER_TWO:Math.PI/2,PI_OVER_FOUR:Math.PI/4,PI_OVER_SIX:Math.PI/6,TWO_PI:2*Math.PI}},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return c}));var n=r(50),i=r(6),o=r(5),a=r(3),s=r(33),u=r(8),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.phi,n=void 0===r?0:r,o=t.theta,a=void 0===o?0:o,s=t.radius,u=void 0===s?1:s,c=t.bearing,f=void 0===c?void 0:c,l=t.pitch,p=void 0===l?void 0:l,h=t.altitude,d=void 0===h?void 0:h,y=t.radiusScale,v=void 0===y?6371e3:y;Object(i.a)(this,e),this.phi=n,this.theta=a,this.radius=u||d||1,this.radiusScale=v||1,void 0!==f&&(this.bearing=f),void 0!==p&&(this.pitch=p),this.check()}return Object(o.a)(e,[{key:\"toString\",value:function(){return this.formatString(a.f)}},{key:\"formatString\",value:function(e){var t=e.printTypes,r=void 0!==t&&t,n=a.l;return\"\".concat(r?\"Spherical\":\"\",\"[rho:\").concat(n(this.radius),\",theta:\").concat(n(this.theta),\",phi:\").concat(n(this.phi),\"]\")}},{key:\"equals\",value:function(e){return Object(a.j)(this.radius,e.radius)&&Object(a.j)(this.theta,e.theta)&&Object(a.j)(this.phi,e.phi)}},{key:\"exactEquals\",value:function(e){return this.radius===e.radius&&this.theta===e.theta&&this.phi===e.phi}},{key:\"set\",value:function(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this.check()}},{key:\"clone\",value:function(){return(new e).copy(this)}},{key:\"copy\",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this.check()}},{key:\"fromLngLatZ\",value:function(e){var t=Object(n.a)(e,3),r=t[0],i=t[1],o=t[2];this.radius=1+o/this.radiusScale,this.phi=Object(a.o)(i),this.theta=Object(a.o)(r)}},{key:\"fromVector3\",value:function(e){return this.radius=u.g(e),this.radius>0&&(this.theta=Math.atan2(e[0],e[1]),this.phi=Math.acos(Object(a.d)(e[2]/this.radius,-1,1))),this.check()}},{key:\"toVector3\",value:function(){return new s.a(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}},{key:\"makeSafe\",value:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}},{key:\"check\",value:function(){if(!(Number.isFinite(this.phi)&&Number.isFinite(this.theta)&&this.radius>0))throw new Error(\"SphericalCoordinates: some fields set to invalid numbers\");return this}},{key:\"bearing\",get:function(){return 180-Object(a.i)(this.phi)},set:function(e){this.phi=Math.PI-Object(a.o)(e)}},{key:\"pitch\",get:function(){return Object(a.i)(this.theta)},set:function(e){this.theta=Object(a.o)(e)}},{key:\"longitude\",get:function(){return Object(a.i)(this.phi)}},{key:\"latitude\",get:function(){return Object(a.i)(this.theta)}},{key:\"lng\",get:function(){return Object(a.i)(this.phi)}},{key:\"lat\",get:function(){return Object(a.i)(this.theta)}},{key:\"z\",get:function(){return(this.radius-1)*this.radiusScale}}]),e}()},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return u}));var n=r(6),i=r(5),o=r(51),a=r(33),s=r(49),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.x,i=void 0===r?0:r,o=t.y,u=void 0===o?0:o,c=t.z,f=void 0===c?0:c,l=t.roll,p=void 0===l?0:l,h=t.pitch,d=void 0===h?0:h,y=t.yaw,v=void 0===y?0:y,m=t.position,g=void 0===m?void 0:m,b=t.orientation,O=void 0===b?void 0:b;Object(n.a)(this,e),Array.isArray(g)&&3===g.length?this.position=new a.a(g):this.position=new a.a(i,u,f),Array.isArray(O)&&4===O.length?this.orientation=new s.a(O,O[3]):this.orientation=new s.a(p,d,v,s.a.RollPitchYaw)}return Object(i.a)(e,[{key:\"getPosition\",value:function(){return this.position}},{key:\"getOrientation\",value:function(){return this.orientation}},{key:\"equals\",value:function(e){return!!e&&(this.position.equals(e.position)&&this.orientation.equals(e.orientation))}},{key:\"exactEquals\",value:function(e){return!!e&&(this.position.exactEquals(e.position)&&this.orientation.exactEquals(e.orientation))}},{key:\"getTransformationMatrix\",value:function(){var e=Math.sin(this.roll),t=Math.sin(this.pitch),r=Math.sin(this.yaw),n=Math.cos(this.roll),i=Math.cos(this.pitch),a=Math.cos(this.yaw);return(new o.a).setRowMajor(a*i,-r*n+a*t*e,r*e+a*t*n,this.x,r*i,a*n+r*t*e,-a*e+r*t*n,this.y,-t,i*e,i*n,this.z,0,0,0,1)}},{key:\"getTransformationMatrixFromPose\",value:function(e){return(new o.a).multiplyRight(this.getTransformationMatrix()).multiplyRight(e.getTransformationMatrix().invert())}},{key:\"getTransformationMatrixToPose\",value:function(e){return(new o.a).multiplyRight(e.getTransformationMatrix()).multiplyRight(this.getTransformationMatrix().invert())}},{key:\"x\",get:function(){return this.position.x},set:function(e){this.position.x=e}},{key:\"y\",get:function(){return this.position.y},set:function(e){this.position.y=e}},{key:\"z\",get:function(){return this.position.z},set:function(e){this.position.z=e}},{key:\"roll\",get:function(){return this.orientation.roll},set:function(e){this.orientation.roll=e}},{key:\"pitch\",get:function(){return this.orientation.pitch},set:function(e){this.orientation.pitch=e}},{key:\"yaw\",get:function(){return this.orientation.yaw},set:function(e){this.orientation.yaw=e}}]),e}()},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.XVIZJSONWriter=void 0;var n=r(69),i=r(143),o=r(37),a=r(30);function s(e){return(s=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return(f=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||\"object\"!==s(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){return\"\".concat(e+2,\"-frame\")},v=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(h,e);var t,r,n,s=p(h);function h(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(this,h),t=s.call(this,e);var n=r.envelope,i=void 0===n||n,o=r.precision,a=void 0===o?10:o,c=r.asArrayBuffer,f=void 0!==c&&c;return t.messageTimings={messages:new Map},t.wroteMessageIndex=null,t.options={envelope:i,precision:a,asArrayBuffer:f},t}return t=h,(r=[{key:\"writeMetadata\",value:function(e){this._checkValid(),this._saveTimestamp(e),this.options.envelope&&(e=a.XVIZEnvelope.Metadata(e));var t=JSON.stringify(e);this.writeToSink(\"1-frame.json\",t)}},{key:\"writeMessage\",value:function(e,t){var r=this;this._checkValid(),this._saveTimestamp(t,e),this.options.envelope&&(t=a.XVIZEnvelope.StateUpdate(t));var n=(0,i.xvizConvertJson)(t),o=JSON.stringify(n,(function(e,t){return\"number\"==typeof t?Number(t.toFixed(r.options.precision)):t}));this.writeToSink(\"\".concat(y(e),\".json\"),o)}},{key:\"_writeMessageIndex\",value:function(){this._checkValid();var e=this.messageTimings,t=e.startTime,r=e.endTime,n=e.messages,i={};t&&(i.startTime=t),r&&(i.endTime=r);var o=Array.from(n.keys()).sort((function(e,t){return e-t})),a=[];o.forEach((function(e,t){var r=a.length;if(e>r)throw new Error(\"Error writing time index file. Messages are missing between \".concat(r+2,\" and \").concat(e+2));a.push(n.get(e))})),i.timing=a;var s=JSON.stringify(i);this.writeToSink(\"0-frame.json\",s),this.wroteMessageIndex=a.length}},{key:\"close\",value:function(){this.sink&&(this.wroteMessageIndex||this._writeMessageIndex(),f(d(h.prototype),\"close\",this).call(this))}},{key:\"_saveTimestamp\",value:function(e,t){var r=e.log_info,n=e.updates;if(void 0===t){if(r){var i=r||{},o=i.start_time,a=i.end_time;o&&(this.messageTimings.startTime=o),a&&(this.messageTimings.endTime=a)}}else{if(!n)throw new Error(\"Cannot find timestamp\");if(0===n.length||!n.every((function(e){return\"number\"==typeof e.timestamp})))throw new Error(\"XVIZ updates did not contain a valid timestamp\");var s=Math.min(n.map((function(e){return e.timestamp}))),u=Math.max(n.map((function(e){return e.timestamp})));this.messageTimings.messages.set(t,[s,u,t,y(t)])}}},{key:\"writeToSink\",value:function(e,t){this.options.asArrayBuffer&&(t=(new o.TextEncoder).encode(t)),this.sink.writeSync(e,t)}}])&&c(t.prototype,r),n&&c(t,n),h}(n.XVIZBaseWriter);t.XVIZJSONWriter=v},function(e,t,r){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0}),t.encodeBinaryXVIZ=m,t.XVIZBinaryWriter=void 0;var n=r(69),i=r(147),o=r(72),a=r(30);function s(e){return(s=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return(f=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||\"object\"!==s(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(t){if(ArrayBuffer.isView(t)&&(t=t.buffer),void 0!==e&&t instanceof ArrayBuffer){for(var r=new e(t.byteLength),n=new Uint8Array(t),i=0;i<r.length;++i)r[i]=n[i];return r}throw new Error(\"Failed to convert to buffer\")}var v=function(e){return\"\".concat(e+2,\"-frame\")};function m(e,t){var r=new i.GLTFBuilder(t),n=(0,o.packBinaryJson)(e,r,null,t);return!0===t.useAVSXVIZExtension?r.addExtension(a.XVIZ_GLTF_EXTENSION,n,{nopack:!0}):r.addApplicationData(\"xviz\",n,{nopack:!0}),r.encodeAsGLB(t)}var g=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(o,e);var t,r,n,i=p(o);function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(this,o),t=i.call(this,e);var n=r.envelope,a=void 0===n||n,s=r.flattenArrays,c=void 0===s||s,f=r.DracoWriter,l=r.DracoLoader;return t.messageTimings={messages:new Map},t.wroteMessageIndex=null,t.options={envelope:a,flattenArrays:c,DracoWriter:f,DracoLoader:l},t.encodingOptions={flattenArrays:t.options.flattenArrays},t.options.DracoWriter&&(t.encodingOptions.DracoWriter=f),t.options.DracoLoader&&(t.encodingOptions.DracoLoader=l),t}return t=o,(r=[{key:\"writeMetadata\",value:function(e){this._checkValid(),this._saveTimestamp(e),this.options.envelope&&(e=a.XVIZEnvelope.Metadata(e));var t=m(e,this.encodingOptions);this.sink.writeSync(\"1-frame.glb\",y(t),{flag:\"w\"})}},{key:\"writeMessage\",value:function(e,t){this._checkValid(),this._saveTimestamp(t,e),this.options.envelope&&(t=a.XVIZEnvelope.StateUpdate(t));var r=m(t,this.encodingOptions);this.sink.writeSync(\"\".concat(v(e),\".glb\"),y(r),{flag:\"w\"})}},{key:\"_writeMessageIndex\",value:function(){this._checkValid();var e=this.messageTimings,t=e.startTime,r=e.endTime,n=e.messages,i={};t&&(i.startTime=t),r&&(i.endTime=r);var o=Array.from(n.keys()).sort((function(e,t){return e-t})),a=[];o.forEach((function(e,t){var r=a.length;if(e>r)throw new Error(\"Error writing time index file. Messages are missing between \".concat(r+2,\" and \").concat(e+2));a.push(n.get(e))})),i.timing=a,this.sink.writeSync(\"0-frame.json\",JSON.stringify(i)),this.wroteMessageIndex=a.length}},{key:\"close\",value:function(){this.sink&&(this.wroteMessageIndex||this._writeMessageIndex(),f(d(o.prototype),\"close\",this).call(this))}},{key:\"_saveTimestamp\",value:function(e,t){var r=e.log_info,n=e.updates;if(void 0===t){if(r){var i=r||{},o=i.start_time,a=i.end_time;o&&(this.messageTimings.startTime=o),a&&(this.messageTimings.endTime=a)}}else{if(!n)throw new Error(\"Cannot find timestamp\");if(0===n.length||!n.every((function(e){return\"number\"==typeof e.timestamp})))throw new Error(\"XVIZ updates did not contain a valid timestamp\");var s=Math.min(n.map((function(e){return e.timestamp}))),u=Math.max(n.map((function(e){return e.timestamp})));this.messageTimings.messages.set(t,[s,u,t,v(t)])}}}])&&c(t.prototype,r),n&&c(t,n),o}(n.XVIZBaseWriter);t.XVIZBinaryWriter=g}).call(this,r(71).Buffer)},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.UBER_POINT_CLOUD_EXTENSION=t.KHR_DRACO_MESH_COMPRESSION=void 0;t.KHR_DRACO_MESH_COMPRESSION=\"KHR_draco_mesh_compression\";t.UBER_POINT_CLOUD_EXTENSION=\"UBER_draco_point_cloud_compression\"},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return f}));var n=r(15),i=r(6),o=r(5),a=r(54);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c={id:\"request-scheduler\",throttleRequests:!0,maxRequests:6},f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(i.a)(this,e),this.props=u(u({},c),t),this.requestQueue=[],this.activeRequestCount=0,this.requestMap=new Map,this.stats=new a.b({id:t.id}),this.stats.get(\"Queued Requests\"),this.stats.get(\"Active Requests\"),this.stats.get(\"Cancelled Requests\"),this.stats.get(\"Queued Requests Ever\"),this.stats.get(\"Active Requests Ever\"),this._deferredUpdate=null}return Object(o.a)(e,[{key:\"scheduleRequest\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return 0};if(!this.props.throttleRequests)return Promise.resolve({done:function(){}});if(this.requestMap.has(e))return this.requestMap.get(e);var r={handle:e,getPriority:t},n=new Promise((function(e){return r.resolve=e,r}));return this.requestQueue.push(r),this.requestMap.set(e,n),this._issueNewRequests(),n}},{key:\"_issueRequest\",value:function(e){var t=this,r=e.handle,n=e.resolve,i=!1,o=function(){i||(i=!0,t.requestMap.delete(r),t.activeRequestCount--,t._issueNewRequests())};return this.activeRequestCount++,n?n({done:o}):Promise.resolve({done:o})}},{key:\"_issueNewRequests\",value:function(){var e=this;this._deferredUpdate||(this._deferredUpdate=setTimeout((function(){return e._issueNewRequestsAsync()}),0))}},{key:\"_issueNewRequestsAsync\",value:function(){this._deferredUpdate=null;var e=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==e){this._updateAllRequests();for(var t=0;t<e;++t)if(this.requestQueue.length>0){var r=this.requestQueue.shift();this._issueRequest(r)}}}},{key:\"_updateAllRequests\",value:function(){for(var e=this.requestQueue,t=0;t<e.length;++t){var r=e[t];this._updateRequest(r)||(e.splice(t,1),this.requestMap.delete(r.handle),t--)}e.sort((function(e,t){return e.priority-t.priority}))}},{key:\"_updateRequest\",value:function(e){return e.priority=e.getPriority(e.handle),!(e.priority<0)||(e.resolve(null),!1)}}]),e}()},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.xvizConvertProtobuf=g,t.XVIZProtobufWriter=void 0;var n=r(69),i=r(73);function o(e){return(o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if(\"string\"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===r&&e.constructor&&(r=e.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(e);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return(f=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){return!t||\"object\"!==o(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){return\"\".concat(e+2,\"-frame\")},v=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,e);var t,r,n,o=p(a);function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(this,a),t=o.call(this,e);var n=r.envelope,i=void 0===n||n;return t.messageTimings={messages:new Map},t.wroteMessageIndex=null,t.options={envelope:i},t}return t=a,(r=[{key:\"writeMetadata\",value:function(e){this._checkValid(),this._saveTimestamp(e);var t=g(e),r={type:i.XVIZ_PROTOBUF_MESSAGE.Metadata,msg:i.XVIZ_PROTOBUF_MESSAGE.Metadata.fromObject(t)};this.options.envelope&&this._applyEnvelope(r);var n=r.type.encode(r.msg).finish(),o=new Uint8Array(n.byteLength+4);o.set(i.XVIZ_PROTOBUF_MAGIC,0),o.set(n,4),this.writeToSink(\"1-frame.pbe\",o)}},{key:\"writeMessage\",value:function(e,t){this._checkValid(),this._saveTimestamp(t,e);var r=g(t),n={type:i.XVIZ_PROTOBUF_MESSAGE.StateUpdate,msg:i.XVIZ_PROTOBUF_MESSAGE.StateUpdate.fromObject(r)};this.options.envelope&&this._applyEnvelope(n);var o=n.type.encode(n.msg).finish(),a=new Uint8Array(o.byteLength+4);a.set(i.XVIZ_PROTOBUF_MAGIC,0),a.set(o,4),this.writeToSink(\"\".concat(y(e),\".pbe\"),a)}},{key:\"_applyEnvelope\",value:function(e){if(e.type===i.XVIZ_PROTOBUF_MESSAGE.Metadata){var t=e.type.encode(e.msg).finish();e.type=i.XVIZ_PROTOBUF_MESSAGE.Envelope,e.msg=e.type.fromObject({type:\"xviz/metadata\",data:{type_url:\"xviz.v2.Metadata\",value:t}})}else if(e.type===i.XVIZ_PROTOBUF_MESSAGE.StateUpdate){var r=e.type.encode(e.msg).finish();e.type=i.XVIZ_PROTOBUF_MESSAGE.Envelope,e.msg=e.type.fromObject({type:\"xviz/state_update\",data:{type_url:\"xviz.v2.StateUpdate\",value:r}})}}},{key:\"_writeMessageIndex\",value:function(){this._checkValid();var e=this.messageTimings,t=e.startTime,r=e.endTime,n=e.messages,i={};t&&(i.startTime=t),r&&(i.endTime=r);var o=Array.from(n.keys()).sort((function(e,t){return e-t})),a=[];o.forEach((function(e,t){var r=a.length;if(e>r)throw new Error(\"Error writing time index file. Messages are missing between \".concat(r+2,\" and \").concat(e+2));a.push(n.get(e))})),i.timing=a;var s=JSON.stringify(i);this.writeToSink(\"0-frame.json\",s),this.wroteMessageIndex=a.length}},{key:\"close\",value:function(){this.sink&&(this.wroteMessageIndex||this._writeMessageIndex(),f(d(a.prototype),\"close\",this).call(this))}},{key:\"_saveTimestamp\",value:function(e,t){var r=e.log_info,n=e.updates;if(void 0===t){if(r){var i=r||{},o=i.start_time,a=i.end_time;o&&(this.messageTimings.startTime=o),a&&(this.messageTimings.endTime=a)}}else{if(!n)throw new Error(\"Cannot find timestamp\");if(0===n.length||!n.every((function(e){return\"number\"==typeof e.timestamp})))throw new Error(\"XVIZ updates did not contain a valid timestamp\");var s=Math.min(n.map((function(e){return e.timestamp}))),u=Math.max(n.map((function(e){return e.timestamp})));this.messageTimings.messages.set(t,[s,u,t,y(t)])}}},{key:\"writeToSink\",value:function(e,t){this.sink.writeSync(e,t)}}])&&c(t.prototype,r),n&&c(t,n),a}(n.XVIZBaseWriter);t.XVIZProtobufWriter=v;var m=[\"stroke_color\",\"fill_color\"];function g(e,t){if(Array.isArray(e)){if(\"vertices\"!==t&&\"points\"!==t&&\"colors\"!==t)return e.map((function(e){return g(e,t)}));if(Array.isArray(e[0])){var r=[];return e.forEach((function(e){return r.push.apply(r,a(e))})),r}if(ArrayBuffer.isView(e[0])){var n=[];return e.forEach((function(e){return n.push.apply(n,a(Array.from(e)))})),n}if(Number.isFinite(e[0]))return e;if(\"object\"===o(e[0]))return e.map((function(e){return g(e,t)}))}if(ArrayBuffer.isView(e))return Array.from(e);if(m.includes(t)&&\"string\"==typeof e&&e.match(/^#([0-9a-f]{3,4})|([0-9a-f]{6,8})$/i))return function(e){var t=e.substring(1),r=t.length;if(3!==r&&4!==r&&6!==r&&8!==r)return null;for(var n=[],i=3===t.length||4===t.length?1:2,o=0;o<t.length;o+=i)n.push(parseInt(t.substr(o,i),16));return n}(e);if(null!==e&&\"object\"===o(e)){if(Object.keys(e).includes(\"data\")&&\"images\"===t)return e;for(var i={},s=0,u=Object.keys(e);s<u.length;s++){var c=u[s];i[c]=g(e[c],c)}return i}return e}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.newAjv=g,t.XVIZValidator=t.ValidationError=void 0;var n,i=(n=r(155))&&n.__esModule?n:{default:n},o=r(74);function a(e){return(a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function c(e,t){return!t||\"object\"!==a(t)&&\"function\"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function l(e){var t=\"function\"==typeof Map?new Map:void 0;return(l=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf(\"[native code]\")))return e;var r;if(\"function\"!=typeof e)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return p(e,arguments,y(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)})(e)}function p(e,t,r){return(p=h()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&d(i,r.prototype),i}).apply(null,arguments)}function h(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,r,n=(t=i,r=h(),function(){var e,n=y(t);if(r){var i=y(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return c(this,e)});function i(){var e;u(this,i);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=n.call.apply(n,[this].concat(r)),Error.captureStackTrace(f(e),i),e}return i}(l(Error));t.ValidationError=v;var m=function(){function e(){for(var t in u(this,e),this.ajv=g(),o.SCHEMA_DATA){var r=o.SCHEMA_DATA[t];this.ajv.addSchema(r,t)}}var t,r,n;return t=e,(r=[{key:\"validateMetadata\",value:function(e){this.validate(\"session/metadata.schema.json\",e)}},{key:\"validateStateUpdate\",value:function(e){this.validate(\"session/state_update.schema.json\",e)}},{key:\"validateStreamSet\",value:function(e){this.validate(\"core/stream_set.schema.json\",e)}},{key:\"validatePose\",value:function(e){this.validate(\"core/pose.schema.json\",e)}},{key:\"validatePrimitive\",value:function(e,t){this.validate(\"primitives/\".concat(e,\".schema.json\"),t)}},{key:\"validateTimeSeries\",value:function(e){this.validate(\"core/timeseries_state.schema.json\",e)}},{key:\"validateFutureInstances\",value:function(e){this.validate(\"core/future_instances.schema.json\",e)}},{key:\"validateVariable\",value:function(e){this.validate(\"core/variable.schema.json\",e)}},{key:\"validateAnnotation\",value:function(e,t){this.validate(\"core/annotation_\".concat(e,\".schema.json\"),t)}},{key:\"validate\",value:function(e,t){var r=this._getSchema(e);if(void 0===r)throw\"Could not load schema: \".concat(e);if(!r(t)){var n=JSON.stringify(r.errors,null,\"  \");throw new v(\"Validation errors: \".concat(n))}}},{key:\"schemaCount\",value:function(){return Object.keys(this.ajv._schemas).length}},{key:\"hasSchema\",value:function(e){return void 0!==this._getSchema(e)}},{key:\"_getSchema\",value:function(e){return e.endsWith(\".schema.json\")||(e+=\".schema.json\"),this.ajv.getSchema(e)}}])&&s(t.prototype,r),n&&s(t,n),e}();function g(){var e,t;return e=new i.default({meta:!1,schemaId:\"id\",extendRefs:\"fail\"}),t=r(189),e.addMetaSchema(t),e._opts.defaultMeta=t.id,e.removeKeyword(\"propertyNames\"),e.removeKeyword(\"contains\"),e.removeKeyword(\"const\"),e}t.XVIZValidator=m},function(e,t,r){\"use strict\";var n=r(41);e.exports=function(e){n.copy(e,this)}},function(e,t,r){\"use strict\";e.exports=function(e,t){t||(t={}),\"function\"==typeof t&&(t={cmp:t});var r,n=\"boolean\"==typeof t.cycles&&t.cycles,i=t.cmp&&(r=t.cmp,function(e){return function(t,n){var i={key:t,value:e[t]},o={key:n,value:e[n]};return r(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&\"function\"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if(\"number\"==typeof t)return isFinite(t)?\"\"+t:\"null\";if(\"object\"!=typeof t)return JSON.stringify(t);var r,a;if(Array.isArray(t)){for(a=\"[\",r=0;r<t.length;r++)r&&(a+=\",\"),a+=e(t[r])||\"null\";return a+\"]\"}if(null===t)return\"null\";if(-1!==o.indexOf(t)){if(n)return JSON.stringify(\"__cycle__\");throw new TypeError(\"Converting circular structure to JSON\")}var s=o.push(t)-1,u=Object.keys(t).sort(i&&i(t));for(a=\"\",r=0;r<u.length;r++){var c=u[r],f=e(t[c]);f&&(a&&(a+=\",\"),a+=JSON.stringify(c)+\":\"+f)}return o.splice(s,1),\"{\"+a+\"}\"}}(e)}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n=\"\",i=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,\"$ref\"),a=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var u=\"unknown keyword: \"+s;if(\"log\"!==e.opts.strictKeywords)throw new Error(u);e.logger.warn(u)}}if(e.isTop&&(n+=\" var validate = \",i&&(e.async=!0,n+=\"async \"),n+=\"function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; \",a&&(e.opts.sourceCode||e.opts.processCode)&&(n+=\" /*# sourceURL=\"+a+\" */ \")),\"boolean\"==typeof e.schema||!o&&!e.schema.$ref){var c=e.level,f=e.dataLevel,l=e.schema[\"false schema\"],p=e.schemaPath+e.util.getProperty(\"false schema\"),h=e.errSchemaPath+\"/false schema\",d=!e.opts.allErrors,y=\"data\"+(f||\"\"),v=\"valid\"+c;if(!1===e.schema){e.isTop?d=!0:n+=\" var \"+v+\" = false; \",(H=H||[]).push(n),n=\"\",!1!==e.createErrors?(n+=\" { keyword: 'false schema' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(h)+\" , params: {} \",!1!==e.opts.messages&&(n+=\" , message: 'boolean schema is false' \"),e.opts.verbose&&(n+=\" , schema: false , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+y+\" \"),n+=\" } \"):n+=\" {} \";var m=n;n=H.pop(),!e.compositeRule&&d?e.async?n+=\" throw new ValidationError([\"+m+\"]); \":n+=\" validate.errors = [\"+m+\"]; return false; \":n+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \"}else e.isTop?n+=i?\" return data; \":\" validate.errors = null; return true; \":n+=\" var \"+v+\" = true; \";return e.isTop&&(n+=\" }; return validate; \"),n}if(e.isTop){var g=e.isTop;c=e.level=0,f=e.dataLevel=0,y=\"data\";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var b=\"default is ignored in the schema root\";if(\"log\"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}n+=\" var vErrors = null; \",n+=\" var errors = 0;     \",n+=\" if (rootData === undefined) rootData = data; \"}else{c=e.level,y=\"data\"+((f=e.dataLevel)||\"\");if(a&&(e.baseId=e.resolve.url(e.baseId,a)),i&&!e.async)throw new Error(\"async schema in sync schema\");n+=\" var errs_\"+c+\" = errors;\"}v=\"valid\"+c,d=!e.opts.allErrors;var O=\"\",_=\"\",w=e.schema.type,E=Array.isArray(w);if(w&&e.opts.nullable&&!0===e.schema.nullable&&(E?-1==w.indexOf(\"null\")&&(w=w.concat(\"null\")):\"null\"!=w&&(w=[w,\"null\"],E=!0)),E&&1==w.length&&(w=w[0],E=!1),e.schema.$ref&&o){if(\"fail\"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path \"'+e.errSchemaPath+'\" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path \"'+e.errSchemaPath+'\"'))}if(e.schema.$comment&&e.opts.$comment&&(n+=\" \"+e.RULES.all.$comment.code(e,\"$comment\")),w){if(e.opts.coerceTypes)var j=e.util.coerceToTypes(e.opts.coerceTypes,w);var P=e.RULES.types[w];if(j||E||!0===P||P&&!Q(P)){p=e.schemaPath+\".type\",h=e.errSchemaPath+\"/type\",p=e.schemaPath+\".type\",h=e.errSchemaPath+\"/type\";var S=E?\"checkDataTypes\":\"checkDataType\";if(n+=\" if (\"+e.util[S](w,y,e.opts.strictNumbers,!0)+\") { \",j){var k=\"dataType\"+c,T=\"coerced\"+c;n+=\" var \"+k+\" = typeof \"+y+\"; \",\"array\"==e.opts.coerceTypes&&(n+=\" if (\"+k+\" == 'object' && Array.isArray(\"+y+\")) \"+k+\" = 'array'; \"),n+=\" var \"+T+\" = undefined; \";var A=\"\",x=j;if(x)for(var I,R=-1,M=x.length-1;R<M;)I=x[R+=1],R&&(n+=\" if (\"+T+\" === undefined) { \",A+=\"}\"),\"array\"==e.opts.coerceTypes&&\"array\"!=I&&(n+=\" if (\"+k+\" == 'array' && \"+y+\".length == 1) { \"+T+\" = \"+y+\" = \"+y+\"[0]; \"+k+\" = typeof \"+y+\";  } \"),\"string\"==I?n+=\" if (\"+k+\" == 'number' || \"+k+\" == 'boolean') \"+T+\" = '' + \"+y+\"; else if (\"+y+\" === null) \"+T+\" = ''; \":\"number\"==I||\"integer\"==I?(n+=\" if (\"+k+\" == 'boolean' || \"+y+\" === null || (\"+k+\" == 'string' && \"+y+\" && \"+y+\" == +\"+y+\" \",\"integer\"==I&&(n+=\" && !(\"+y+\" % 1)\"),n+=\")) \"+T+\" = +\"+y+\"; \"):\"boolean\"==I?n+=\" if (\"+y+\" === 'false' || \"+y+\" === 0 || \"+y+\" === null) \"+T+\" = false; else if (\"+y+\" === 'true' || \"+y+\" === 1) \"+T+\" = true; \":\"null\"==I?n+=\" if (\"+y+\" === '' || \"+y+\" === 0 || \"+y+\" === false) \"+T+\" = null; \":\"array\"==e.opts.coerceTypes&&\"array\"==I&&(n+=\" if (\"+k+\" == 'string' || \"+k+\" == 'number' || \"+k+\" == 'boolean' || \"+y+\" == null) \"+T+\" = [\"+y+\"]; \");n+=\" \"+A+\" if (\"+T+\" === undefined) {   \",(H=H||[]).push(n),n=\"\",!1!==e.createErrors?(n+=\" { keyword: 'type' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(h)+\" , params: { type: '\",n+=E?\"\"+w.join(\",\"):\"\"+w,n+=\"' } \",!1!==e.opts.messages&&(n+=\" , message: 'should be \",n+=E?\"\"+w.join(\",\"):\"\"+w,n+=\"' \"),e.opts.verbose&&(n+=\" , schema: validate.schema\"+p+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+y+\" \"),n+=\" } \"):n+=\" {} \";m=n;n=H.pop(),!e.compositeRule&&d?e.async?n+=\" throw new ValidationError([\"+m+\"]); \":n+=\" validate.errors = [\"+m+\"]; return false; \":n+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",n+=\" } else {  \";var N=f?\"data\"+(f-1||\"\"):\"parentData\";n+=\" \"+y+\" = \"+T+\"; \",f||(n+=\"if (\"+N+\" !== undefined)\"),n+=\" \"+N+\"[\"+(f?e.dataPathArr[f]:\"parentDataProperty\")+\"] = \"+T+\"; } \"}else{(H=H||[]).push(n),n=\"\",!1!==e.createErrors?(n+=\" { keyword: 'type' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(h)+\" , params: { type: '\",n+=E?\"\"+w.join(\",\"):\"\"+w,n+=\"' } \",!1!==e.opts.messages&&(n+=\" , message: 'should be \",n+=E?\"\"+w.join(\",\"):\"\"+w,n+=\"' \"),e.opts.verbose&&(n+=\" , schema: validate.schema\"+p+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+y+\" \"),n+=\" } \"):n+=\" {} \";m=n;n=H.pop(),!e.compositeRule&&d?e.async?n+=\" throw new ValidationError([\"+m+\"]); \":n+=\" validate.errors = [\"+m+\"]; return false; \":n+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \"}n+=\" } \"}}if(e.schema.$ref&&!o)n+=\" \"+e.RULES.all.$ref.code(e,\"$ref\")+\" \",d&&(n+=\" } if (errors === \",n+=g?\"0\":\"errs_\"+c,n+=\") { \",_+=\"}\");else{var V=e.RULES;if(V)for(var D=-1,L=V.length-1;D<L;)if(Q(P=V[D+=1])){if(P.type&&(n+=\" if (\"+e.util.checkDataType(P.type,y,e.opts.strictNumbers)+\") { \"),e.opts.useDefaults)if(\"object\"==P.type&&e.schema.properties){l=e.schema.properties;var C=Object.keys(l);if(C)for(var F,B=-1,U=C.length-1;B<U;){if(void 0!==(Z=l[F=C[B+=1]]).default){var z=y+e.util.getProperty(F);if(e.compositeRule){if(e.opts.strictDefaults){b=\"default is ignored for: \"+z;if(\"log\"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else n+=\" if (\"+z+\" === undefined \",\"empty\"==e.opts.useDefaults&&(n+=\" || \"+z+\" === null || \"+z+\" === '' \"),n+=\" ) \"+z+\" = \",\"shared\"==e.opts.useDefaults?n+=\" \"+e.useDefault(Z.default)+\" \":n+=\" \"+JSON.stringify(Z.default)+\" \",n+=\"; \"}}}else if(\"array\"==P.type&&Array.isArray(e.schema.items)){var $=e.schema.items;if($){R=-1;for(var Z,X=$.length-1;R<X;)if(void 0!==(Z=$[R+=1]).default){z=y+\"[\"+R+\"]\";if(e.compositeRule){if(e.opts.strictDefaults){b=\"default is ignored for: \"+z;if(\"log\"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else n+=\" if (\"+z+\" === undefined \",\"empty\"==e.opts.useDefaults&&(n+=\" || \"+z+\" === null || \"+z+\" === '' \"),n+=\" ) \"+z+\" = \",\"shared\"==e.opts.useDefaults?n+=\" \"+e.useDefault(Z.default)+\" \":n+=\" \"+JSON.stringify(Z.default)+\" \",n+=\"; \"}}}var q=P.rules;if(q)for(var Y,G=-1,J=q.length-1;G<J;)if(K(Y=q[G+=1])){var W=Y.code(e,Y.keyword,P.type);W&&(n+=\" \"+W+\" \",d&&(O+=\"}\"))}if(d&&(n+=\" \"+O+\" \",O=\"\"),P.type&&(n+=\" } \",w&&w===P.type&&!j)){n+=\" else { \";var H;p=e.schemaPath+\".type\",h=e.errSchemaPath+\"/type\";(H=H||[]).push(n),n=\"\",!1!==e.createErrors?(n+=\" { keyword: 'type' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(h)+\" , params: { type: '\",n+=E?\"\"+w.join(\",\"):\"\"+w,n+=\"' } \",!1!==e.opts.messages&&(n+=\" , message: 'should be \",n+=E?\"\"+w.join(\",\"):\"\"+w,n+=\"' \"),e.opts.verbose&&(n+=\" , schema: validate.schema\"+p+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+y+\" \"),n+=\" } \"):n+=\" {} \";m=n;n=H.pop(),!e.compositeRule&&d?e.async?n+=\" throw new ValidationError([\"+m+\"]); \":n+=\" validate.errors = [\"+m+\"]; return false; \":n+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",n+=\" } \"}d&&(n+=\" if (errors === \",n+=g?\"0\":\"errs_\"+c,n+=\") { \",_+=\"}\")}}function Q(e){for(var t=e.rules,r=0;r<t.length;r++)if(K(t[r]))return!0}function K(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var r=t.implements,n=0;n<r.length;n++)if(void 0!==e.schema[r[n]])return!0}(t)}return d&&(n+=\" \"+_+\" \"),g?(i?(n+=\" if (errors === 0) return data;           \",n+=\" else throw new ValidationError(vErrors); \"):(n+=\" validate.errors = vErrors; \",n+=\" return errors === 0;       \"),n+=\" }; return validate;\"):n+=\" var \"+v+\" = errors === errs_\"+c+\";\",n}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n,i=\" \",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+\"/\"+t,f=!e.opts.allErrors,l=\"data\"+(a||\"\"),p=e.opts.$data&&s&&s.$data;p?(i+=\" var schema\"+o+\" = \"+e.util.getData(s.$data,a,e.dataPathArr)+\"; \",n=\"schema\"+o):n=s;var h=\"maximum\"==t,d=h?\"exclusiveMaximum\":\"exclusiveMinimum\",y=e.schema[d],v=e.opts.$data&&y&&y.$data,m=h?\"<\":\">\",g=h?\">\":\"<\",b=void 0;if(!p&&\"number\"!=typeof s&&void 0!==s)throw new Error(t+\" must be number\");if(!v&&void 0!==y&&\"number\"!=typeof y&&\"boolean\"!=typeof y)throw new Error(d+\" must be number or boolean\");if(v){var O=e.util.getData(y.$data,a,e.dataPathArr),_=\"exclusive\"+o,w=\"exclType\"+o,E=\"exclIsNumber\"+o,j=\"' + \"+(k=\"op\"+o)+\" + '\";i+=\" var schemaExcl\"+o+\" = \"+O+\"; \",i+=\" var \"+_+\"; var \"+w+\" = typeof \"+(O=\"schemaExcl\"+o)+\"; if (\"+w+\" != 'boolean' && \"+w+\" != 'undefined' && \"+w+\" != 'number') { \";var P;b=d;(P=P||[]).push(i),i=\"\",!1!==e.createErrors?(i+=\" { keyword: '\"+(b||\"_exclusiveLimit\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: {} \",!1!==e.opts.messages&&(i+=\" , message: '\"+d+\" should be boolean' \"),e.opts.verbose&&(i+=\" , schema: validate.schema\"+u+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),i+=\" } \"):i+=\" {} \";var S=i;i=P.pop(),!e.compositeRule&&f?e.async?i+=\" throw new ValidationError([\"+S+\"]); \":i+=\" validate.errors = [\"+S+\"]; return false; \":i+=\" var err = \"+S+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",i+=\" } else if ( \",p&&(i+=\" (\"+n+\" !== undefined && typeof \"+n+\" != 'number') || \"),i+=\" \"+w+\" == 'number' ? ( (\"+_+\" = \"+n+\" === undefined || \"+O+\" \"+m+\"= \"+n+\") ? \"+l+\" \"+g+\"= \"+O+\" : \"+l+\" \"+g+\" \"+n+\" ) : ( (\"+_+\" = \"+O+\" === true) ? \"+l+\" \"+g+\"= \"+n+\" : \"+l+\" \"+g+\" \"+n+\" ) || \"+l+\" !== \"+l+\") { var op\"+o+\" = \"+_+\" ? '\"+m+\"' : '\"+m+\"='; \",void 0===s&&(b=d,c=e.errSchemaPath+\"/\"+d,n=O,p=v)}else{j=m;if((E=\"number\"==typeof y)&&p){var k=\"'\"+j+\"'\";i+=\" if ( \",p&&(i+=\" (\"+n+\" !== undefined && typeof \"+n+\" != 'number') || \"),i+=\" ( \"+n+\" === undefined || \"+y+\" \"+m+\"= \"+n+\" ? \"+l+\" \"+g+\"= \"+y+\" : \"+l+\" \"+g+\" \"+n+\" ) || \"+l+\" !== \"+l+\") { \"}else{E&&void 0===s?(_=!0,b=d,c=e.errSchemaPath+\"/\"+d,n=y,g+=\"=\"):(E&&(n=Math[h?\"min\":\"max\"](y,s)),y===(!E||n)?(_=!0,b=d,c=e.errSchemaPath+\"/\"+d,g+=\"=\"):(_=!1,j+=\"=\"));k=\"'\"+j+\"'\";i+=\" if ( \",p&&(i+=\" (\"+n+\" !== undefined && typeof \"+n+\" != 'number') || \"),i+=\" \"+l+\" \"+g+\" \"+n+\" || \"+l+\" !== \"+l+\") { \"}}b=b||t,(P=P||[]).push(i),i=\"\",!1!==e.createErrors?(i+=\" { keyword: '\"+(b||\"_limit\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { comparison: \"+k+\", limit: \"+n+\", exclusive: \"+_+\" } \",!1!==e.opts.messages&&(i+=\" , message: 'should be \"+j+\" \",i+=p?\"' + \"+n:n+\"'\"),e.opts.verbose&&(i+=\" , schema:  \",i+=p?\"validate.schema\"+u:\"\"+s,i+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),i+=\" } \"):i+=\" {} \";S=i;return i=P.pop(),!e.compositeRule&&f?e.async?i+=\" throw new ValidationError([\"+S+\"]); \":i+=\" validate.errors = [\"+S+\"]; return false; \":i+=\" var err = \"+S+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",i+=\" } \",f&&(i+=\" else { \"),i}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n,i=\" \",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+\"/\"+t,f=!e.opts.allErrors,l=\"data\"+(a||\"\"),p=e.opts.$data&&s&&s.$data;if(p?(i+=\" var schema\"+o+\" = \"+e.util.getData(s.$data,a,e.dataPathArr)+\"; \",n=\"schema\"+o):n=s,!p&&\"number\"!=typeof s)throw new Error(t+\" must be number\");i+=\"if ( \",p&&(i+=\" (\"+n+\" !== undefined && typeof \"+n+\" != 'number') || \"),i+=\" \"+l+\".length \"+(\"maxItems\"==t?\">\":\"<\")+\" \"+n+\") { \";var h=t,d=d||[];d.push(i),i=\"\",!1!==e.createErrors?(i+=\" { keyword: '\"+(h||\"_limitItems\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { limit: \"+n+\" } \",!1!==e.opts.messages&&(i+=\" , message: 'should NOT have \",i+=\"maxItems\"==t?\"more\":\"fewer\",i+=\" than \",i+=p?\"' + \"+n+\" + '\":\"\"+s,i+=\" items' \"),e.opts.verbose&&(i+=\" , schema:  \",i+=p?\"validate.schema\"+u:\"\"+s,i+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),i+=\" } \"):i+=\" {} \";var y=i;return i=d.pop(),!e.compositeRule&&f?e.async?i+=\" throw new ValidationError([\"+y+\"]); \":i+=\" validate.errors = [\"+y+\"]; return false; \":i+=\" var err = \"+y+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",i+=\"} \",f&&(i+=\" else { \"),i}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n,i=\" \",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+\"/\"+t,f=!e.opts.allErrors,l=\"data\"+(a||\"\"),p=e.opts.$data&&s&&s.$data;if(p?(i+=\" var schema\"+o+\" = \"+e.util.getData(s.$data,a,e.dataPathArr)+\"; \",n=\"schema\"+o):n=s,!p&&\"number\"!=typeof s)throw new Error(t+\" must be number\");var h=\"maxLength\"==t?\">\":\"<\";i+=\"if ( \",p&&(i+=\" (\"+n+\" !== undefined && typeof \"+n+\" != 'number') || \"),!1===e.opts.unicode?i+=\" \"+l+\".length \":i+=\" ucs2length(\"+l+\") \",i+=\" \"+h+\" \"+n+\") { \";var d=t,y=y||[];y.push(i),i=\"\",!1!==e.createErrors?(i+=\" { keyword: '\"+(d||\"_limitLength\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { limit: \"+n+\" } \",!1!==e.opts.messages&&(i+=\" , message: 'should NOT be \",i+=\"maxLength\"==t?\"longer\":\"shorter\",i+=\" than \",i+=p?\"' + \"+n+\" + '\":\"\"+s,i+=\" characters' \"),e.opts.verbose&&(i+=\" , schema:  \",i+=p?\"validate.schema\"+u:\"\"+s,i+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),i+=\" } \"):i+=\" {} \";var v=i;return i=y.pop(),!e.compositeRule&&f?e.async?i+=\" throw new ValidationError([\"+v+\"]); \":i+=\" validate.errors = [\"+v+\"]; return false; \":i+=\" var err = \"+v+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",i+=\"} \",f&&(i+=\" else { \"),i}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n,i=\" \",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+\"/\"+t,f=!e.opts.allErrors,l=\"data\"+(a||\"\"),p=e.opts.$data&&s&&s.$data;if(p?(i+=\" var schema\"+o+\" = \"+e.util.getData(s.$data,a,e.dataPathArr)+\"; \",n=\"schema\"+o):n=s,!p&&\"number\"!=typeof s)throw new Error(t+\" must be number\");i+=\"if ( \",p&&(i+=\" (\"+n+\" !== undefined && typeof \"+n+\" != 'number') || \"),i+=\" Object.keys(\"+l+\").length \"+(\"maxProperties\"==t?\">\":\"<\")+\" \"+n+\") { \";var h=t,d=d||[];d.push(i),i=\"\",!1!==e.createErrors?(i+=\" { keyword: '\"+(h||\"_limitProperties\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { limit: \"+n+\" } \",!1!==e.opts.messages&&(i+=\" , message: 'should NOT have \",i+=\"maxProperties\"==t?\"more\":\"fewer\",i+=\" than \",i+=p?\"' + \"+n+\" + '\":\"\"+s,i+=\" properties' \"),e.opts.verbose&&(i+=\" , schema:  \",i+=p?\"validate.schema\"+u:\"\"+s,i+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),i+=\" } \"):i+=\" {} \";var y=i;return i=d.pop(),!e.compositeRule&&f?e.async?i+=\" throw new ValidationError([\"+y+\"]); \":i+=\" validate.errors = [\"+y+\"]; return false; \":i+=\" var err = \"+y+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",i+=\"} \",f&&(i+=\" else { \"),i}},function(e){e.exports=JSON.parse('{\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"$id\":\"http://json-schema.org/draft-07/schema#\",\"title\":\"Core schema meta-schema\",\"definitions\":{\"schemaArray\":{\"type\":\"array\",\"minItems\":1,\"items\":{\"$ref\":\"#\"}},\"nonNegativeInteger\":{\"type\":\"integer\",\"minimum\":0},\"nonNegativeIntegerDefault0\":{\"allOf\":[{\"$ref\":\"#/definitions/nonNegativeInteger\"},{\"default\":0}]},\"simpleTypes\":{\"enum\":[\"array\",\"boolean\",\"integer\",\"null\",\"number\",\"object\",\"string\"]},\"stringArray\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"uniqueItems\":true,\"default\":[]}},\"type\":[\"object\",\"boolean\"],\"properties\":{\"$id\":{\"type\":\"string\",\"format\":\"uri-reference\"},\"$schema\":{\"type\":\"string\",\"format\":\"uri\"},\"$ref\":{\"type\":\"string\",\"format\":\"uri-reference\"},\"$comment\":{\"type\":\"string\"},\"title\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"default\":true,\"readOnly\":{\"type\":\"boolean\",\"default\":false},\"examples\":{\"type\":\"array\",\"items\":true},\"multipleOf\":{\"type\":\"number\",\"exclusiveMinimum\":0},\"maximum\":{\"type\":\"number\"},\"exclusiveMaximum\":{\"type\":\"number\"},\"minimum\":{\"type\":\"number\"},\"exclusiveMinimum\":{\"type\":\"number\"},\"maxLength\":{\"$ref\":\"#/definitions/nonNegativeInteger\"},\"minLength\":{\"$ref\":\"#/definitions/nonNegativeIntegerDefault0\"},\"pattern\":{\"type\":\"string\",\"format\":\"regex\"},\"additionalItems\":{\"$ref\":\"#\"},\"items\":{\"anyOf\":[{\"$ref\":\"#\"},{\"$ref\":\"#/definitions/schemaArray\"}],\"default\":true},\"maxItems\":{\"$ref\":\"#/definitions/nonNegativeInteger\"},\"minItems\":{\"$ref\":\"#/definitions/nonNegativeIntegerDefault0\"},\"uniqueItems\":{\"type\":\"boolean\",\"default\":false},\"contains\":{\"$ref\":\"#\"},\"maxProperties\":{\"$ref\":\"#/definitions/nonNegativeInteger\"},\"minProperties\":{\"$ref\":\"#/definitions/nonNegativeIntegerDefault0\"},\"required\":{\"$ref\":\"#/definitions/stringArray\"},\"additionalProperties\":{\"$ref\":\"#\"},\"definitions\":{\"type\":\"object\",\"additionalProperties\":{\"$ref\":\"#\"},\"default\":{}},\"properties\":{\"type\":\"object\",\"additionalProperties\":{\"$ref\":\"#\"},\"default\":{}},\"patternProperties\":{\"type\":\"object\",\"additionalProperties\":{\"$ref\":\"#\"},\"propertyNames\":{\"format\":\"regex\"},\"default\":{}},\"dependencies\":{\"type\":\"object\",\"additionalProperties\":{\"anyOf\":[{\"$ref\":\"#\"},{\"$ref\":\"#/definitions/stringArray\"}]}},\"propertyNames\":{\"$ref\":\"#\"},\"const\":true,\"enum\":{\"type\":\"array\",\"items\":true,\"minItems\":1,\"uniqueItems\":true},\"type\":{\"anyOf\":[{\"$ref\":\"#/definitions/simpleTypes\"},{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/simpleTypes\"},\"minItems\":1,\"uniqueItems\":true}]},\"format\":{\"type\":\"string\"},\"contentMediaType\":{\"type\":\"string\"},\"contentEncoding\":{\"type\":\"string\"},\"if\":{\"$ref\":\"#\"},\"then\":{\"$ref\":\"#\"},\"else\":{\"$ref\":\"#\"},\"allOf\":{\"$ref\":\"#/definitions/schemaArray\"},\"anyOf\":{\"$ref\":\"#/definitions/schemaArray\"},\"oneOf\":{\"$ref\":\"#/definitions/schemaArray\"},\"not\":{\"$ref\":\"#\"}},\"default\":true}')},function(e,t,r){\"use strict\";e.exports=function(e,t){var r=new Array(arguments.length-1),n=0,i=2,o=!0;for(;i<arguments.length;)r[n++]=arguments[i++];return new Promise((function(i,a){r[n]=function(e){if(o)if(o=!1,e)a(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(e){o&&(o=!1,a(e))}}))}},function(module,exports,__webpack_require__){\"use strict\";function inquire(moduleName){try{var mod=eval(\"quire\".replace(/^/,\"re\"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,r){\"use strict\";t.Service=r(203)},function(e,t,r){\"use strict\";e.exports={}},function(e,t,r){\"use strict\";e.exports=function(e){for(var t,r=o.codegen([\"m\",\"w\"],e.name+\"$encode\")(\"if(!w)\")(\"w=Writer.create()\"),s=e.fieldsArray.slice().sort(o.compareFieldsById),u=0;u<s.length;++u){var c=s[u].resolve(),f=e._fieldsArray.indexOf(c),l=c.resolvedType instanceof n?\"int32\":c.type,p=i.basic[l];t=\"m\"+o.safeProp(c.name),c.map?(r(\"if(%s!=null&&Object.hasOwnProperty.call(m,%j)){\",t,c.name)(\"for(var ks=Object.keys(%s),i=0;i<ks.length;++i){\",t)(\"w.uint32(%i).fork().uint32(%i).%s(ks[i])\",(c.id<<3|2)>>>0,8|i.mapKey[c.keyType],c.keyType),void 0===p?r(\"types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()\",f,t):r(\".uint32(%i).%s(%s[ks[i]]).ldelim()\",16|p,l,t),r(\"}\")(\"}\")):c.repeated?(r(\"if(%s!=null&&%s.length){\",t,t),c.packed&&void 0!==i.packed[l]?r(\"w.uint32(%i).fork()\",(c.id<<3|2)>>>0)(\"for(var i=0;i<%s.length;++i)\",t)(\"w.%s(%s[i])\",l,t)(\"w.ldelim()\"):(r(\"for(var i=0;i<%s.length;++i)\",t),void 0===p?a(r,c,f,t+\"[i]\"):r(\"w.uint32(%i).%s(%s[i])\",(c.id<<3|p)>>>0,l,t)),r(\"}\")):(c.optional&&r(\"if(%s!=null&&Object.hasOwnProperty.call(m,%j))\",t,c.name),void 0===p?a(r,c,f,t):r(\"w.uint32(%i).%s(%s)\",(c.id<<3|p)>>>0,l,t))}return r(\"return w\")};var n=r(25),i=r(43),o=r(17);function a(e,t,r,n){return t.resolvedType.group?e(\"types[%i].encode(%s,w.uint32(%i)).uint32(%i)\",r,n,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e(\"types[%i].encode(%s,w.uint32(%i).fork()).ldelim()\",r,n,(t.id<<3|2)>>>0)}},function(e,t,r){\"use strict\";e.exports=function(e){var t=o.typedArrayIsLe(),r=o.codegen([\"r\",\"l\"],e.name+\"$decode\")(\"if(!(r instanceof Reader))\")(\"r=Reader.create(r)\")(\"var c=l===undefined?r.len:r.pos+l,m=new this.ctor\"+(e.fieldsArray.filter((function(e){return e.map})).length?\",k\":\"\"))(\"while(r.pos<c){\")(\"var t=r.uint32()\");e.group&&r(\"if((t&7)===4)\")(\"break\");r(\"switch(t>>>3){\");for(var s=0;s<e.fieldsArray.length;++s){var u=e._fieldsArray[s].resolve(),c=u.resolvedType instanceof n?\"int32\":u.type,f=\"m\"+o.safeProp(u.name);r(\"case %i:\",u.id),u.map?(r(\"r.skip().pos++\")(\"if(%s===util.emptyObject)\",f)(\"%s={}\",f)(\"k=r.%s()\",u.keyType)(\"r.pos++\"),void 0!==i.long[u.keyType]?void 0===i.basic[c]?r('%s[typeof k===\"object\"?util.longToHash(k):k]=types[%i].decode(r,r.uint32())',f,s):r('%s[typeof k===\"object\"?util.longToHash(k):k]=r.%s()',f,c):void 0===i.basic[c]?r(\"%s[k]=types[%i].decode(r,r.uint32())\",f,s):r(\"%s[k]=r.%s()\",f,c)):t&&u.repeated&&\"float\"===c?r(\"%s=r.float_array()\",f):t&&u.repeated&&\"double\"===c?r(\"%s=r.double_array()\",f):t&&u.repeated&&\"fixed32\"===c?r(\"%s=r.fixed32_array()\",f):t&&u.repeated&&\"sfixed32\"===c?r(\"%s=r.sfixed32_array()\",f):u.repeated?(r(\"if(!(%s&&%s.length))\",f,f)(\"%s=[]\",f),void 0!==i.packed[c]&&r(\"if((t&7)===2){\")(\"var c2=r.uint32()+r.pos\")(\"while(r.pos<c2)\")(\"%s.push(r.%s())\",f,c)(\"}else\"),void 0===i.basic[c]?r(u.resolvedType.group?\"%s.push(types[%i].decode(r))\":\"%s.push(types[%i].decode(r,r.uint32()))\",f,s):r(\"%s.push(r.%s())\",f,c)):void 0===i.basic[c]?r(u.resolvedType.group?\"%s=types[%i].decode(r)\":\"%s=types[%i].decode(r,r.uint32())\",f,s):r(\"%s=r.%s()\",f,c),r(\"break\")}for(r(\"default:\")(\"r.skipType(t&7)\")(\"break\")(\"}\")(\"}\"),s=0;s<e._fieldsArray.length;++s){var l=e._fieldsArray[s];l.required&&r(\"if(!m.hasOwnProperty(%j))\",l.name)(\"throw util.ProtocolError(%j,{instance:m})\",a(l))}return r(\"return m\")};var n=r(25),i=r(43),o=r(17);function a(e){return\"missing required '\"+e.name+\"'\"}},function(e,t,r){\"use strict\";e.exports=function(e){var t=i.codegen([\"m\"],e.name+\"$verify\")('if(typeof m!==\"object\"||m===null)')(\"return%j\",\"object expected\"),r=e.oneofsArray,n={};r.length&&t(\"var p={}\");for(var u=0;u<e.fieldsArray.length;++u){var c=e._fieldsArray[u].resolve(),f=\"m\"+i.safeProp(c.name);if(c.optional&&t(\"if(%s!=null&&m.hasOwnProperty(%j)){\",f,c.name),c.map)t(\"if(!util.isObject(%s))\",f)(\"return%j\",o(c,\"object\"))(\"var k=Object.keys(%s)\",f)(\"for(var i=0;i<k.length;++i){\"),s(t,c,\"k[i]\"),a(t,c,u,f+\"[k[i]]\")(\"}\");else if(c.repeated)t(\"if(!Array.isArray(%s))\",f)(\"return%j\",o(c,\"array\"))(\"for(var i=0;i<%s.length;++i){\",f),a(t,c,u,f+\"[i]\")(\"}\");else{if(c.partOf){var l=i.safeProp(c.partOf.name);1===n[c.partOf.name]&&t(\"if(p%s===1)\",l)(\"return%j\",c.partOf.name+\": multiple values\"),n[c.partOf.name]=1,t(\"p%s=1\",l)}a(t,c,u,f)}c.optional&&t(\"}\")}return t(\"return null\")};var n=r(25),i=r(17);function o(e,t){return e.name+\": \"+t+(e.repeated&&\"array\"!==t?\"[]\":e.map&&\"object\"!==t?\"{k:\"+e.keyType+\"}\":\"\")+\" expected\"}function a(e,t,r,i){if(t.resolvedType)if(t.resolvedType instanceof n){e(\"switch(%s){\",i)(\"default:\")(\"return%j\",o(t,\"enum value\"));for(var a=Object.keys(t.resolvedType.values),s=0;s<a.length;++s)e(\"case %i:\",t.resolvedType.values[a[s]]);e(\"break\")(\"}\")}else e(\"{\")(\"var e=types[%i].verify(%s);\",r,i)(\"if(e)\")(\"return%j+e\",t.name+\".\")(\"}\");else switch(t.type){case\"int32\":case\"uint32\":case\"sint32\":case\"fixed32\":case\"sfixed32\":e(\"if(!util.isInteger(%s))\",i)(\"return%j\",o(t,\"integer\"));break;case\"int64\":case\"uint64\":case\"sint64\":case\"fixed64\":case\"sfixed64\":e(\"if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))\",i,i,i,i)(\"return%j\",o(t,\"integer|Long\"));break;case\"float\":case\"double\":e('if(typeof %s!==\"number\")',i)(\"return%j\",o(t,\"number\"));break;case\"bool\":e('if(typeof %s!==\"boolean\")',i)(\"return%j\",o(t,\"boolean\"));break;case\"string\":e(\"if(!util.isString(%s))\",i)(\"return%j\",o(t,\"string\"));break;case\"bytes\":e('if(!(%s&&typeof %s.length===\"number\"||util.isString(%s)))',i,i,i)(\"return%j\",o(t,\"buffer\"))}return e}function s(e,t,r){switch(t.keyType){case\"int32\":case\"uint32\":case\"sint32\":case\"fixed32\":case\"sfixed32\":e(\"if(!util.key32Re.test(%s))\",r)(\"return%j\",o(t,\"integer key\"));break;case\"int64\":case\"uint64\":case\"sint64\":case\"fixed64\":case\"sfixed64\":e(\"if(!util.key64Re.test(%s))\",r)(\"return%j\",o(t,\"integer|Long key\"));break;case\"bool\":e(\"if(!util.key2Re.test(%s))\",r)(\"return%j\",o(t,\"boolean key\"))}return e}},function(e,t,r){\"use strict\";var n=t,i=r(25),o=r(17);function a(e,t,r,n){if(t.resolvedType)if(t.resolvedType instanceof i){e(\"switch(d%s){\",n);for(var o=t.resolvedType.values,a=Object.keys(o),s=0;s<a.length;++s)t.repeated&&o[a[s]]===t.typeDefault&&e(\"default:\"),e(\"case%j:\",a[s])(\"case %i:\",o[a[s]])(\"m%s=%j\",n,o[a[s]])(\"break\");e(\"}\")}else e('if(typeof d%s!==\"object\")',n)(\"throw TypeError(%j)\",t.fullName+\": object expected\")(\"m%s=types[%i].fromObject(d%s)\",n,r,n);else{var u=!1;switch(t.type){case\"double\":case\"float\":e(\"m%s=Number(d%s)\",n,n);break;case\"uint32\":case\"fixed32\":e(\"m%s=d%s>>>0\",n,n);break;case\"int32\":case\"sint32\":case\"sfixed32\":e(\"m%s=d%s|0\",n,n);break;case\"uint64\":u=!0;case\"int64\":case\"sint64\":case\"fixed64\":case\"sfixed64\":e(\"if(util.Long)\")(\"(m%s=util.Long.fromValue(d%s)).unsigned=%j\",n,n,u)('else if(typeof d%s===\"string\")',n)(\"m%s=parseInt(d%s,10)\",n,n)('else if(typeof d%s===\"number\")',n)(\"m%s=d%s\",n,n)('else if(typeof d%s===\"object\")',n)(\"m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)\",n,n,n,u?\"true\":\"\");break;case\"bytes\":e('if(typeof d%s===\"string\")',n)(\"util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)\",n,n,n)(\"else if(d%s.length)\",n)(\"m%s=d%s\",n,n);break;case\"string\":e(\"m%s=String(d%s)\",n,n);break;case\"bool\":e(\"m%s=Boolean(d%s)\",n,n)}}return e}function s(e,t,r,n){if(t.resolvedType)t.resolvedType instanceof i?e(\"d%s=o.enums===String?types[%i].values[m%s]:m%s\",n,r,n,n):e(\"d%s=types[%i].toObject(m%s,o)\",n,r,n);else{var o=!1;switch(t.type){case\"double\":case\"float\":e(\"d%s=o.json&&!isFinite(m%s)?String(m%s):m%s\",n,n,n,n);break;case\"uint64\":o=!0;case\"int64\":case\"sint64\":case\"fixed64\":case\"sfixed64\":e('if(typeof m%s===\"number\")',n)(\"d%s=o.longs===String?String(m%s):m%s\",n,n,n)(\"else\")(\"d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s\",n,n,n,n,o?\"true\":\"\",n);break;case\"bytes\":e(\"d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s\",n,n,n,n,n);break;default:e(\"d%s=m%s\",n,n)}}return e}n.fromObject=function(e){var t=e.fieldsArray,r=o.codegen([\"d\"],e.name+\"$fromObject\")(\"if(d instanceof this.ctor)\")(\"return d\");if(!t.length)return r(\"return new this.ctor\");r(\"var m=new this.ctor\");for(var n=0;n<t.length;++n){var s=t[n].resolve(),u=o.safeProp(s.name);s.map?(r(\"if(d%s){\",u)('if(typeof d%s!==\"object\")',u)(\"throw TypeError(%j)\",s.fullName+\": object expected\")(\"m%s={}\",u)(\"for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){\",u),a(r,s,n,u+\"[ks[i]]\")(\"}\")(\"}\")):s.repeated?(r(\"if(d%s){\",u)(\"if(!Array.isArray(d%s))\",u)(\"throw TypeError(%j)\",s.fullName+\": array expected\")(\"m%s=[]\",u)(\"for(var i=0;i<d%s.length;++i){\",u),a(r,s,n,u+\"[i]\")(\"}\")(\"}\")):(s.resolvedType instanceof i||r(\"if(d%s!=null){\",u),a(r,s,n,u),s.resolvedType instanceof i||r(\"}\"))}return r(\"return m\")},n.toObject=function(e){var t=e.fieldsArray.slice().sort(o.compareFieldsById);if(!t.length)return o.codegen()(\"return {}\");for(var r=o.codegen([\"m\",\"o\"],e.name+\"$toObject\")(\"if(!o)\")(\"o={}\")(\"var d={}\"),n=[],a=[],u=[],c=0;c<t.length;++c)t[c].partOf||(t[c].resolve().repeated?n:t[c].map?a:u).push(t[c]);if(n.length){for(r(\"if(o.arrays||o.defaults){\"),c=0;c<n.length;++c)r(\"d%s=[]\",o.safeProp(n[c].name));r(\"}\")}if(a.length){for(r(\"if(o.objects||o.defaults){\"),c=0;c<a.length;++c)r(\"d%s={}\",o.safeProp(a[c].name));r(\"}\")}if(u.length){for(r(\"if(o.defaults){\"),c=0;c<u.length;++c){var f=u[c],l=o.safeProp(f.name);if(f.resolvedType instanceof i)r(\"d%s=o.enums===String?%j:%j\",l,f.resolvedType.valuesById[f.typeDefault],f.typeDefault);else if(f.long)r(\"if(util.Long){\")(\"var n=new util.Long(%i,%i,%j)\",f.typeDefault.low,f.typeDefault.high,f.typeDefault.unsigned)(\"d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n\",l)(\"}else\")(\"d%s=o.longs===String?%j:%i\",l,f.typeDefault.toString(),f.typeDefault.toNumber());else if(f.bytes){var p=\"[\"+Array.prototype.slice.call(f.typeDefault).join(\",\")+\"]\";r(\"if(o.bytes===String)d%s=%j\",l,String.fromCharCode.apply(String,f.typeDefault))(\"else{\")(\"d%s=%s\",l,p)(\"if(o.bytes!==Array)d%s=util.newBuffer(d%s)\",l,l)(\"}\")}else r(\"d%s=%j\",l,f.typeDefault)}r(\"}\")}var h=!1;for(c=0;c<t.length;++c){f=t[c];var d=e._fieldsArray.indexOf(f);l=o.safeProp(f.name);f.map?(h||(h=!0,r(\"var ks2\")),r(\"if(m%s&&(ks2=Object.keys(m%s)).length){\",l,l)(\"d%s={}\",l)(\"for(var j=0;j<ks2.length;++j){\"),s(r,f,d,l+\"[ks2[j]]\")(\"}\")):f.repeated?(r(\"if(m%s&&m%s.length){\",l,l)(\"d%s=[]\",l)(\"for(var j=0;j<m%s.length;++j){\",l),s(r,f,d,l+\"[j]\")(\"}\")):(r(\"if(m%s!=null&&m.hasOwnProperty(%j)){\",l,f.name),s(r,f,d,l),f.partOf&&r(\"if(o.oneofs)\")(\"d%s=%j\",o.safeProp(f.partOf.name),f.name)),r(\"}\")}return r(\"return d\")}},function(e,t,r){\"use strict\";var n=t,i=r(85);n[\".google.protobuf.Any\"]={fromObject:function(e){if(e&&e[\"@type\"]){var t=this.lookup(e[\"@type\"]);if(t){var r=\".\"===e[\"@type\"].charAt(0)?e[\"@type\"].substr(1):e[\"@type\"];return this.create({type_url:\"/\"+r,value:t.encode(t.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){if(t&&t.json&&e.type_url&&e.value){var r=e.type_url.substring(e.type_url.lastIndexOf(\"/\")+1),n=this.lookup(r);n&&(e=n.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof i){var o=e.$type.toObject(e,t);return o[\"@type\"]=e.$type.fullName,o}return this.toObject(e,t)}}},function(e,t,r){\"use strict\";e.exports=h;var n=/[\\s{}=;:[\\],'\"()<>]/g,i=/(?:\"([^\"\\\\]*(?:\\\\.[^\"\\\\]*)*)\")/g,o=/(?:'([^'\\\\]*(?:\\\\.[^'\\\\]*)*)')/g,a=/^ *[*/]+ */,s=/^\\s*\\*?\\/*/,u=/\\n/g,c=/\\s/,f=/\\\\(.?)/g,l={0:\"\\0\",r:\"\\r\",n:\"\\n\",t:\"\\t\"};function p(e){return e.replace(f,(function(e,t){switch(t){case\"\\\\\":case\"\":return t;default:return l[t]||\"\"}}))}function h(e,t){e=e.toString();var r=0,f=e.length,l=1,h=null,d=null,y=0,v=!1,m=[],g=null;function b(e){return Error(\"illegal \"+e+\" (line \"+l+\")\")}function O(t){return e.charAt(t)}function _(r,n){h=e.charAt(r++),y=l,v=!1;var i,o=r-(t?2:3);do{if(--o<0||\"\\n\"===(i=e.charAt(o))){v=!0;break}}while(\" \"===i||\"\\t\"===i);for(var c=e.substring(r,n).split(u),f=0;f<c.length;++f)c[f]=c[f].replace(t?s:a,\"\").trim();d=c.join(\"\\n\").trim()}function w(t){var r=E(t),n=e.substring(t,r);return/^\\s*\\/{1,2}/.test(n)}function E(e){for(var t=e;t<f&&\"\\n\"!==O(t);)t++;return t}function j(){if(m.length>0)return m.shift();if(g)return function(){var t=\"'\"===g?o:i;t.lastIndex=r-1;var n=t.exec(e);if(!n)throw b(\"string\");return r=t.lastIndex,P(g),g=null,p(n[1])}();var a,s,u,h,d;do{if(r===f)return null;for(a=!1;c.test(u=O(r));)if(\"\\n\"===u&&++l,++r===f)return null;if(\"/\"===O(r)){if(++r===f)throw b(\"comment\");if(\"/\"===O(r))if(t){if(h=r,d=!1,w(r)){d=!0;do{if((r=E(r))===f)break;r++}while(w(r))}else r=Math.min(f,E(r)+1);d&&_(h,r),l++,a=!0}else{for(d=\"/\"===O(h=r+1);\"\\n\"!==O(++r);)if(r===f)return null;++r,d&&_(h,r-1),++l,a=!0}else{if(\"*\"!==(u=O(r)))return\"/\";h=r+1,d=t||\"*\"===O(h);do{if(\"\\n\"===u&&++l,++r===f)throw b(\"comment\");s=u,u=O(r)}while(\"*\"!==s||\"/\"!==u);++r,d&&_(h,r-2),a=!0}}}while(a);var y=r;if(n.lastIndex=0,!n.test(O(y++)))for(;y<f&&!n.test(O(y));)++y;var v=e.substring(r,r=y);return'\"'!==v&&\"'\"!==v||(g=v),v}function P(e){m.push(e)}function S(){if(!m.length){var e=j();if(null===e)return null;P(e)}return m[0]}return Object.defineProperty({next:j,peek:S,push:P,skip:function(e,t){var r=S();if(r===e)return j(),!0;if(!t)throw b(\"token '\"+r+\"', '\"+e+\"' expected\");return!1},cmnt:function(e){var r=null;return void 0===e?y===l-1&&(t||\"*\"===h||v)&&(r=d):(y<e&&S(),y!==e||v||!t&&\"/\"!==h||(r=d)),r}},\"line\",{get:function(){return l}})}h.unescape=p},function(e,t,r){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0}),t.XVIZData=void 0;var n=r(62),i=r(127),o=r(37),a=r(44);function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s(this,t),this._data=e,this._opts=r,this._dataFormat=void 0,this._xvizType=void 0,this._message=void 0,this._determineFormat(),!this._dataFormat)throw new Error(\"Unknown XVIZ data format\")}var r,c,f;return r=t,(c=[{key:\"hasMessage\",value:function(){return void 0!==this._message}},{key:\"message\",value:function(){var t=null;if(this._message)return this._message;var r=this._data;switch(this._dataFormat){case a.XVIZ_FORMAT.BINARY_GLB:r instanceof e&&(r=r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)),t=(0,n.parseBinaryXVIZ)(r);break;case a.XVIZ_FORMAT.BINARY_PBE:r instanceof e&&(r=r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)),t=(0,n.parseBinaryXVIZ)(r,this._opts);break;case a.XVIZ_FORMAT.JSON_BUFFER:var s=null;r instanceof e?s=r.toString():(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r=new Uint8Array(r),s=new o.TextDecoder(\"utf8\").decode(r)),t=JSON.parse(s);break;case a.XVIZ_FORMAT.JSON_STRING:t=JSON.parse(r);break;case a.XVIZ_FORMAT.OBJECT:t=r;break;default:throw new Error(\"Unsupported format \".concat(this._dataFormat))}var u=new i.XVIZMessage(t);return u.data?(this._message=u,this._message):null}},{key:\"_determineFormat\",value:function(){var t=this._opts.messageFormat;if(t)this._dataFormat=t;else{var r=this._data;switch((0,n.getDataContainer)(r)){case\"binary\":r instanceof e&&(r=r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)),(0,n.isPBEXVIZ)(r)?this._dataFormat=a.XVIZ_FORMAT.BINARY_PBE:(0,n.isGLBXVIZ)(r)?this._dataFormat=a.XVIZ_FORMAT.BINARY_GLB:(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),(0,n.isJSONString)(r)&&(this._dataFormat=a.XVIZ_FORMAT.JSON_BUFFER));break;case\"string\":(0,n.isJSONString)(r)&&(this._dataFormat=a.XVIZ_FORMAT.JSON_STRING);break;case\"object\":this._dataFormat=a.XVIZ_FORMAT.OBJECT}}}},{key:\"buffer\",get:function(){return this._data}},{key:\"format\",get:function(){return this._dataFormat}},{key:\"type\",get:function(){if(this._message)return this._message.type;if(!this._xvizType){var e=this._opts.messageType||(0,n.getXVIZMessageType)(this._data);if(e){var t=e.split(\"/\");this._xvizType={namespace:t[0],type:t[1]}}}return this._xvizType.type}}])&&u(r.prototype,c),f&&u(r,f),t}();t.XVIZData=c}).call(this,r(71).Buffer)},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.XVIZMessage=void 0;var n=r(62),i=r(88),o=r(44);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.message=t,this._message=null,this._setupTypeData()}var t,r,s;return t=e,(r=[{key:\"_setupTypeData\",value:function(){if((0,n.isEnvelope)(this.message)){var e=(0,n.unpackEnvelope)(this.message);\"xviz\"===e.namespace&&(this._message=e)}else this.message.version?this._message={namespace:o.XVIZ_MESSAGE_NAMESPACE,type:i.XVIZ_MESSAGE_TYPE.METADATA,data:this.message}:this.message.update_type&&this.message.updates?this._message={namespace:o.XVIZ_MESSAGE_NAMESPACE,type:i.XVIZ_MESSAGE_TYPE.STATE_UPDATE,data:this.message}:this._message={namespace:null,type:null,data:this.message}}},{key:\"type\",get:function(){return this._message?this._message.type:null}},{key:\"data\",get:function(){return this._message?this._message.data:null}}])&&a(t.prototype,r),s&&a(t,s),e}();t.XVIZMessage=s},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.XVIZJSONProvider=void 0;var n=r(30);function i(e){return(i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var i=l(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||\"object\"!==i(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(r,e);var t=c(r);function r(e){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t.call(this,a(a({},e),{},{reader:new n.XVIZJSONReader(e.source,e.options)}))}return r}(r(89).XVIZBaseProvider);t.XVIZJSONProvider=p},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.XVIZBinaryProvider=void 0;var n=r(30);function i(e){return(i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var i=l(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||\"object\"!==i(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(r,e);var t=c(r);function r(e){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t.call(this,a(a({},e),{},{reader:new n.XVIZBinaryReader(e.source,e.options)}))}return r}(r(89).XVIZBaseProvider);t.XVIZBinaryProvider=p},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.XVIZProtobufProvider=void 0;var n=r(30);function i(e){return(i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var i=l(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||\"object\"!==i(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(r,e);var t=c(r);function r(e){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,r),t.call(this,a(a({},e),{},{reader:new n.XVIZProtobufReader(e.source,e.options)}))}return r}(r(89).XVIZBaseProvider);t.XVIZProtobufProvider=p},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.parseLogMetadata=function(e){var t=(0,n.getXVIZConfig)().supportedVersions,r=e.version,o=null;if(void 0===r)o=1;else{var a=(0,i.parseVersionString)(r).major;o=a}if(!o)throw new Error(\"Unable to detect the XVIZ version.\");(0,n.setXVIZConfig)({currentMajorVersion:o});if(t&&!t.includes(o))throw new Error(\"XVIZ version \".concat(o,\" is not supported.  Currently supported versions are \").concat(t,\".\"));return 1===o?f(e):l(e)},t.parseLogMetadataV1=f,t.parseLogMetadataV2=l;var n=r(24),i=r(132);function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if(\"string\"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===r&&e.constructor&&(r=e.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(e);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=e.streams||[],r=(0,n.getXVIZConfig)().STREAM_BLACKLIST,i={};Object.keys(t).forEach((function(e){r.has(e)||(i[e]=t[e])}));var o=p(e),a=o.logStartTime,s=o.logEndTime,c=o.eventStartTime,f=o.eventEndTime;return u(u({},e),{},{streams:i,logStartTime:a,logEndTime:s,eventStartTime:c,eventEndTime:f})}function l(e){var t=e.streams,r=(0,n.getXVIZConfig)().STREAM_BLACKLIST,i={};t&&Object.keys(t).forEach((function(e){r.has(e)||(i[e]=t[e])}));var a,s,c=p(e.log_info||{}),f=c.logStartTime,l=c.logEndTime,h=c.eventStartTime,d=c.eventEndTime,y=(a=i,s={},Object.keys(a).forEach((function(e){var t=a[e],r=[];t.stream_style&&r.push({name:\"*\",style:t.stream_style}),t.style_classes&&r.push.apply(r,o(t.style_classes)),0!==r.length&&(s[e]=r)})),s);return u(u({},e),{},{streams:i,logStartTime:f,logEndTime:l,start_time:h,end_time:d,eventStartTime:h,eventEndTime:d,styles:y})}function p(e){var t=Number.isFinite(e.log_start_time)?e.log_start_time:null,r=Number.isFinite(e.log_end_time)?e.log_end_time:null;return{logStartTime:t,logEndTime:r,eventStartTime:Number.isFinite(e.start_time)?e.start_time:t,eventEndTime:Number.isFinite(e.end_time)?e.end_time:r}}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.parseVersionString=function(e){var t=e.split(\".\"),r=null,n=null,i=null,o=t.shift();o&&(r=Number.parseInt(o,10));(o=t.shift())&&(n=Number.parseInt(o,10));(o=t.shift())&&(i=Number.parseInt(o,10));return{major:r,minor:n,patch:i}},t.getPrimitiveData=function(e){var t=(0,n.getXVIZConfig)().currentMajorVersion;if(1===t&&e instanceof Array){if(0===e.length)return{type:null,primitives:e};if(e.length>0)return{type:e[0].type,primitives:e}}if(2===t)for(var r=Object.keys(e),o=0,a=r;o<a.length;o++){var s=a[o];if(i.includes(s))return{type:s.slice(0,-1),primitives:e[s]}}return{}},t.unFlattenVertices=o,t.ensureUnFlattenedVertices=function(e){if(e.length>0&&!Array.isArray(e[0]))return o(e);return e};var n=r(24),i=[\"circles\",\"images\",\"points\",\"polygons\",\"polylines\",\"stadiums\",\"texts\"];function o(e){for(var t=[],r=0;r<e.length;r+=3)t.push([e[r],e[r+1],e[r+2]]);return t}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.parseXVIZStream=function(e,t){var r=e[0],n=r.primitives,i=r.ui_primitives,o=r.variables,a=r.futures;if(n){var s=Object.keys(n)[0];return e.map((function(e){return y(e.primitives[s],s,e.timestamp,t)}))}if(o){var u=Object.keys(o)[0];return e.map((function(e){return b(e.variables[u],u,e.timestamp)}))}if(a){var c=Object.keys(a)[0];return e.map((function(e){return v(e.futures[c],c,e.timestamp,t)}))}if(i){var f=Object.keys(i)[0];return e.map((function(e){return P(e.ui_primitives[f],f,e.timestamp)}))}return{}},t.parseStreamPrimitive=y,t.parseStreamFutures=v,t.parseStreamFuturesV1=m,t.parseStreamFuturesV2=g,t.parseStreamVariable=b,t.parseStreamVariableV1=O,t.parseStreamVariableV2=_,t.parseStreamTimeSeries=function(e,t){var r=(0,n.getXVIZConfig)().currentMajorVersion;if(2===r)return function(e,t){if(!Array.isArray(e))return{};var r=(0,n.getXVIZConfig)().DYNAMIC_STREAM_METADATA,i={};return e.forEach((function(e){var n=e.timestamp,o=e.streams,a=e.values,u=e.object_id,c=w(a);return c&&c.values.length===o.length?(c.values.forEach((function(e,a){var f=o[a];if(!t.has(f)){var l={time:n,variable:e};u&&(l.id=u),i[f]?s.default.warn(\"Unexpected time_series duplicate: \".concat(f))():i[f]=l,r&&(l.__metadata={category:\"TIME_SERIES\",scalar_type:c.type})}})),i):null})),i}(e,t);return s.default.error(\"Invalid time_series data in XVIZ version \".concat(r))(),null},t.parseStreamUIPrimitives=P;var n=r(24),i=r(90),o=l(r(59)),a=r(231),s=l(r(134)),u=r(132),c=l(r(233)),f=l(r(234));function l(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var r;if(\"undefined\"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if(\"string\"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===r&&e.constructor&&(r=e.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(e);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e))||t&&e&&\"number\"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d={doubles:\"FLOAT\",int32s:\"INT32\",bools:\"BOOL\",strings:\"STRING\"};function y(e,t,r,l){var h=(0,n.getXVIZConfig)(),d=h.OBJECT_STREAM,y=h.preProcessPrimitive,v=h.DYNAMIC_STREAM_METADATA,m=1===(0,n.getXVIZConfig)().currentMajorVersion?c.default:f.default,g=(0,u.getPrimitiveData)(e);if(!g||!Array.isArray(g.primitives))return{};for(var b=g.type,O=g.primitives,_=function(){var e={};for(var t in i.PRIMITIVE_CAT)e[i.PRIMITIVE_CAT[t]]=[];return e}(),w=null,P=0;P<O.length;P++){var S=O[P];if(S&&Array.isArray(S)){_[w=i.PRIMITIVE_CAT.LOOKAHEAD].push([]);for(var k=0;k<S.length;k++){y({primitive:S[k],streamName:t,time:r});var T=(0,i.normalizeXVIZPrimitive)(m,S[k],P,t,b,r,l);T&&_[w][P].push(T)}}else{y({primitive:S,streamName:t,time:r});var A=(0,i.normalizeXVIZPrimitive)(m,S,P,t,b,r,l);w=m[S.type||b].category,A&&(_[w].push(A),a.isMainThread&&(t===d||!d&&A.id&&\"features\"===w)&&o.default.observe(A.id,r))}}_.vertices=function(e){var t,r=0,n=p(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.vertices&&(r+=E(i.vertices))}}catch(e){n.e(e)}finally{n.f()}if(0===r)return null;var o,a=new Float64Array(3*r),s=0,u=p(e);try{for(u.s();!(o=u.n()).done;){var c=o.value;if(c.vertices){var f=E(c.vertices);if(Number.isFinite(c.vertices[0]))a.set(c.vertices,s),s+=3*f;else{var l,h=p(c.vertices);try{for(h.s();!(l=h.n()).done;){var d=l.value;a.set(d,s),s+=3}}catch(e){h.e(e)}finally{h.f()}}c.vertices=a.subarray(s-3*f,s)}}}catch(e){u.e(e)}finally{u.f()}return a}(_.features);var x=function(e){if(0===e.length)return null;var t,r=0,n=p(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;r+=E(i.vertices)}}catch(e){n.e(e)}finally{n.f()}var o=null,a=new Float32Array(3*r),u=new Uint8ClampedArray(4*r),c=new Uint32Array(r),f=0;return e.forEach((function(e){var t=e.vertices,r=e.colors,n=E(t);if(0!==n){var i=function(e,t){if(e){if(e.length/4===t)return 4;if(e.length/3===t)return 3;var r;if(3===(r=Array.isArray(e[0])?e[0].length:e.length)||4===r)return r;s.default.error(\"Unknown point color format\")}return 0}(r||e.color,n);null!==o&&o!==i&&s.default.error(\"Inconsistent point color format\"),o=i;var l=r&&r.length===n*o;l&&u.set(r,f*o);var p=t.length===3*n;if(p&&a.set(t,3*f),Number.isFinite(e.id)&&c.fill(e.id,f,f+n),!p||!l&&o)for(var h=e.color||j,d=0;d<n;d++,f++){if(!p){var y=t[d];a[3*f+0]=y[0],a[3*f+1]=y[1],a[3*f+2]=y[2]}!l&&o&&(r&&(h=r[d]),u[f*o+0]=h[0],u[f*o+1]=h[1],u[f*o+2]=h[2],4===o&&(u[f*o+3]=h[3]||255))}}})),{type:e[0].type,numInstances:r,positions:a,colors:o?u.subarray(0,o*r):null,ids:c}}(_.pointCloud);return x&&_.features.push({type:x.type,points:x.positions,colors:x.colors,ids:x.ids}),_.pointCloud=x,_.time=r,v&&(_.__metadata={category:\"PRIMITIVE\",primitive_type:b}),_}function v(e,t,r,i){var o=(0,n.getXVIZConfig)(),a=o.currentMajorVersion,s=o.DYNAMIC_STREAM_METADATA,u=1===a?m(e,t,r,i):g(e,t,r,i);return s&&(u.__metadata={category:\"FUTURE_INSTANCE\",primitive_type:u.lookAheads[0][0]&&u.lookAheads[0][0].type}),u}function m(e,t,r,n){var o=[];return e.forEach((function(e,a){var s=e.primitives.map((function(e){return(0,i.normalizeXVIZPrimitive)(c.default,e,a,t,e.type,r,n)})).filter(Boolean);o.push(s)})),{time:r,lookAheads:o}}function g(e,t,r,n){var o=[],a=e.timestamps;return e.primitives.forEach((function(e,s){var c=(0,u.getPrimitiveData)(e),l=c.primitives.map((function(e){var o=(0,i.normalizeXVIZPrimitive)(f.default,e,s,t,c.type,r,n);return o.timestamp=a[s],o})).filter(Boolean);o.push(l)})),{time:r,lookAheads:o}}function b(e,t,r){var i=(0,n.getXVIZConfig)(),o=i.currentMajorVersion,a=i.DYNAMIC_STREAM_METADATA,s=1===o?O(e,t,r):_(e,t,r);return a&&(s.__metadata={category:\"VARIABLE\",scalar_type:Array.isArray(s.variable)&&s.variable[0]&&s.variable[0].type}),s}function O(e,t,r){if(Array.isArray(e))return{time:r};var n=e.timestamps,i=e.values;return{time:r,variable:1===i.length?i[0]:n?i.map((function(e,t){return[n[t],e]})):i}}function _(e,t,r){if(Array.isArray(e))return{time:r};var n=e.variables;if(!n||!Array.isArray(n))return{};var i={time:r};return i.variable=n.map((function(e){var t=e.base,r=w(e.values);return r&&r.values?(t&&t.object_id&&(r.id=t.object_id),r):null})).filter(Boolean),i}function w(e){for(var t in e)if(t in d)return{type:d[t],values:e[t]};return null}function E(e){return Number.isFinite(e[0])?e.length/3:e.length}var j=[0,0,0,255];function P(e,t,r){var i=Object.assign({time:r},e);return(0,n.getXVIZConfig)().DYNAMIC_STREAM_METADATA&&(i.__metadata={category:\"UI_PRIMITIVE\"}),i}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n=new(r(241).Log)({id:\"xviz\"}).enable();t.default=n},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.filterVertices=function(e){for(var t=(0,i.getXVIZConfig)().pathDistanceThreshold,r=Number.isFinite(e[0]),a=r?e.length/3:e.length,s=[],u=0,c=null,f=-1,l=0;l<a;l++){var p=o(e,l,r);(-1===f||c.distance(p)>t)&&(s[u++]=p[0],s[u++]=p[1],s[u++]=p[2],c=new n.Vector3(p[0],p[1],p[2]),f=l)}if(f!==a-1){var h=o(e,a-1,r);u-=3,s[u++]=h[0],s[u++]=h[1],s[u++]=h[2]}return s};var n=r(94),i=r(24);function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=null;return(n=r?e.slice(3*t,3*t+3):e[t])[2]=n[2]||0,n}},function(e,t,r){\"use strict\";r.r(t),r.d(t,\"ImageLoader\",(function(){return z})),r.d(t,\"ImageWriter\",(function(){return Z})),r.d(t,\"getBinaryImageMetadata\",(function(){return D})),r.d(t,\"isImageTypeSupported\",(function(){return h})),r.d(t,\"getDefaultImageType\",(function(){return d})),r.d(t,\"isImage\",(function(){return v})),r.d(t,\"getImageType\",(function(){return m})),r.d(t,\"getImageSize\",(function(){return g})),r.d(t,\"getImageData\",(function(){return g})),r.d(t,\"loadImage\",(function(){return le})),r.d(t,\"loadImageArray\",(function(){return ge})),r.d(t,\"loadImageCube\",(function(){return ke})),r.d(t,\"HTMLImageLoader\",(function(){return z})),r.d(t,\"getSupportedImageType\",(function(){return Re})),r.d(t,\"isBinaryImage\",(function(){return Ae})),r.d(t,\"getBinaryImageMIMEType\",(function(){return xe})),r.d(t,\"getBinaryImageSize\",(function(){return Ie}));var n=r(0),i=r.n(n),o=r(2);function a(e,t){if(!e)throw new Error(t)}var s=r(34),u=s.a._parseImageNode,c=\"undefined\"!=typeof Image,f=\"undefined\"!=typeof ImageBitmap,l=Boolean(u),p=!!s.b||l;function h(e){switch(e){case\"auto\":return f||c||p;case\"imagebitmap\":return f;case\"image\":return c;case\"data\":return p;case\"html\":return c;case\"ndarray\":return p;default:throw new Error(\"@loaders.gl/images: image \".concat(e,\" not supported in this environment\"))}}function d(){if(f)return\"imagebitmap\";if(c)return\"image\";if(p)return\"data\";throw new Error(\"Install '@loaders.gl/polyfills' to parse images under Node.js\")}var y=r(7);function v(e){return Boolean(b(e))}function m(e){var t=b(e);if(!t)throw new Error(\"Not an image\");return t}function g(e){switch(m(e)){case\"data\":return e;case\"image\":case\"imagebitmap\":var t=document.createElement(\"canvas\"),r=t.getContext(\"2d\");return t.width=e.width,t.height=e.height,r.drawImage(e,0,0),r.getImageData(0,0,e.width,e.height);default:return a(!1)}}function b(e){return\"undefined\"!=typeof ImageBitmap&&e instanceof ImageBitmap?\"imagebitmap\":\"undefined\"!=typeof Image&&e instanceof Image?\"image\":e&&\"object\"===Object(y.a)(e)&&e.data&&e.width&&e.height?\"data\":null}var O=/^data:image\\/svg\\+xml/,_=/\\.svg((\\?|#).*)?$/;function w(e){return e&&(O.test(e)||_.test(e))}function E(e,t){if(w(t)){var r=(new TextDecoder).decode(e);return\"data:image/svg+xml;base64,\".concat(btoa(r))}return j(e,t)}function j(e,t){if(w(t))throw new Error(\"SVG cannot be parsed directly to imagebitmap\");return new Blob([new Uint8Array(e)])}function P(e,t,r){return S.apply(this,arguments)}function S(){return(S=Object(o.a)(i.a.mark((function e(t,r,n){var o,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=E(t,n),a=self.URL||self.webkitURL,s=\"string\"!=typeof o&&a.createObjectURL(o),e.prev=3,e.next=6,k(s||o,r);case 6:return e.abrupt(\"return\",e.sent);case 7:return e.prev=7,s&&a.revokeObjectURL(s),e.finish(7);case 10:case\"end\":return e.stop()}}),e,null,[[3,,7,10]])})))).apply(this,arguments)}function k(e,t){return T.apply(this,arguments)}function T(){return(T=Object(o.a)(i.a.mark((function e(t,r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=new Image).src=t,!(r.image&&r.image.decode&&n.decode)){e.next=6;break}return e.next=5,n.decode();case 5:return e.abrupt(\"return\",n);case 6:return e.next=8,new Promise((function(e,r){try{n.onload=function(){return e(n)},n.onerror=function(e){return r(new Error(\"Could not load image \".concat(t,\": \").concat(e)))}}catch(e){r(e)}}));case 8:return e.abrupt(\"return\",e.sent);case 9:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var A={},x=!0;function I(e,t,r){return R.apply(this,arguments)}function R(){return(R=Object(o.a)(i.a.mark((function e(t,r,n){var o,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w(n)){e.next=7;break}return e.next=3,P(t,r,n);case 3:a=e.sent,o=a,e.next=8;break;case 7:o=j(t,n);case 8:return s=r&&r.imagebitmap,e.next=11,M(o,s);case 11:return e.abrupt(\"return\",e.sent);case 12:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return N.apply(this,arguments)}function N(){return(N=Object(o.a)(i.a.mark((function e(t){var r,n=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!V(r=n.length>1&&void 0!==n[1]?n[1]:null)&&x||(r=null),!r){e.next=13;break}return e.prev=3,e.next=6,createImageBitmap(t,r);case 6:return e.abrupt(\"return\",e.sent);case 9:e.prev=9,e.t0=e.catch(3),console.warn(e.t0),x=!1;case 13:return e.next=15,createImageBitmap(t);case 15:return e.abrupt(\"return\",e.sent);case 16:case\"end\":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function V(e){for(var t in e||A)return!0;return!1}function D(e){var t=L(e);return function(e){var t=L(e);if(!(t.byteLength>=24&&2303741511===t.getUint32(0,!1)))return null;return{mimeType:\"image/png\",width:t.getUint32(16,!1),height:t.getUint32(20,!1)}}(t)||function(e){var t=L(e);if(!(t.byteLength>=3&&65496===t.getUint16(0,!1)&&255===t.getUint8(2)))return null;var r=function(){for(var e=new Set([65499,65476,65484,65501,65534]),t=65504;t<65520;++t)e.add(t);var r=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:r}}(),n=r.tableMarkers,i=r.sofMarkers,o=2;for(;o+9<t.byteLength;){var a=t.getUint16(o,!1);if(i.has(a))return{mimeType:\"image/jpeg\",height:t.getUint16(o+5,!1),width:t.getUint16(o+7,!1)};if(!n.has(a))return null;o+=2,o+=t.getUint16(o,!1)}return null}(t)||function(e){var t=L(e);if(!(t.byteLength>=10&&1195984440===t.getUint32(0,!1)))return null;return{mimeType:\"image/gif\",width:t.getUint16(6,!0),height:t.getUint16(8,!0)}}(t)||function(e){var t=L(e);if(!(t.byteLength>=14&&16973===t.getUint16(0,!1)&&t.getUint32(2,!0)===t.byteLength))return null;return{mimeType:\"image/bmp\",width:t.getUint32(18,!0),height:t.getUint32(22,!0)}}(t)}function L(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error(\"toDataView\")}function C(e,t){var r=(D(e)||{}).mimeType,n=s.a._parseImageNode;return a(n),n(e,r,t)}function F(e,t,r){return B.apply(this,arguments)}function B(){return(B=Object(o.a)(i.a.mark((function e(t,r,n){var o,s,u,c,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=(r=r||{}).image||{},s=o.type||\"auto\",u=(n||{}).url,c=U(s),e.t0=c,e.next=\"imagebitmap\"===e.t0?8:\"image\"===e.t0?12:\"data\"===e.t0?16:20;break;case 8:return e.next=10,I(t,r,u);case 10:return f=e.sent,e.abrupt(\"break\",21);case 12:return e.next=14,P(t,r,u);case 14:return f=e.sent,e.abrupt(\"break\",21);case 16:return e.next=18,C(t,r);case 18:return f=e.sent,e.abrupt(\"break\",21);case 20:a(!1);case 21:return\"data\"===s&&(f=g(f)),e.abrupt(\"return\",f);case 23:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){switch(e){case\"auto\":case\"data\":return d();default:return h(e),e}}var z={id:\"image\",name:\"Images\",version:\"2.2.6\",mimeTypes:[\"image/png\",\"image/jpeg\",\"image/gif\",\"image/webp\",\"image/bmp\",\"image/vndmicrosofticon\",\"image/svg+xml\"],extensions:[\"png\",\"jpg\",\"jpeg\",\"gif\",\"webp\",\"bmp\",\"ico\",\"svg\"],parse:F,test:function(e){return Boolean(D(new DataView(e)))},options:{image:{type:\"auto\",decode:!0}}},$=s.a._encodeImageNode;var Z={name:\"Images\",extensions:[\"jpeg\"],encode:function(e,t){if($)return $(e,t);if(e instanceof HTMLCanvasElement)return e.toDataURL(t);a(e instanceof Image,\"getImageData accepts image or canvas\");var r=document.createElement(\"canvas\");r.width=e.width,r.height=e.height,r.getContext(\"2d\").drawImage(e,0,0);var n=r.toDataURL(t||\"png\").replace(/^data:image\\/(png|jpg);base64,/,\"\");return Promise.resolve(n)},DEFAULT_OPTIONS:{type:\"png\"}},X=r(15),q=r(39);function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){Object(X.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J(e,t,r){var n=e;\"function\"==typeof e&&(n=e(G(G({},t),r))),a(\"string\"==typeof n);var i=t.baseUrl;return i&&(n=\"/\"===i[i.length-1]?\"\".concat(i).concat(n):\"\".concat(i,\"/\").concat(n)),Object(q.c)(n)}var W=function(e){return e&&\"object\"===Object(y.a)(e)};function H(e,t){return Q.apply(this,arguments)}function Q(){return(Q=Object(o.a)(i.a.mark((function e(t,r){var n,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:{},e.next=3,K(t,r,n);case 3:return e.abrupt(\"return\",e.sent);case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t,r){return ee.apply(this,arguments)}function ee(){return(ee=Object(o.a)(i.a.mark((function e(t,r,n){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=4;break}return e.next=3,ne(t,r,n);case 3:return e.abrupt(\"return\",e.sent);case 4:if(!W(t)){e.next=8;break}return e.next=7,te(t,r,n);case 7:return e.abrupt(\"return\",e.sent);case 8:return o=t,e.next=11,r(o,n);case 11:return e.abrupt(\"return\",e.sent);case 12:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function te(e,t,r){return re.apply(this,arguments)}function re(){return(re=Object(o.a)(i.a.mark((function e(t,r,n){var o,a,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u in o=[],a={},s=function(e){var i=K(t[e],r,n).then((function(t){a[e]=t}));o.push(i)},t)s(u);return e.next=6,Promise.all(o);case 6:return e.abrupt(\"return\",a);case 7:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t){return ie.apply(this,arguments)}function ie(){return(ie=Object(o.a)(i.a.mark((function e(t,r){var n,o,a=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:{},o=t.map((function(e){return K(e,r,n)})),e.next=4,Promise.all(o);case 4:return e.abrupt(\"return\",e.sent);case 5:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,t,r){return ae.apply(this,arguments)}function ae(){return(ae=Object(o.a)(i.a.mark((function e(t,r,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t,(function(e){return se(e,r,n)}));case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function se(e,t,r){return ue.apply(this,arguments)}function ue(){return(ue=Object(o.a)(i.a.mark((function e(t,r,n){var o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,n.fetch);case 2:return o=e.sent,e.next=5,o.arrayBuffer();case 5:return a=e.sent,e.next=8,r(a,n);case 8:return e.abrupt(\"return\",e.sent);case 9:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){Object(X.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function le(e){return pe.apply(this,arguments)}function pe(){return(pe=Object(o.a)(i.a.mark((function e(t){var r,n,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,he(t,r);case 3:return n=e.sent,e.next=6,oe(n,F,r);case 6:return e.abrupt(\"return\",e.sent);case 7:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function he(e,t){return de.apply(this,arguments)}function de(){return(de=Object(o.a)(i.a.mark((function e(t,r){var n,o,a=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>2&&void 0!==a[2]?a[2]:{},0===(o=r&&r.image&&r.image.mipLevels||0)){e.next=8;break}return e.next=5,ye(t,o,r,n);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=J(t,r,n);case 9:return e.abrupt(\"return\",e.t0);case 10:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e,t,r,n){return ve.apply(this,arguments)}function ve(){return(ve=Object(o.a)(i.a.mark((function e(t,r,n,o){var s,u,c,f,l,p,h,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=[],\"auto\"!==r){e.next=9;break}return u=J(t,n,fe(fe({},o),{},{lod:0})),e.next=5,se(u,F,n);case 5:c=e.sent,f=g(c),l=f.width,p=f.height,r=me({width:l,height:p}),s.push(u);case 9:for(a(r>0),h=s.length;h<r;++h)d=J(t,n,fe(fe({},o),{},{lod:h})),s.push(d);return e.abrupt(\"return\",s);case 12:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function me(e){var t=e.width,r=e.height;return 1+Math.floor(Math.log2(Math.max(t,r)))}function ge(e,t){return be.apply(this,arguments)}function be(){return(be=Object(o.a)(i.a.mark((function e(t,r){var n,o,a=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:{},e.next=3,Oe(t,r,n);case 3:return o=e.sent,e.next=6,oe(o,F,n);case 6:return e.abrupt(\"return\",e.sent);case 7:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e,t){return _e.apply(this,arguments)}function _e(){return(_e=Object(o.a)(i.a.mark((function e(t,r){var n,o,a,s,u=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=u.length>2&&void 0!==u[2]?u[2]:{},o=[],a=0;a<t;a++)s=he(r,n,{index:a}),o.push(s);return e.next=5,Promise.all(o);case 5:return e.abrupt(\"return\",e.sent);case 6:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?we(Object(r),!0).forEach((function(t){Object(X.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var je=[{face:34069,direction:\"right\",axis:\"x\",sign:\"positive\"},{face:34070,direction:\"left\",axis:\"x\",sign:\"negative\"},{face:34071,direction:\"top\",axis:\"y\",sign:\"positive\"},{face:34072,direction:\"bottom\",axis:\"y\",sign:\"negative\"},{face:34073,direction:\"front\",axis:\"z\",sign:\"positive\"},{face:34074,direction:\"back\",axis:\"z\",sign:\"negative\"}];function Pe(e,t){return Se.apply(this,arguments)}function Se(){return(Se=Object(o.a)(i.a.mark((function e(t,r){var n,o,a,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u in n={},o=[],a=0,s=function(e){var i=he(t,r,Ee(Ee({},je[a]),{},{index:a++})).then((function(t){n[e]=t}));o.push(i)},je)s(u);return e.next=7,Promise.all(o);case 7:return e.abrupt(\"return\",n);case 8:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e){return Te.apply(this,arguments)}function Te(){return(Te=Object(o.a)(i.a.mark((function e(t){var r,n,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,Pe(t,r);case 3:return n=e.sent,e.next=6,oe(n,F,r);case 6:return e.abrupt(\"return\",e.sent);case 7:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(e,t){var r=D(e);return t?Boolean(r)&&r.mimeType===t:Boolean(r)}function xe(e){var t=D(e);return t?t.mimeType:null}function Ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=D(e);if(r)return{width:r.width,height:r.height};throw t=t||r&&r.mimeType||\"unknown\",new Error(\"invalid image data for type: \".concat(t))}function Re(){return d()}},function(e,t,r){\"use strict\";var n,i=(n=r(138))&&n.__esModule?n:{default:n};\"undefined\"!=typeof self&&(0,i.default)({})(self)},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n=r(24),i=r(142),o=r(238),a=r(239),s=r(36);t.default=function(e){return function(t){function r(e){var r=new Set;switch(e.type){case s.XVIZ_MESSAGE_TYPE.TIMESLICE:for(var n in e.streams){var i=e.streams[n];i&&((0,a.getTransferList)(i.pointCloud,!0,r),(0,a.getTransferList)(i.vertices,!1,r),i.images&&i.images.length&&i.images.forEach((function(e){return(0,a.getTransferList)(e,!0,r)})))}break;case s.XVIZ_MESSAGE_TYPE.VIDEO_FRAME:(0,a.getTransferList)(e.imageData,!1,r)}e=(0,o.preSerialize)(e),t.postMessage(e,Array.from(r))}function u(e){throw e}(0,n.setXVIZConfig)(e),t.onmessage=function(e){e.data&&e.data.xvizConfig?(0,n.setXVIZConfig)(e.data.xvizConfig):e.data&&(e.data.opts?(0,i.parseXVIZMessageSync)(e.data.data,r,u,e.data.opts):(0,i.parseXVIZMessageSync)(e.data,r,u))}}}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n,i=(n=r(59))&&n.__esModule?n:{default:n};function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.ObjectType,n=void 0===r?i.default:r;o(this,e),this.objects=new Map,this.ObjectType=n}var t,r,n;return t=e,(r=[{key:\"clear\",value:function(){this.objects.clear()}},{key:\"count\",value:function(){return this.objects.size}},{key:\"observe\",value:function(e,t){if(null!=e)if(e=e.toString(),this.objects.has(e))this.objects.get(e)._observe(t);else{var r=new this.ObjectType({id:e,timestamp:t});this.objects.set(e,r)}}},{key:\"get\",value:function(e){return null==e?null:(e=e.toString(),this.objects.get(e)||null)}},{key:\"resetAll\",value:function(){this.objects.forEach((function(e){return e._reset()}))}},{key:\"getAll\",value:function(){var e={};return this.objects.forEach((function(t,r){e[r]=t})),e}},{key:\"getAllInCurrentFrame\",value:function(){var e={};return this.objects.forEach((function(t,r){t.isValid&&(e[r]=t)})),e}},{key:\"prune\",value:function(e,t){var r=this.objects,n=[];r.forEach((function(r,i){(r.endTime<e||r.startTime>t)&&n.push(i)})),n.forEach((function(e){r.delete(e)}))}}])&&a(t.prototype,r),n&&a(t,n),e}();t.default=s},function(e,t,r){\"use strict\";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}var t,r,i;return t=e,(r=[{key:\"isValid\",get:function(){return!1}},{key:\"position\",get:function(){return null}},{key:\"bearing\",get:function(){return null}}])&&n(t.prototype,r),i&&n(t,i),e}();t.default=i},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getCentroid=function(e){var t=0,r=0,n=0,i=e.length;if(1===i)return e[0];e[0]===e[i-1]&&(i-=1);for(var o=0;o<i;o++){var a=e[o];t+=a[0],r+=a[1],n+=a[2]||0}return[t/i,r/i,n/i]}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.parseXVIZMessageSync=function(e,t,r,n){if(\"undefined\"!=typeof Blob&&e instanceof Blob)return void(0,a.parseVideoMessageV1)(e,t,r);var o=n.messageType,s=n.messageFormat;try{var u=new i.XVIZData(e,{messageType:o,messageFormat:s}).message();if(u){var c=u.data,f=u.type||void 0,l=d(c,p(p({},n),{},{v2Type:f}));t(l)}}catch(e){r(e)}},t.parseXVIZData=d;var n=r(36),i=r(30),o=r(131),a=r(226),s=f(r(230)),u=f(r(235)),c=r(24);function f(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.v2Type||e.type||e.message||e.update_type;switch(r){case\"state_update\":return y(e,t.convertPrimitive);case\"metadata\":return p(p({},(0,o.parseLogMetadata)(e)),{},{type:n.XVIZ_MESSAGE_TYPE.METADATA});case\"transform_log_done\":return p(p({},e),{},{type:n.XVIZ_MESSAGE_TYPE.DONE});case\"error\":return p(p({},e),{},{message:\"Stream server error\",type:n.XVIZ_MESSAGE_TYPE.ERROR});case\"done\":return p(p({},e),{},{type:n.XVIZ_MESSAGE_TYPE.DONE});default:return y(e,t.convertPrimitive)}}function y(e,t){return 1===(0,c.getXVIZConfig)().currentMajorVersion?(0,s.default)(e,t):(0,u.default)(e,t)}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.xvizConvertJson=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(Array.isArray(t))return t.map((function(t){return e(t,r,n+1)}));if(ArrayBuffer.isView(t)){if(\"vertices\"!==r&&\"points\"!==r||n>0)return Array.from(t);var o=t.length;if(o%3!=0)throw new Error(\"TypeArray conversion failure. The array is expect to be divisible by 3\");for(var s=[],c=o/3,f=0;f<c;f++)s.push(Array.from(t.slice(3*f,3*f+3)));return s}if(null!==t&&\"object\"===u(t)){var l=Object.keys(t);if(l.includes(\"data\")&&\"images\"===r)return a(a({},t),{},{data:i.default.fromByteArray(t.data)});var p={};for(var h in t)p[h]=e(t[h],h);return p}return t};var n,i=(n=r(70))&&n.__esModule?n:{default:n};function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){return(u=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}},function(e,t){},function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,f=-7,l=r?i-1:0,p=r?-1:1,h=e[t+l];for(l+=p,o=h&(1<<-f)-1,h>>=-f,f+=s;f>0;o=256*o+e[t+l],l+=p,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+e[t+l],l+=p,f-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=c}return(h?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,d=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+l>=1?p/u:p*Math.pow(2,1-l))*u>=2&&(a++,u/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(t*u-1)*Math.pow(2,i),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+h]=255&a,h+=d,a/=256,c-=8);e[r+h-d]|=128*y}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return\"[object Array]\"==r.call(e)}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.GLTFBuilder=void 0;var n,i=r(136),o=r(60),a=r(104),s=(n=r(149))&&n.__esModule?n:{default:n},u=r(72);function c(e){return(c=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var i=v(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y(this,r)}}function y(e,t){return!t||\"object\"!==c(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(c,e);var t,r,n,s=d(c);function c(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(this,c),(e=s.call(this,t)).DracoWriter=t.DracoWriter,e.DracoLoader=t.DracoLoader,e}return t=c,(r=[{key:\"addApplicationData\",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.nopack?t:(0,u.packBinaryJson)(t,this,null,r);return this.json[e]=n,this}},{key:\"addExtraData\",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.nopack?t:(0,u.packBinaryJson)(t,this,null,r);return this.json.extras=this.json.extras||{},this.json.extras[e]=n,this}},{key:\"addExtension\",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,o.assert)(t);var n=r.nopack?t:(0,u.packBinaryJson)(t,this,null,r);return this.json.extensions=this.json.extensions||{},this.json.extensions[e]=n,this.registerUsedExtension(e),this}},{key:\"addRequiredExtension\",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,o.assert)(t);var n=r.nopack?t:(0,u.packBinaryJson)(t,this,null,r);return this.addExtension(e,n),this.registerRequiredExtension(e),this}},{key:\"registerUsedExtension\",value:function(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find((function(t){return t===e}))||this.json.extensionsUsed.push(e)}},{key:\"registerRequiredExtension\",value:function(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find((function(t){return t===e}))||this.json.extensionsRequired.push(e)}},{key:\"addMesh\",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,n=this._addAttributes(e),i={primitives:[{attributes:n,indices:t,mode:r}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(i),this.json.meshes.length-1}},{key:\"addPointCloud\",value:function(e){var t={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(t),this.json.meshes.length-1}},{key:\"addCompressedMesh\",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;if(!this.DracoWriter||!this.DracoLoader)throw new Error(\"DracoWriter/DracoLoader not available\");this.registerRequiredExtension(a.KHR_DRACO_MESH_COMPRESSION);var n=this.DracoWriter.encodeSync({attributes:e}),i=this.DracoLoader.parseSync({attributes:e}),o=this._addFauxAttributes(i.attributes),s=this.addBufferView(n),u={primitives:[{attributes:o,mode:r,extensions:f({},a.KHR_DRACO_MESH_COMPRESSION,{bufferView:s,attributes:o})}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(u),this.json.meshes.length-1}},{key:\"addCompressedPointCloud\",value:function(e){if(!this.DracoWriter||!this.DracoLoader)throw new Error(\"DracoWriter/DracoLoader not available\");e.mode=0;var t=this.DracoWriter.encodeSync(e,{pointcloud:!0}),r=this.addBufferView(t),n={primitives:[{attributes:{},mode:0,extensions:f({},a.UBER_POINT_CLOUD_EXTENSION,{bufferView:r})}]};return this.registerRequiredExtension(a.UBER_POINT_CLOUD_EXTENSION),this.json.meshes=this.json.meshes||[],this.json.meshes.push(n),this.json.meshes.length-1}},{key:\"addImage\",value:function(e){var t=this.addBufferView(e),r=(0,i.getBinaryImageMetadata)(e)||{};if(r){var n=r.mimeType,o=r.width,a=r.height;this.json.images.push({bufferView:t,mimeType:n,width:o,height:a})}else this.json.images.push({bufferView:t});return this.json.images.length-1}}])&&p(t.prototype,r),n&&p(t,n),c}(s.default);t.GLTFBuilder=m},function(e,t,r){var n=function(e){\"use strict\";var t=Object.prototype,r=t.hasOwnProperty,n=\"function\"==typeof Symbol?Symbol:{},i=n.iterator||\"@@iterator\",o=n.asyncIterator||\"@@asyncIterator\",a=n.toStringTag||\"@@toStringTag\";function s(e,t,r,n){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),a=new w(n||[]);return o._invoke=function(e,t,r){var n=\"suspendedStart\";return function(i,o){if(\"executing\"===n)throw new Error(\"Generator is already running\");if(\"completed\"===n){if(\"throw\"===i)throw o;return j()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=b(a,r);if(s){if(s===c)continue;return s}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(\"suspendedStart\"===n)throw n=\"completed\",r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);n=\"executing\";var f=u(e,t,r);if(\"normal\"===f.type){if(n=r.done?\"completed\":\"suspendedYield\",f.arg===c)continue;return{value:f.arg,done:r.done}}\"throw\"===f.type&&(n=\"completed\",r.method=\"throw\",r.arg=f.arg)}}}(e,r,a),o}function u(e,t,r){try{return{type:\"normal\",arg:e.call(t,r)}}catch(e){return{type:\"throw\",arg:e}}}e.wrap=s;var c={};function f(){}function l(){}function p(){}var h={};h[i]=function(){return this};var d=Object.getPrototypeOf,y=d&&d(d(E([])));y&&y!==t&&r.call(y,i)&&(h=y);var v=p.prototype=f.prototype=Object.create(h);function m(e){[\"next\",\"throw\",\"return\"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function g(e,t){var n;this._invoke=function(i,o){function a(){return new t((function(n,a){!function n(i,o,a,s){var c=u(e[i],e,o);if(\"throw\"!==c.type){var f=c.arg,l=f.value;return l&&\"object\"==typeof l&&r.call(l,\"__await\")?t.resolve(l.__await).then((function(e){n(\"next\",e,a,s)}),(function(e){n(\"throw\",e,a,s)})):t.resolve(l).then((function(e){f.value=e,a(f)}),(function(e){return n(\"throw\",e,a,s)}))}s(c.arg)}(i,o,n,a)}))}return n=n?n.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,\"throw\"===t.method){if(e.iterator.return&&(t.method=\"return\",t.arg=void 0,b(e,t),\"throw\"===t.method))return c;t.method=\"throw\",t.arg=new TypeError(\"The iterator does not provide a 'throw' method\")}return c}var n=u(r,e.iterator,t.arg);if(\"throw\"===n.type)return t.method=\"throw\",t.arg=n.arg,t.delegate=null,c;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,\"return\"!==t.method&&(t.method=\"next\",t.arg=void 0),t.delegate=null,c):i:(t.method=\"throw\",t.arg=new TypeError(\"iterator result is not an object\"),t.delegate=null,c)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(O,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return l.prototype=v.constructor=p,p.constructor=l,p[a]=l.displayName=\"GeneratorFunction\",e.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===l||\"GeneratorFunction\"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,a in e||(e[a]=\"GeneratorFunction\")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},m(g.prototype),g.prototype[o]=function(){return this},e.AsyncIterator=g,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new g(s(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},m(v),v[a]=\"Generator\",v[i]=function(){return this},v.toString=function(){return\"[object Generator]\"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=E,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)\"t\"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type=\"throw\",a.arg=e,t.next=r,n&&(t.method=\"next\",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if(\"root\"===o.tryLoc)return n(\"end\");if(o.tryLoc<=this.prev){var s=r.call(o,\"catchLoc\"),u=r.call(o,\"finallyLoc\");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error(\"try statement without catch or finally\");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,\"finallyLoc\")&&this.prev<i.finallyLoc){var o=i;break}}o&&(\"break\"===e||\"continue\"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method=\"next\",this.next=o.finallyLoc,c):this.complete(a)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(\"throw\"===n.type){var i=n.arg;_(r)}return i}}throw new Error(\"illegal catch attempt\")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},\"next\"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function(\"r\",\"regeneratorRuntime = r\")(n)}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n,i=r(9),o=r(136),a=r(40),s=(n=r(150))&&n.__esModule?n:{default:n},u=r(72);function c(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(this,e),this.byteLength=0,this.json={buffers:[{byteLength:0}],bufferViews:[],accessors:[],images:[],meshes:[]},this.sourceBuffers=[],this.log=t.log||console}var t,r,n;return t=e,(r=[{key:\"getByteLength\",value:function(){return this.byteLength}},{key:\"isImage\",value:function(e){return(0,o.isImage)(e)}},{key:\"encodeSync\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.encodeAsGLB(e)}},{key:\"encodeAsGLB\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._packBinaryChunk(),e.magic&&console.warn(\"Custom glTF magic number no longer supported\");var t={version:2,json:this.json,binary:this.arrayBuffer},r=(0,s.default)(t,null,0,e),n=new ArrayBuffer(r),i=new DataView(n);return(0,s.default)(t,i,0,e),n}},{key:\"addApplicationData\",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.nopack?t:(0,u.packBinaryJson)(t,this,null,r);return this.json[e]=n,this}},{key:\"addBuffer\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:3},r=this.addBufferView(e),n={size:t.size,componentType:(0,a.getComponentTypeFromArray)(e),count:Math.round(e.length/t.size)};return this.addAccessor(r,Object.assign(n,t))}},{key:\"addBufferView\",value:function(e){var t=e.byteLength||e.length;return this.json.bufferViews.push({buffer:0,byteOffset:this.byteLength,byteLength:t}),this.byteLength+=(0,i.padTo4Bytes)(t),this.sourceBuffers.push(e),this.json.bufferViews.length-1}},{key:\"addAccessor\",value:function(e,t){return this.json.accessors.push({bufferView:e,type:(0,a.getAccessorTypeFromSize)(t.size),componentType:t.componentType,count:t.count}),this.json.accessors.length-1}},{key:\"_pack\",value:function(){return this._packBinaryChunk(),{arrayBuffer:this.arrayBuffer,json:this.json}}},{key:\"_packBinaryChunk\",value:function(){if(!this.arrayBuffer){for(var e=this.byteLength,t=new ArrayBuffer(e),r=new Uint8Array(t),n=0,o=0;o<this.sourceBuffers.length;o++){var a=this.sourceBuffers[o];n=(0,i.copyToArray)(a,r,n)}this.json.buffers[0].byteLength=e,this.arrayBuffer=t,this.sourceBuffers=[]}}},{key:\"_getInternalCounts\",value:function(){return{buffers:this.json.buffers.length,bufferViews:this.json.bufferViews.length,accessors:this.json.accessors.length,images:this.json.images.length}}}])&&f(t.prototype,r),n&&f(t,n),e}();t.default=l},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=e.magic,o=void 0===i?1179937895:i,a=e.version,s=void 0===a?2:a,u=e.json,c=void 0===u?{}:u,f=e.binary,l=r;t&&(t.setUint32(r+0,o,!0),t.setUint32(r+4,s,!0),t.setUint32(r+8,0,!0));var p=r+8,h=r+=12;t&&(t.setUint32(r+0,0,!0),t.setUint32(r+4,1313821514,!0));r+=8;var d=JSON.stringify(c);if(r=(0,n.copyPaddedStringToDataView)(t,r,d,4),t){var y=r-h-8;t.setUint32(h+0,y,!0)}if(f){var v=r;if(t&&(t.setUint32(r+0,0,!0),t.setUint32(r+4,5130562,!0)),r+=8,r=(0,n.copyPaddedArrayBufferToDataView)(t,r,f,4),t){var m=r-v-8;t.setUint32(v+0,m,!0)}}if(t){var g=r-l;t.setUint32(p,g,!0)}return r};var n=r(9)},function(e,t,r){\"use strict\";function n(e){return Number.isFinite(e[0])}function i(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=0,n=0,o=-1;++o<e.length;){var a=e[o];Array.isArray(a)||ArrayBuffer.isView(a)?r+=i(a):n++}return r+(0===r&&n<t?t:n)}function o(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.isFinite,r=-1;++r<e.length;){var n=e[r];if(Array.isArray(n)||ArrayBuffer.isView(n)){if(!o(n,t))return!1}else if(!t(n))return!1}return!0}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return s(e,t,r,0),t}function s(e,t,r,n){for(var i=-1,o=0;++i<e.length;){var a=e[i];Array.isArray(a)||ArrayBuffer.isView(a)?n=s(a,t,r,n):o<r&&(t[n++]=a,o++)}return o>0&&o<r&&(t[n++]=0),n}Object.defineProperty(t,\"__esModule\",{value:!0}),t.flattenToTypedArray=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float32Array;if(0===e.length)return new Float32Array(0);if(!o(e))return null;if(n(e))return r.from(e);var s=i(e,t),u=new r(s);return a(e,u,t),u}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),Object.defineProperty(t,\"SCHEMA_DATA\",{enumerable:!0,get:function(){return n.SCHEMA_DATA}}),Object.defineProperty(t,\"XVIZValidator\",{enumerable:!0,get:function(){return i.XVIZValidator}}),Object.defineProperty(t,\"XVIZSessionValidator\",{enumerable:!0,get:function(){return o.XVIZSessionValidator}}),Object.defineProperty(t,\"MessageTypes\",{enumerable:!0,get:function(){return o.MessageTypes}}),Object.defineProperty(t,\"loadProtos\",{enumerable:!0,get:function(){return a.loadProtos}}),Object.defineProperty(t,\"getXVIZProtoTypes\",{enumerable:!0,get:function(){return a.getXVIZProtoTypes}}),Object.defineProperty(t,\"EXTENSION_PROPERTY\",{enumerable:!0,get:function(){return a.EXTENSION_PROPERTY}}),Object.defineProperty(t,\"getProtoEnumTypes\",{enumerable:!0,get:function(){return s.getProtoEnumTypes}}),Object.defineProperty(t,\"protoEnumsToInts\",{enumerable:!0,get:function(){return s.protoEnumsToInts}}),Object.defineProperty(t,\"enumToIntField\",{enumerable:!0,get:function(){return s.enumToIntField}}),Object.defineProperty(t,\"StructEncode\",{enumerable:!0,get:function(){return u.StructEncode}});var n=r(74),i=r(107),o=r(190),a=r(191),s=r(209),u=r(210)},function(e){e.exports=JSON.parse('{\"envelope.schema.json\":{\"id\":\"https://xviz.org/schema/envelope.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ data envelope\",\"type\":\"object\",\"properties\":{\"type\":{},\"data\":{}},\"anyOf\":[{\"properties\":{\"type\":{\"type\":\"string\",\"pattern\":\"^((?!xviz/).)*$\"},\"data\":{\"type\":\"object\"}}},{\"properties\":{\"type\":{\"enum\":[\"xviz/start\"]},\"data\":{\"$ref\":\"https://xviz.org/schema/session/start.json\"}}},{\"properties\":{\"type\":{\"enum\":[\"xviz/metadata\"]},\"data\":{\"$ref\":\"https://xviz.org/schema/session/metadata.json\"}}},{\"properties\":{\"type\":{\"enum\":[\"xviz/transform_log\"]},\"data\":{\"$ref\":\"https://xviz.org/schema/session/transform_log.json\"}}},{\"properties\":{\"type\":{\"enum\":[\"xviz/state_update\"]},\"data\":{\"$ref\":\"https://xviz.org/schema/session/state_update.json\"}}},{\"properties\":{\"type\":{\"enum\":[\"xviz/transform_log_done\"]},\"data\":{\"$ref\":\"https://xviz.org/schema/session/transform_log_done.json\"}}},{\"properties\":{\"type\":{\"enum\":[\"xviz/reconfigure\"]},\"data\":{\"$ref\":\"https://xviz.org/schema/session/reconfigure.json\"}}},{\"properties\":{\"type\":{\"enum\":[\"xviz/error\"]},\"data\":{\"$ref\":\"https://xviz.org/schema/session/error.json\"}}},{\"properties\":{\"type\":{\"enum\":[\"xviz/transform_point_in_time\"]},\"data\":{\"$ref\":\"https://xviz.org/schema/session/transform_point_in_time.json\"}}}],\"required\":[\"type\",\"data\"],\"additionalProperties\":false},\"ui-primitives/treetable.schema.json\":{\"id\":\"https://xviz.org/schema/ui-primitives/treetable.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Treetable\",\"type\":\"object\",\"properties\":{\"columns\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"display_text\":{\"type\":\"string\"},\"type\":{\"type\":\"string\",\"enum\":[\"INT32\",\"DOUBLE\",\"STRING\",\"BOOLEAN\"]},\"unit\":{\"type\":\"string\"}},\"required\":[\"display_text\",\"type\"],\"additionalProperties\":false},\"additionalItems\":false},\"nodes\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"integer\"},\"parent\":{\"type\":\"integer\"},\"column_values\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"additionalItems\":false}},\"required\":[\"id\"],\"additionalProperties\":false},\"additionalItems\":false}},\"additionalProperties\":false},\"style/_color.schema.json\":{\"id\":\"https://xviz.org/schema/style/_color.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"Internal XVIZ RGBA color type\",\"oneOf\":[{\"type\":\"array\",\"items\":{\"type\":\"number\"},\"minimum\":0,\"maximum\":255,\"minItems\":3,\"maxItems\":4,\"additionalItems\":false},{\"type\":\"string\",\"pattern\":\"^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$\"}]},\"style/class.schema.json\":{\"id\":\"https://xviz.org/schema/style/class.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Style Class\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"style\":{\"$ref\":\"https://xviz.org/schema/style/object_value.json\"}},\"additionalProperties\":false,\"required\":[\"name\",\"style\"]},\"style/object_value.schema.json\":{\"id\":\"https://xviz.org/schema/style/object_value.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Object Style Value\",\"type\":\"object\",\"properties\":{\"fill_color\":{\"$ref\":\"https://xviz.org/schema/style/_color.json\"},\"stroke_color\":{\"$ref\":\"https://xviz.org/schema/style/_color.json\"},\"stroke_width\":{\"type\":\"number\"},\"radius\":{\"type\":\"number\"},\"text_size\":{\"type\":\"number\"},\"text_rotation\":{\"type\":\"number\"},\"text_anchor\":{\"enum\":[\"START\",\"MIDDLE\",\"END\"]},\"text_baseline\":{\"enum\":[\"TOP\",\"CENTER\",\"BOTTOM\"]},\"height\":{\"type\":\"number\"}},\"anyOf\":[{\"required\":[\"fill_color\"]},{\"required\":[\"stroke_color\"]},{\"required\":[\"stroke_width\"]},{\"required\":[\"radius\"]},{\"required\":[\"text_size\"]},{\"required\":[\"text_rotation\"]},{\"required\":[\"text_anchor\"]},{\"required\":[\"text_baseline\"]}],\"additionalProperties\":false},\"style/stream_value.schema.json\":{\"id\":\"https://xviz.org/schema/style/stream_value.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Stream Style Value\",\"type\":\"object\",\"properties\":{\"fill_color\":{\"$ref\":\"https://xviz.org/schema/style/_color.json\"},\"stroke_color\":{\"$ref\":\"https://xviz.org/schema/style/_color.json\"},\"stroke_width\":{\"type\":\"number\"},\"radius\":{\"type\":\"number\"},\"text_size\":{\"type\":\"number\"},\"text_rotation\":{\"type\":\"number\"},\"text_anchor\":{\"enum\":[\"START\",\"MIDDLE\",\"END\"]},\"text_baseline\":{\"enum\":[\"TOP\",\"CENTER\",\"BOTTOM\"]},\"height\":{\"type\":\"number\"},\"radius_pixels\":{\"type\":\"number\",\"minimum\":0},\"radius_min_pixels\":{\"type\":\"number\",\"minimum\":0},\"radius_max_pixels\":{\"type\":\"number\",\"minimum\":0},\"stroke_width_min_pixels\":{\"type\":\"number\",\"minimum\":0},\"stroke_width_max_pixels\":{\"type\":\"number\",\"minimum\":0},\"opacity\":{\"type\":\"number\",\"minimum\":0,\"maximum\":1},\"stroked\":{\"type\":\"boolean\"},\"filled\":{\"type\":\"boolean\"},\"extruded\":{\"type\":\"boolean\"},\"font_family\":{\"type\":\"string\"},\"font_weight\":{\"type\":\"number\"},\"point_color_mode\":{\"enum\":[\"ELEVATION\",\"DISTANCE_TO_VEHICLE\"]},\"point_color_domain\":{\"type\":\"array\",\"minItems\":2,\"maxItems\":2,\"items\":{\"type\":\"number\"}}},\"anyOf\":[{\"required\":[\"fill_color\"]},{\"required\":[\"stroke_color\"]},{\"required\":[\"stroke_width\"]},{\"required\":[\"radius\"]},{\"required\":[\"radius_pixels\"]},{\"required\":[\"text_size\"]},{\"required\":[\"text_rotation\"]},{\"required\":[\"text_anchor\"]},{\"required\":[\"text_baseline\"]},{\"required\":[\"radius_min_pixels\"]},{\"required\":[\"radius_max_pixels\"]},{\"required\":[\"stroke_width_min_pixels\"]},{\"required\":[\"stroke_width_max_pixels\"]},{\"required\":[\"opacity\"]},{\"required\":[\"stroked\"]},{\"required\":[\"filled\"]},{\"required\":[\"extruded\"]},{\"required\":[\"font_family\"]},{\"required\":[\"font_weight\"]},{\"required\":[\"point_color_mode\"]},{\"required\":[\"point_color_domain\"]}],\"additionalProperties\":false},\"session/camera_info.schema.json\":{\"id\":\"https://xviz.org/schema/session/camera_info.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Camera Information\",\"type\":\"object\",\"properties\":{\"human_name\":{\"type\":\"string\"},\"source\":{\"type\":\"string\"},\"vehicle_position\":{\"$ref\":\"https://xviz.org/schema/math/vector3x1.json\"},\"vehicle_orientation\":{\"$ref\":\"https://xviz.org/schema/math/matrix3x3.json\"},\"pixel_width\":{\"type\":\"number\",\"minimum\":0},\"pixel_height\":{\"type\":\"number\",\"minimum\":0},\"rectification_projection\":{\"$ref\":\"https://xviz.org/schema/math/matrix3x3.json\"},\"gl_projection\":{\"$ref\":\"https://xviz.org/schema/math/matrix4x4.json\"}},\"required\":[\"human_name\",\"source\"],\"dependencies\":{\"pixel_width\":[\"pixel_height\"],\"pixel_height\":[\"pixel_width\"],\"rectification_projection\":[\"pixel_width\",\"pixel_height\"],\"gl_projection\":[\"rectification_projection\",\"vehicle_position\",\"vehicle_orientation\"]},\"additionalProperties\":false},\"session/error.schema.json\":{\"id\":\"https://xviz.org/schema/session/error.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Session Error\",\"type\":\"object\",\"properties\":{\"message\":{\"type\":\"string\"}},\"required\":[\"message\"],\"additionalProperties\":false},\"session/log_info.schema.json\":{\"id\":\"https://xviz.org/schema/session/log_info.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Metadata Log timing information\",\"type\":\"object\",\"properties\":{\"start_time\":{\"type\":\"number\"},\"end_time\":{\"type\":\"number\"}},\"additionalProperties\":true},\"session/metadata.schema.json\":{\"id\":\"https://xviz.org/schema/session/metadata.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Session Metadata\",\"type\":\"object\",\"properties\":{\"version\":{\"type\":\"string\"},\"streams\":{\"type\":\"object\",\"additionalProperties\":{\"$ref\":\"https://xviz.org/schema/session/stream_metadata.json\"}},\"cameras\":{\"type\":\"object\",\"additionalProperties\":{\"$ref\":\"https://xviz.org/schema/session/camera_info.json\"}},\"stream_aliases\":{\"type\":\"object\",\"additionalProperties\":{\"type\":\"string\"}},\"ui_config\":{\"type\":\"object\",\"additionalProperties\":{\"$ref\":\"https://xviz.org/schema/session/ui_panel_info.json\"}},\"log_info\":{\"$ref\":\"https://xviz.org/schema/session/log_info.json\"},\"map_info\":{\"type\":\"object\"},\"vehicle_info\":{\"type\":\"object\"}},\"required\":[\"version\"],\"additionalProperties\":false},\"session/reconfigure.schema.json\":{\"id\":\"https://xviz.org/schema/session/reconfigure.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Reconfigure message\",\"type\":\"object\",\"properties\":{\"update_type\":{\"enum\":[\"DELTA\",\"FULL\"]},\"config_update\":{\"type\":\"object\"}},\"required\":[\"update_type\",\"config_update\"],\"additionalProperties\":false},\"session/start.schema.json\":{\"id\":\"https://xviz.org/schema/session/start.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Session Start\",\"type\":\"object\",\"properties\":{\"version\":{\"type\":\"string\",\"pattern\":\"^(0|[1-9]\\\\\\\\d*)\\\\\\\\.(0|[1-9]\\\\\\\\d*)\\\\\\\\.(0|[1-9]\\\\\\\\d*)(-(0|[1-9]\\\\\\\\d*|\\\\\\\\d*[a-zA-Z-][0-9a-zA-Z-]*)(\\\\\\\\.(0|[1-9]\\\\\\\\d*|\\\\\\\\d*[a-zA-Z-][0-9a-zA-Z-]*))*)?(\\\\\\\\+[0-9a-zA-Z-]+(\\\\\\\\.[0-9a-zA-Z-]+)*)?$\"},\"profile\":{\"type\":\"string\"},\"session_type\":{},\"message_format\":{\"type\":\"string\",\"enum\":[\"JSON\",\"BINARY\"]},\"log\":{}},\"required\":[\"version\"],\"oneOf\":[{\"properties\":{\"session_type\":{\"type\":\"string\",\"enum\":[\"LOG\"]},\"log\":{\"pattern\":\".*\"}},\"required\":[\"version\",\"log\"]},{\"properties\":{\"session_type\":{\"type\":\"string\",\"enum\":[\"LIVE\"]}},\"required\":[\"version\"],\"not\":{\"required\":[\"log\"]}}],\"additionalProperties\":false},\"session/state_update.schema.json\":{\"id\":\"https://xviz.org/schema/session/state_update.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Stream Update\",\"type\":\"object\",\"properties\":{\"update_type\":{\"type\":\"string\",\"enum\":[\"COMPLETE_STATE\",\"INCREMENTAL\",\"SNAPSHOT\",\"PERSISTENT\"]},\"updates\":{\"type\":\"array\",\"items\":{\"$ref\":\"https://xviz.org/schema/core/stream_set.json\"},\"minItems\":1,\"additionalItems\":false}},\"required\":[\"update_type\",\"updates\"],\"additionalProperties\":false},\"session/stream_metadata.schema.json\":{\"id\":\"https://xviz.org/schema/session/stream_metadata.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Stream Metadata\",\"type\":\"object\",\"properties\":{\"source\":{\"type\":\"string\"},\"units\":{\"type\":\"string\"},\"coordinate\":{},\"transform\":{\"$ref\":\"https://xviz.org/schema/math/matrix4x4.json\"},\"transform_callback\":{\"type\":\"string\"},\"category\":{\"enum\":[\"ANNOTATION\",\"FUTURE_INSTANCE\",\"POSE\",\"PRIMITIVE\",\"UI_PRIMITIVE\",\"TIME_SERIES\",\"VARIABLE\"]},\"scalar_type\":{\"enum\":[\"FLOAT\",\"INT32\",\"BOOL\",\"STRING\"]},\"primitive_type\":{\"enum\":[\"CIRCLE\",\"IMAGE\",\"POINT\",\"POLYGON\",\"POLYLINE\",\"STADIUM\",\"TEXT\"]},\"ui_primitive_type\":{\"enum\":[\"TREETABLE\"]},\"annotation_type\":{\"enum\":[\"VISUAL\"]},\"stream_style\":{\"$ref\":\"https://xviz.org/schema/style/stream_value.json\"},\"style_classes\":{\"type\":\"array\",\"items\":{\"$ref\":\"https://xviz.org/schema/style/class.json\"},\"additionalItems\":false}},\"allOf\":[{\"anyOf\":[{\"properties\":{\"coordinate\":{\"enum\":[\"GEOGRAPHIC\",\"IDENTITY\"]}}},{\"properties\":{\"coordinate\":{\"enum\":[\"VEHICLE_RELATIVE\"]}}},{\"properties\":{\"coordinate\":{\"enum\":[\"DYNAMIC\"]}},\"required\":[\"transform_callback\"]}]},{\"anyOf\":[{\"properties\":{\"category\":{\"enum\":[\"TIME_SERIES\",\"VARIABLE\"]}},\"required\":[\"scalar_type\"]},{\"properties\":{\"category\":{\"enum\":[\"FUTURE_INSTANCE\",\"PRIMITIVE\"]}},\"required\":[\"primitive_type\"]},{\"properties\":{\"category\":{\"enum\":[\"UI_PRIMITIVE\"]}},\"required\":[\"ui_primitive_type\"]},{\"properties\":{\"category\":{\"enum\":[\"ANNOTATION\"]}},\"required\":[\"annotation_type\"]},{\"properties\":{\"category\":{\"enum\":[\"POSE\"]}}}]}],\"additionalProperties\":false},\"session/transform_log.schema.json\":{\"id\":\"https://xviz.org/schema/session/transform_log.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Session Transform Log\",\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"start_timestamp\":{\"type\":\"number\"},\"end_timestamp\":{\"type\":\"number\"},\"desired_streams\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"additionalItems\":false}},\"required\":[\"id\"],\"additionalProperties\":false},\"session/transform_log_done.schema.json\":{\"id\":\"https://xviz.org/schema/session/transform_log_done.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Session Transform Log Done\",\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"}},\"required\":[\"id\"],\"additionalProperties\":false},\"session/transform_point_in_time.schema.json\":{\"id\":\"https://xviz.org/schema/session/transform_point_in_time.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Session Transform Point In Time\",\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"query_timestamp\":{\"type\":\"number\"},\"desired_streams\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"additionalItems\":false}},\"required\":[\"id\",\"query_timestamp\"],\"additionalProperties\":false},\"session/ui_panel_info.schema.json\":{\"id\":\"https://xviz.org/schema/session/ui_panel_info.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Session UI Panel Info\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"needed_streams\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"additionalItems\":false},\"config\":{\"oneOf\":[{\"type\":\"object\"},{\"type\":\"string\"}]}},\"required\":[\"name\",\"config\"],\"additionalProperties\":false},\"primitives/circle.schema.json\":{\"id\":\"https://xviz.org/schema/primitives/circle.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Point primitive\",\"type\":\"object\",\"properties\":{\"base\":{\"$ref\":\"https://xviz.org/schema/core/primitive_base.json\"},\"type\":{\"enum\":[\"CIRCLE\"]},\"center\":{\"$ref\":\"https://xviz.org/schema/math/vector3x1.json\"},\"radius\":{\"type\":\"number\"}},\"required\":[\"center\",\"radius\"],\"additionalProperties\":false},\"primitives/image.schema.json\":{\"id\":\"https://xviz.org/schema/primitives/image.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Image primitive\",\"type\":\"object\",\"properties\":{\"base\":{\"$ref\":\"https://xviz.org/schema/core/primitive_base.json\"},\"type\":{\"enum\":[\"IMAGE\"]},\"position\":{\"$ref\":\"https://xviz.org/schema/math/vector3x1.json\"},\"data\":{\"type\":\"string\",\"contentEncoding\":\"base64\",\"pattern\":\"^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$\"},\"width_px\":{\"type\":\"integer\",\"minValue\":0},\"height_px\":{\"type\":\"integer\",\"minValue\":0}},\"required\":[\"data\",\"width_px\",\"height_px\"],\"additionalProperties\":false},\"primitives/point.schema.json\":{\"id\":\"https://xviz.org/schema/primitives/point.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Point primitive\",\"type\":\"object\",\"properties\":{\"base\":{\"$ref\":\"https://xviz.org/schema/core/primitive_base.json\"},\"type\":{\"enum\":[\"POINT\"]},\"points\":{\"$ref\":\"https://xviz.org/schema/math/point3d_list.schema.json\"},\"colors\":{\"type\":\"array\",\"oneOf\":[{\"items\":{\"$ref\":\"https://xviz.org/schema/style/_color.json\"}},{\"type\":\"array\",\"items\":{\"type\":\"number\"},\"minimum\":0,\"maximum\":255,\"minItems\":4}],\"additionalItems\":false}},\"required\":[\"points\"],\"additionalProperties\":false},\"primitives/polygon.schema.json\":{\"id\":\"https://xviz.org/schema/primitives/polygon.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Polygon primitive\",\"type\":\"object\",\"properties\":{\"base\":{\"$ref\":\"https://xviz.org/schema/core/primitive_base.json\"},\"vertices\":{\"$ref\":\"https://xviz.org/schema/math/point3d_list.schema.json\"}},\"required\":[\"vertices\"],\"additionalProperties\":false},\"primitives/polyline.schema.json\":{\"id\":\"https://xviz.org/schema/primitives/polyline.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Polyline primitive\",\"type\":\"object\",\"properties\":{\"base\":{\"$ref\":\"https://xviz.org/schema/core/primitive_base.json\"},\"vertices\":{\"$ref\":\"https://xviz.org/schema/math/point3d_list.schema.json\"}},\"required\":[\"vertices\"],\"additionalProperties\":false},\"primitives/stadium.schema.json\":{\"id\":\"https://xviz.org/schema/primitives/stadium.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Point primitive\",\"type\":\"object\",\"properties\":{\"base\":{\"$ref\":\"https://xviz.org/schema/core/primitive_base.json\"},\"start\":{\"$ref\":\"https://xviz.org/schema/math/vector3x1.json\"},\"end\":{\"$ref\":\"https://xviz.org/schema/math/vector3x1.json\"},\"radius\":{\"type\":\"number\"}},\"required\":[\"start\",\"end\",\"radius\"],\"additionalProperties\":false},\"primitives/text.schema.json\":{\"id\":\"https://xviz.org/schema/primitives/text.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Text primitive\",\"type\":\"object\",\"properties\":{\"base\":{\"$ref\":\"https://xviz.org/schema/core/primitive_base.json\"},\"type\":{\"enum\":[\"TEXT\"]},\"position\":{\"$ref\":\"https://xviz.org/schema/math/vector3x1.json\"},\"text\":{\"type\":\"string\"}},\"required\":[\"position\",\"text\"],\"additionalProperties\":false},\"math/matrix3x3.schema.json\":{\"id\":\"https://xviz.org/schema/math/matrix3x3.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Point primitive\",\"oneOf\":[{\"type\":\"array\",\"items\":{\"$ref\":\"https://xviz.org/schema/math/vector3x1.json\"},\"minItems\":3,\"maxItems\":3,\"additionalItems\":false},{\"type\":\"array\",\"items\":{\"type\":\"number\"},\"minItems\":9,\"maxItems\":9,\"additionalItems\":false}]},\"math/matrix4x4.schema.json\":{\"id\":\"https://xviz.org/schema/math/matrix4x4.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Point primitive\",\"oneOf\":[{\"type\":\"array\",\"items\":{\"type\":\"array\",\"items\":{\"type\":\"number\"},\"minItems\":4,\"maxItems\":4,\"additionalItems\":false},\"minItems\":4,\"maxItems\":4,\"additionalItems\":false},{\"type\":\"array\",\"items\":{\"type\":\"number\"},\"minItems\":16,\"maxItems\":16,\"additionalItems\":false}]},\"math/point3d_list.schema.json\":{\"id\":\"https://xviz.org/schema/math/point3d_list.schema.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Point 3D list\",\"oneOf\":[{\"type\":\"array\",\"items\":{\"$ref\":\"https://xviz.org/schema/math/vector3x1.json\"},\"minItems\":1,\"additionalItems\":false},{\"type\":\"array\",\"items\":{\"type\":\"number\"},\"minItems\":3,\"additionalItems\":false}]},\"math/vector3x1.schema.json\":{\"id\":\"https://xviz.org/schema/math/vector3x1.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Point primitive\",\"type\":\"array\",\"items\":{\"type\":\"number\"},\"minItems\":3,\"maxItems\":3,\"additionalItems\":false},\"declarative-ui/component_base.schema.json\":{\"id\":\"https://xviz.org/schema/declarative-ui/component_base.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"},\"title\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"}}},\"declarative-ui/panel.schema.json\":{\"id\":\"https://xviz.org/schema/declarative-ui/panel.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"Declarative UI Panel Info\",\"allOf\":[{\"$ref\":\"#/definitions/with_children\"}],\"properties\":{\"type\":{\"enum\":[\"PANEL\"]},\"name\":{},\"layout\":{},\"interactions\":{},\"children\":{}},\"additionalProperties\":false,\"definitions\":{\"with_children\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"layout\":{\"type\":\"string\",\"enum\":[\"VERTICAL\",\"HORIZONTAL\"]},\"interactions\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"enum\":[\"REORDERABLE\",\"DRAG_OUT\"]},\"additionalItems\":false},\"children\":{\"type\":\"array\",\"items\":{\"anyOf\":[{\"$ref\":\"https://xviz.org/schema/declarative-ui/components/metric.json\"},{\"$ref\":\"https://xviz.org/schema/declarative-ui/components/plot.json\"},{\"$ref\":\"https://xviz.org/schema/declarative-ui/components/table.json\"},{\"$ref\":\"https://xviz.org/schema/declarative-ui/components/treetable.json\"},{\"$ref\":\"https://xviz.org/schema/declarative-ui/components/video.json\"},{\"$ref\":\"https://xviz.org/schema/declarative-ui/components/select.json\"},{\"$ref\":\"#/definitions/container\"}]},\"additionalItems\":false}},\"required\":[\"name\",\"children\"]},\"container\":{\"title\":\"container\",\"description\":\"Group of components\",\"allOf\":[{\"$ref\":\"#/definitions/with_children\"}],\"properties\":{\"type\":{\"enum\":[\"CONTAINER\"]},\"name\":{},\"layout\":{},\"interactions\":{},\"children\":{}},\"required\":[\"type\"],\"additionalProperties\":false}}},\"declarative-ui/components/_onchange.schema.json\":{\"id\":\"https://xviz.org/schema/declarative-ui/components/_onchange.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"target\":{\"type\":\"string\"}},\"required\":[\"target\"],\"additionalProperties\":false},\"declarative-ui/components/_tabular.schema.json\":{\"id\":\"https://xviz.org/schema/declarative-ui/components/_tabular.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"allOf\":[{\"$ref\":\"https://xviz.org/schema/declarative-ui/component_base.json\"}],\"properties\":{\"stream\":{\"type\":\"string\"},\"displayObjectId\":{\"type\":\"boolean\"}},\"required\":[\"type\",\"title\",\"stream\"]},\"declarative-ui/components/metric.schema.json\":{\"id\":\"https://xviz.org/schema/declarative-ui/components/metric.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"allOf\":[{\"$ref\":\"https://xviz.org/schema/declarative-ui/component_base.json\"}],\"properties\":{\"type\":{\"enum\":[\"METRIC\"]},\"title\":{},\"description\":{},\"streams\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"minItems\":1,\"additionalItems\":false}},\"required\":[\"type\",\"title\",\"streams\"],\"additionalProperties\":false},\"declarative-ui/components/plot.schema.json\":{\"id\":\"https://xviz.org/schema/declarative-ui/components/plot.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"allOf\":[{\"$ref\":\"https://xviz.org/schema/declarative-ui/component_base.json\"}],\"properties\":{\"type\":{\"enum\":[\"PLOT\"]},\"title\":{},\"description\":{},\"independentVariable\":{\"type\":\"string\"},\"dependentVariables\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"minItems\":1,\"additionalItems\":false},\"regions\":{\"type\":\"array\",\"minItems\":1,\"additionalItems\":false,\"items\":{\"type\":\"object\",\"properties\":{\"x\":{\"type\":\"string\"},\"yMin\":{\"type\":\"string\"},\"yMax\":{\"type\":\"string\"}},\"required\":[\"x\",\"yMin\",\"yMax\"],\"additionalProperties\":false}}},\"anyOf\":[{\"required\":[\"type\",\"title\",\"independentVariable\",\"dependentVariables\"]},{\"required\":[\"type\",\"title\",\"regions\"]}],\"additionalProperties\":false},\"declarative-ui/components/select.schema.json\":{\"id\":\"https://xviz.org/schema/declarative-ui/components/select.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"allOf\":[{\"$ref\":\"https://xviz.org/schema/declarative-ui/component_base.json\"}],\"properties\":{\"type\":{\"enum\":[\"SELECT\"]},\"title\":{},\"description\":{},\"stream\":{\"type\":\"string\"},\"onchange\":{\"$ref\":\"https://xviz.org/schema/declarative-ui/components/_onchange.json\"}},\"required\":[\"type\",\"title\",\"stream\",\"onchange\"],\"additionalProperties\":false},\"declarative-ui/components/table.schema.json\":{\"id\":\"https://xviz.org/schema/declarative-ui/components/table.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"allOf\":[{\"$ref\":\"https://xviz.org/schema/declarative-ui/components/_tabular.json\"}],\"properties\":{\"type\":{\"enum\":[\"TABLE\"]},\"title\":{},\"description\":{},\"stream\":{},\"displayObjectId\":{}},\"additionalProperties\":false},\"declarative-ui/components/treetable.schema.json\":{\"id\":\"https://xviz.org/schema/declarative-ui/components/treetable.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"allOf\":[{\"$ref\":\"https://xviz.org/schema/declarative-ui/components/_tabular.json\"}],\"properties\":{\"type\":{\"enum\":[\"TREETABLE\"]},\"title\":{},\"description\":{},\"stream\":{},\"displayObjectId\":{}},\"additionalProperties\":false},\"declarative-ui/components/video.schema.json\":{\"id\":\"https://xviz.org/schema/declarative-ui/components/video.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"allOf\":[{\"$ref\":\"https://xviz.org/schema/declarative-ui/component_base.json\"}],\"properties\":{\"type\":{\"enum\":[\"VIDEO\"]},\"title\":{},\"description\":{},\"cameras\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"minItems\":1,\"additionalItems\":false}},\"required\":[\"type\",\"cameras\"],\"additionalProperties\":false},\"core/_annotation_list.schema.json\":{\"id\":\"https://xviz.org/schema/core/_annotation_list.schema.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"Internal XVIZ annotation list\",\"type\":\"array\",\"items\":{\"anyOf\":[{\"$ref\":\"https://xviz.org/schema/core/annotation_visual.json\"}]},\"additionalItems\":false},\"core/annotation_base.schema.json\":{\"id\":\"https://xviz.org/schema/core/annotation_base.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"object_id\":{\"type\":\"string\"}},\"required\":[\"object_id\"]},\"core/annotation_state.schema.json\":{\"id\":\"https://xviz.org/schema/core/annotation_state.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Annotation State\",\"type\":\"object\",\"properties\":{\"visuals\":{\"type\":\"array\",\"items\":{\"$ref\":\"https://xviz.org/schema/core/annotation_visual.json\"},\"additionalItems\":false}},\"additionalProperties\":false},\"core/annotation_visual.schema.json\":{\"id\":\"https://xviz.org/schema/core/annotation_visual.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Visual Annotation\",\"type\":\"object\",\"properties\":{\"base\":{\"$ref\":\"https://xviz.org/schema/core/annotation_base.json\"},\"style_classes\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"additionalItems\":false},\"inline_style\":{\"$ref\":\"https://xviz.org/schema/style/object_value.json\"}},\"additionalProperties\":false,\"anyOf\":[{\"required\":[\"base\",\"inline_style\"]},{\"required\":[\"base\",\"style_classes\"]}]},\"core/future_instances.schema.json\":{\"id\":\"https://xviz.org/schema/core/future_instances.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Future Instances\",\"type\":\"object\",\"properties\":{\"timestamps\":{\"type\":\"array\",\"minItems\":1,\"items\":{\"type\":\"number\",\"minimum\":0},\"additionalItems\":false},\"primitives\":{\"type\":\"array\",\"minItems\":1,\"items\":{\"$ref\":\"https://xviz.org/schema/core/primitive_state.json\"}}},\"required\":[\"timestamps\",\"primitives\"],\"additionalProperties\":false},\"core/link_state.schema.json\":{\"id\":\"https://xviz.org/schema/core/link_state.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Link State\",\"type\":\"object\",\"properties\":{\"target_pose\":{\"type\":\"string\"}},\"required\":[\"target_pose\"]},\"core/pose.schema.json\":{\"id\":\"https://xviz.org/schema/core/pose.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"timestamp\":{\"type\":\"number\",\"minimum\":0},\"map_origin\":{\"type\":\"object\",\"properties\":{\"longitude\":{\"type\":\"number\"},\"latitude\":{\"type\":\"number\"},\"altitude\":{\"type\":\"number\"}},\"required\":[\"longitude\",\"latitude\",\"altitude\"],\"additionalProperties\":false},\"position\":{\"type\":\"array\",\"items\":{\"type\":\"number\"},\"minItems\":3,\"maxItems\":3,\"additionalItems\":false},\"orientation\":{\"type\":\"array\",\"items\":{\"type\":\"number\"},\"minItems\":3,\"maxItems\":3,\"additionalItems\":false}},\"required\":[\"position\",\"orientation\"],\"additionalProperties\":true},\"core/primitive_base.schema.json\":{\"id\":\"https://xviz.org/schema/core/primitive_base.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"},\"object_id\":{\"type\":\"string\"},\"style\":{\"$ref\":\"https://xviz.org/schema/style/object_value.json\"},\"classes\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"minItems\":1,\"additionalItems\":false}}},\"core/primitive_state.schema.json\":{\"id\":\"https://xviz.org/schema/core/primitive_state.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Primitive State\",\"type\":\"object\",\"properties\":{\"circles\":{\"type\":\"array\",\"items\":{\"$ref\":\"https://xviz.org/schema/primitives/circle.json\"},\"additionalItems\":false},\"images\":{\"type\":\"array\",\"items\":{\"$ref\":\"https://xviz.org/schema/primitives/image.json\"},\"additionalItems\":false},\"points\":{\"type\":\"array\",\"items\":{\"$ref\":\"https://xviz.org/schema/primitives/point.json\"},\"additionalItems\":false},\"polygons\":{\"type\":\"array\",\"items\":{\"$ref\":\"https://xviz.org/schema/primitives/polygon.json\"},\"additionalItems\":false},\"polylines\":{\"type\":\"array\",\"items\":{\"$ref\":\"https://xviz.org/schema/primitives/polyline.json\"},\"additionalItems\":false},\"stadiums\":{\"type\":\"array\",\"items\":{\"$ref\":\"https://xviz.org/schema/primitives/stadium.json\"},\"additionalItems\":false},\"texts\":{\"type\":\"array\",\"items\":{\"$ref\":\"https://xviz.org/schema/primitives/text.json\"},\"additionalItems\":false}},\"additionalProperties\":false},\"core/stream_set.schema.json\":{\"id\":\"https://xviz.org/schema/core/stream_set.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Stream set\",\"type\":\"object\",\"properties\":{\"timestamp\":{\"type\":\"number\"},\"poses\":{\"type\":\"object\",\"properties\":{\"/vehicle_pose\":{\"$ref\":\"https://xviz.org/schema/core/pose.json\"}},\"additionalProperties\":{\"$ref\":\"https://xviz.org/schema/core/pose.json\"},\"required\":[\"/vehicle_pose\"]},\"primitives\":{\"type\":\"object\",\"additionalProperties\":{\"$ref\":\"https://xviz.org/schema/core/primitive_state.json\"}},\"ui_primitives\":{\"type\":\"object\",\"additionalProperties\":{\"$ref\":\"https://xviz.org/schema/core/ui_primitive_state.json\"}},\"time_series\":{\"type\":\"array\",\"items\":{\"$ref\":\"https://xviz.org/schema/core/timeseries_state.schema.json\"},\"minItems\":1,\"additionalItems\":false},\"future_instances\":{\"type\":\"object\",\"additionalProperties\":{\"$ref\":\"https://xviz.org/schema/core/future_instances.json\"}},\"variables\":{\"type\":\"object\",\"additionalProperties\":{\"$ref\":\"https://xviz.org/schema/core/variable_state.json\"}},\"annotations\":{\"type\":\"object\",\"additionalProperties\":{\"$ref\":\"https://xviz.org/schema/core/annotation_state.json\"}},\"no_data_streams\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"additionalItems\":false},\"links\":{\"type\":\"object\",\"additionalProperties\":{\"$ref\":\"https://xviz.org/schema/core/link_state.json\"}}},\"required\":[\"timestamp\"],\"anyOf\":[{\"required\":[\"poses\"]},{\"required\":[\"primitives\"]},{\"required\":[\"ui_primitives\"]},{\"required\":[\"time_series\"]},{\"required\":[\"future_instances\"]},{\"required\":[\"variables\"]},{\"required\":[\"annotations\"]}],\"additionalProperties\":false},\"core/timeseries_state.schema.json\":{\"id\":\"https://xviz.org/schema/core/timeseries_state.schema.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Timeseries State\",\"type\":\"object\",\"properties\":{\"timestamp\":{\"type\":\"number\",\"minimum\":0},\"streams\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"additionalItems\":false},\"values\":{\"$ref\":\"https://xviz.org/schema/core/values.schema.json\"},\"object_id\":{\"type\":\"string\"}},\"required\":[\"timestamp\",\"streams\",\"values\"],\"additionalProperties\":false},\"core/ui_primitive_state.schema.json\":{\"id\":\"https://xviz.org/schema/core/ui_primitive_state.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ UI Primitive State\",\"type\":\"object\",\"properties\":{\"treetable\":{\"$ref\":\"https://xviz.org/schema/ui-primitives/treetable.json\"}},\"additionalProperties\":false},\"core/value.schema.json\":{\"id\":\"https://xviz.org/schema/core/value.schema.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Value\",\"oneOf\":[{\"type\":\"number\"},{\"type\":\"string\"},{\"type\":\"boolean\"}]},\"core/values.schema.json\":{\"id\":\"https://xviz.org/schema/core/values.schema.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Values\",\"type\":\"object\",\"properties\":{\"doubles\":{\"type\":\"array\",\"items\":{\"type\":\"number\"},\"additionalItems\":false},\"int32s\":{\"type\":\"array\",\"items\":{\"type\":\"integer\"},\"additionalItems\":false},\"bools\":{\"type\":\"array\",\"items\":{\"type\":\"boolean\"},\"additionalItems\":false},\"strings\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"additionalItems\":false}},\"additionalProperties\":false,\"anyOf\":[{\"required\":[\"doubles\"]},{\"required\":[\"int32s\"]},{\"required\":[\"bools\"]},{\"required\":[\"strings\"]}]},\"core/variable.schema.json\":{\"id\":\"https://xviz.org/schema/core/variable.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Variable State\",\"type\":\"object\",\"properties\":{\"base\":{\"type\":\"object\",\"properties\":{\"object_id\":{\"type\":\"string\"}},\"additionalProperties\":false},\"values\":{\"$ref\":\"https://xviz.org/schema/core/values.schema.json\"}},\"required\":[\"values\"],\"additionalProperties\":false},\"core/variable_state.schema.json\":{\"id\":\"https://xviz.org/schema/core/variable_state.json\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"XVIZ Variable State\",\"type\":\"object\",\"properties\":{\"variables\":{\"type\":\"array\",\"items\":{\"$ref\":\"https://xviz.org/schema/core/variable.json\"},\"additionalItems\":false}},\"required\":[\"variables\"],\"additionalProperties\":false}}')},function(e){e.exports=JSON.parse('{\"nested\":{\"xviz\":{\"nested\":{\"v2\":{\"options\":{\"csharp_namespace\":\"xviz.V2\",\"go_package\":\"v2pb\",\"java_multiple_files\":true,\"java_outer_classname\":\"UiprimitivesProto\",\"java_package\":\"com.xviz.v2\",\"objc_class_prefix\":\"XVIZ\",\"php_namespace\":\"Xviz\\\\\\\\V2\"},\"nested\":{\"VisualBase\":{\"options\":{\"(xviz_json_schema)\":\"core/annotation_base\"},\"fields\":{\"object_id\":{\"type\":\"string\",\"id\":1}}},\"Visual\":{\"options\":{\"(xviz_json_schema)\":\"core/annotation_visual\"},\"fields\":{\"base\":{\"type\":\"VisualBase\",\"id\":1},\"style_classes\":{\"rule\":\"repeated\",\"type\":\"string\",\"id\":2},\"inline_style\":{\"type\":\"StyleObjectValue\",\"id\":3}}},\"StreamSet\":{\"options\":{\"(xviz_json_schema)\":\"core/stream_set\"},\"fields\":{\"timestamp\":{\"type\":\"double\",\"id\":1},\"poses\":{\"keyType\":\"string\",\"type\":\"Pose\",\"id\":2},\"primitives\":{\"keyType\":\"string\",\"type\":\"PrimitiveState\",\"id\":3},\"time_series\":{\"rule\":\"repeated\",\"type\":\"TimeSeriesState\",\"id\":4},\"future_instances\":{\"keyType\":\"string\",\"type\":\"FutureInstances\",\"id\":6},\"variables\":{\"keyType\":\"string\",\"type\":\"VariableState\",\"id\":7},\"annotations\":{\"keyType\":\"string\",\"type\":\"AnnotationState\",\"id\":8},\"ui_primitives\":{\"keyType\":\"string\",\"type\":\"UIPrimitiveState\",\"id\":9},\"no_data_streams\":{\"rule\":\"repeated\",\"type\":\"string\",\"id\":10},\"links\":{\"keyType\":\"string\",\"type\":\"Link\",\"id\":11}}},\"Pose\":{\"options\":{\"(xviz_json_schema)\":\"core/pose\"},\"fields\":{\"timestamp\":{\"type\":\"double\",\"id\":1},\"map_origin\":{\"type\":\"MapOrigin\",\"id\":2},\"position\":{\"rule\":\"repeated\",\"type\":\"double\",\"id\":3},\"orientation\":{\"rule\":\"repeated\",\"type\":\"double\",\"id\":4}}},\"MapOrigin\":{\"fields\":{\"longitude\":{\"type\":\"double\",\"id\":1},\"latitude\":{\"type\":\"double\",\"id\":2},\"altitude\":{\"type\":\"double\",\"id\":3}}},\"PrimitiveState\":{\"options\":{\"(xviz_json_schema)\":\"core/primitive_state\"},\"fields\":{\"polygons\":{\"rule\":\"repeated\",\"type\":\"Polygon\",\"id\":1},\"polylines\":{\"rule\":\"repeated\",\"type\":\"Polyline\",\"id\":2},\"texts\":{\"rule\":\"repeated\",\"type\":\"Text\",\"id\":3},\"circles\":{\"rule\":\"repeated\",\"type\":\"Circle\",\"id\":4},\"points\":{\"rule\":\"repeated\",\"type\":\"Point\",\"id\":5},\"stadiums\":{\"rule\":\"repeated\",\"type\":\"Stadium\",\"id\":6},\"images\":{\"rule\":\"repeated\",\"type\":\"Image\",\"id\":7}}},\"UIPrimitiveState\":{\"options\":{\"(xviz_json_schema)\":\"core/ui_primitive_state\"},\"fields\":{\"treetable\":{\"type\":\"TreeTable\",\"id\":1}}},\"TimeSeriesState\":{\"options\":{\"(xviz_json_schema)\":\"core/timeseries_state\"},\"fields\":{\"timestamp\":{\"type\":\"double\",\"id\":1},\"object_id\":{\"type\":\"string\",\"id\":2},\"streams\":{\"rule\":\"repeated\",\"type\":\"string\",\"id\":3},\"values\":{\"type\":\"Values\",\"id\":4}}},\"FutureInstances\":{\"options\":{\"(xviz_json_schema)\":\"core/future_instances\"},\"fields\":{\"timestamps\":{\"rule\":\"repeated\",\"type\":\"double\",\"id\":1},\"primitives\":{\"rule\":\"repeated\",\"type\":\"PrimitiveState\",\"id\":2}}},\"VariableState\":{\"options\":{\"(xviz_json_schema)\":\"core/variable_state\"},\"fields\":{\"variables\":{\"rule\":\"repeated\",\"type\":\"Variable\",\"id\":1}}},\"AnnotationState\":{\"options\":{\"(xviz_json_schema)\":\"core/annotation_state\"},\"fields\":{\"visuals\":{\"rule\":\"repeated\",\"type\":\"Visual\",\"id\":1}}},\"Variable\":{\"options\":{\"(xviz_json_schema)\":\"core/variable\"},\"fields\":{\"base\":{\"type\":\"VariableBase\",\"id\":1},\"values\":{\"type\":\"Values\",\"id\":2}}},\"VariableBase\":{\"fields\":{\"object_id\":{\"type\":\"string\",\"id\":1}}},\"Values\":{\"options\":{\"(xviz_json_schema)\":\"core/values\"},\"fields\":{\"doubles\":{\"rule\":\"repeated\",\"type\":\"double\",\"id\":2},\"int32s\":{\"rule\":\"repeated\",\"type\":\"int32\",\"id\":3},\"bools\":{\"rule\":\"repeated\",\"type\":\"bool\",\"id\":4},\"strings\":{\"rule\":\"repeated\",\"type\":\"string\",\"id\":5}}},\"Link\":{\"options\":{\"(xviz_json_schema)\":\"core/link_state\"},\"fields\":{\"target_pose\":{\"type\":\"string\",\"id\":1}}},\"Envelope\":{\"fields\":{\"type\":{\"type\":\"string\",\"id\":1},\"data\":{\"type\":\"google.protobuf.Any\",\"id\":2}}},\"xviz_json_schema\":{\"type\":\"string\",\"id\":54200,\"extend\":\"google.protobuf.MessageOptions\"},\"PrimitiveBase\":{\"fields\":{\"object_id\":{\"type\":\"string\",\"id\":1},\"classes\":{\"rule\":\"repeated\",\"type\":\"string\",\"id\":2},\"style\":{\"type\":\"StyleObjectValue\",\"id\":3}}},\"Circle\":{\"options\":{\"(xviz_json_schema)\":\"primitives/circle\"},\"fields\":{\"base\":{\"type\":\"PrimitiveBase\",\"id\":1},\"center\":{\"rule\":\"repeated\",\"type\":\"float\",\"id\":2},\"radius\":{\"type\":\"float\",\"id\":3}}},\"Image\":{\"options\":{\"(xviz_json_schema)\":\"primitives/image\"},\"fields\":{\"base\":{\"type\":\"PrimitiveBase\",\"id\":1},\"position\":{\"rule\":\"repeated\",\"type\":\"float\",\"id\":2},\"data\":{\"type\":\"bytes\",\"id\":3},\"width_px\":{\"type\":\"uint32\",\"id\":4},\"height_px\":{\"type\":\"uint32\",\"id\":5}}},\"Point\":{\"options\":{\"(xviz_json_schema)\":\"primitives/point\"},\"fields\":{\"base\":{\"type\":\"PrimitiveBase\",\"id\":1},\"points\":{\"rule\":\"repeated\",\"type\":\"float\",\"id\":2},\"colors\":{\"type\":\"bytes\",\"id\":3}}},\"Polygon\":{\"options\":{\"(xviz_json_schema)\":\"primitives/polygon\"},\"fields\":{\"base\":{\"type\":\"PrimitiveBase\",\"id\":1},\"vertices\":{\"rule\":\"repeated\",\"type\":\"float\",\"id\":2}}},\"Polyline\":{\"options\":{\"(xviz_json_schema)\":\"primitives/polyline\"},\"fields\":{\"base\":{\"type\":\"PrimitiveBase\",\"id\":1},\"vertices\":{\"rule\":\"repeated\",\"type\":\"float\",\"id\":2},\"colors\":{\"type\":\"bytes\",\"id\":3}}},\"Stadium\":{\"options\":{\"(xviz_json_schema)\":\"primitives/stadium\"},\"fields\":{\"base\":{\"type\":\"PrimitiveBase\",\"id\":1},\"start\":{\"rule\":\"repeated\",\"type\":\"float\",\"id\":2},\"end\":{\"rule\":\"repeated\",\"type\":\"float\",\"id\":3},\"radius\":{\"type\":\"float\",\"id\":4}}},\"Text\":{\"options\":{\"(xviz_json_schema)\":\"primitives/text\"},\"fields\":{\"base\":{\"type\":\"PrimitiveBase\",\"id\":1},\"position\":{\"rule\":\"repeated\",\"type\":\"float\",\"id\":2},\"text\":{\"type\":\"string\",\"id\":3}}},\"SessionType\":{\"values\":{\"SESSION_TYPE_INVALID\":0,\"LIVE\":1,\"LOG\":2,\"UNBUFFERED_LOG\":3}},\"Start\":{\"options\":{\"(xviz_json_schema)\":\"session/start\"},\"fields\":{\"version\":{\"type\":\"string\",\"id\":1},\"profile\":{\"type\":\"string\",\"id\":2},\"session_type\":{\"type\":\"SessionType\",\"id\":3},\"message_format\":{\"type\":\"MessageFormat\",\"id\":4},\"log\":{\"type\":\"string\",\"id\":5}},\"nested\":{\"MessageFormat\":{\"values\":{\"START_MESSAGE_FORMAT_INVALID\":0,\"JSON\":1,\"BINARY\":2}}}},\"TransformLog\":{\"options\":{\"(xviz_json_schema)\":\"session/transform_log\"},\"fields\":{\"id\":{\"type\":\"string\",\"id\":1},\"start_timestamp\":{\"type\":\"double\",\"id\":2},\"end_timestamp\":{\"type\":\"double\",\"id\":3},\"desired_streams\":{\"rule\":\"repeated\",\"type\":\"string\",\"id\":4}}},\"StateUpdate\":{\"options\":{\"(xviz_json_schema)\":\"session/state_update\"},\"fields\":{\"update_type\":{\"type\":\"UpdateType\",\"id\":1},\"updates\":{\"rule\":\"repeated\",\"type\":\"StreamSet\",\"id\":2}},\"nested\":{\"UpdateType\":{\"values\":{\"STATE_UPDATE_UPDATE_TYPE_INVALID\":0,\"SNAPSHOT\":1,\"INCREMENTAL\":2,\"COMPLETE_STATE\":3,\"PERSISTENT\":4}}}},\"TransformLogDone\":{\"options\":{\"(xviz_json_schema)\":\"session/transform_log_done\"},\"fields\":{\"id\":{\"type\":\"string\",\"id\":1}}},\"TransformPointInTime\":{\"options\":{\"(xviz_json_schema)\":\"session/transform_point_in_time\"},\"fields\":{\"id\":{\"type\":\"string\",\"id\":1},\"query_timestamp\":{\"type\":\"double\",\"id\":2},\"desired_streams\":{\"rule\":\"repeated\",\"type\":\"string\",\"id\":3}}},\"Reconfigure\":{\"options\":{\"(xviz_json_schema)\":\"session/reconfigure\"},\"fields\":{\"update_type\":{\"type\":\"UpdateType\",\"id\":1},\"config_update\":{\"type\":\"google.protobuf.Struct\",\"id\":2}},\"nested\":{\"UpdateType\":{\"values\":{\"RECONFIGURE_UPDATE_TYPE_INVALID\":0,\"DELTA\":1,\"FULL\":2}}}},\"Metadata\":{\"options\":{\"(xviz_json_schema)\":\"session/metadata\"},\"fields\":{\"version\":{\"type\":\"string\",\"id\":1},\"streams\":{\"keyType\":\"string\",\"type\":\"StreamMetadata\",\"id\":2},\"cameras\":{\"keyType\":\"string\",\"type\":\"CameraInfo\",\"id\":3},\"stream_aliases\":{\"keyType\":\"string\",\"type\":\"string\",\"id\":4},\"ui_config\":{\"keyType\":\"string\",\"type\":\"UIPanelInfo\",\"id\":5},\"log_info\":{\"type\":\"LogInfo\",\"id\":6}}},\"Error\":{\"options\":{\"(xviz_json_schema)\":\"session/error\"},\"fields\":{\"message\":{\"type\":\"string\",\"id\":1}}},\"StreamMetadata\":{\"options\":{\"(xviz_json_schema)\":\"session/stream_metadata\"},\"fields\":{\"source\":{\"type\":\"string\",\"id\":1},\"units\":{\"type\":\"string\",\"id\":2},\"category\":{\"type\":\"Category\",\"id\":3},\"scalar_type\":{\"type\":\"ScalarType\",\"id\":4},\"primitive_type\":{\"type\":\"PrimitiveType\",\"id\":5},\"ui_primitive_type\":{\"type\":\"UIPrimitiveType\",\"id\":6},\"annotation_type\":{\"type\":\"AnnotationType\",\"id\":7},\"stream_style\":{\"type\":\"StyleStreamValue\",\"id\":8},\"style_classes\":{\"rule\":\"repeated\",\"type\":\"StyleClass\",\"id\":9},\"coordinate\":{\"type\":\"CoordinateType\",\"id\":10},\"transform\":{\"rule\":\"repeated\",\"type\":\"double\",\"id\":11},\"transform_callback\":{\"type\":\"string\",\"id\":12}},\"nested\":{\"Category\":{\"values\":{\"STREAM_METADATA_CATEGORY_INVALID\":0,\"PRIMITIVE\":1,\"TIME_SERIES\":2,\"VARIABLE\":3,\"ANNOTATION\":4,\"FUTURE_INSTANCE\":5,\"POSE\":6,\"UI_PRIMITIVE\":7}},\"ScalarType\":{\"values\":{\"STREAM_METADATA_SCALAR_TYPE_INVALID\":0,\"FLOAT\":1,\"INT32\":2,\"STRING\":3,\"BOOL\":4}},\"PrimitiveType\":{\"values\":{\"STREAM_METADATA_PRIMITIVE_TYPE_INVALID\":0,\"CIRCLE\":1,\"IMAGE\":2,\"POINT\":3,\"POLYGON\":4,\"POLYLINE\":5,\"STADIUM\":6,\"TEXT\":7}},\"UIPrimitiveType\":{\"values\":{\"STREAM_METADATA_UI_PRIMITIVE_TYPE_INVALID\":0,\"TREETABLE\":1}},\"AnnotationType\":{\"values\":{\"STREAM_METADATA_ANNOTATION_TYPE_INVALID\":0,\"VISUAL\":1}},\"CoordinateType\":{\"values\":{\"STREAM_METADATA_COORDINATE_TYPE_INVALID\":0,\"GEOGRAPHIC\":1,\"IDENTITY\":2,\"DYNAMIC\":3,\"VEHICLE_RELATIVE\":4}}}},\"CameraInfo\":{\"options\":{\"(xviz_json_schema)\":\"session/camera_info\"},\"fields\":{\"human_name\":{\"type\":\"string\",\"id\":1},\"source\":{\"type\":\"string\",\"id\":2},\"vehicle_position\":{\"rule\":\"repeated\",\"type\":\"double\",\"id\":3},\"vehicle_orientation\":{\"rule\":\"repeated\",\"type\":\"double\",\"id\":4},\"pixel_width\":{\"type\":\"double\",\"id\":5},\"pixel_height\":{\"type\":\"double\",\"id\":6},\"rectification_projection\":{\"rule\":\"repeated\",\"type\":\"double\",\"id\":7},\"gl_projection\":{\"rule\":\"repeated\",\"type\":\"double\",\"id\":8}}},\"UIPanelInfo\":{\"options\":{\"(xviz_json_schema)\":\"session/ui_panel_info\"},\"fields\":{\"name\":{\"type\":\"string\",\"id\":1},\"needed_streams\":{\"rule\":\"repeated\",\"type\":\"string\",\"id\":2},\"config\":{\"type\":\"google.protobuf.Struct\",\"id\":3}}},\"LogInfo\":{\"options\":{\"(xviz_json_schema)\":\"session/log_info\"},\"fields\":{\"start_time\":{\"type\":\"double\",\"id\":1},\"end_time\":{\"type\":\"double\",\"id\":2}}},\"StyleClass\":{\"options\":{\"(xviz_json_schema)\":\"style/class\"},\"fields\":{\"name\":{\"type\":\"string\",\"id\":1},\"style\":{\"type\":\"StyleObjectValue\",\"id\":2}}},\"StyleObjectValue\":{\"options\":{\"(xviz_json_schema)\":\"style/object_value\"},\"fields\":{\"fill_color\":{\"type\":\"bytes\",\"id\":1},\"stroke_color\":{\"type\":\"bytes\",\"id\":2},\"stroke_width\":{\"type\":\"float\",\"id\":3},\"radius\":{\"type\":\"float\",\"id\":4},\"text_size\":{\"type\":\"float\",\"id\":5},\"text_rotation\":{\"type\":\"float\",\"id\":6},\"text_anchor\":{\"type\":\"TextAnchor\",\"id\":7},\"text_baseline\":{\"type\":\"TextAlignmentBaseline\",\"id\":8},\"height\":{\"type\":\"float\",\"id\":9}}},\"StyleStreamValue\":{\"options\":{\"(xviz_json_schema)\":\"style/stream_value\"},\"fields\":{\"fill_color\":{\"type\":\"bytes\",\"id\":1},\"stroke_color\":{\"type\":\"bytes\",\"id\":2},\"stroke_width\":{\"type\":\"float\",\"id\":3},\"radius\":{\"type\":\"float\",\"id\":4},\"text_size\":{\"type\":\"float\",\"id\":5},\"text_rotation\":{\"type\":\"float\",\"id\":6},\"text_anchor\":{\"type\":\"TextAnchor\",\"id\":7},\"text_baseline\":{\"type\":\"TextAlignmentBaseline\",\"id\":8},\"height\":{\"type\":\"float\",\"id\":9},\"radius_min_pixels\":{\"type\":\"uint32\",\"id\":10},\"radius_max_pixels\":{\"type\":\"uint32\",\"id\":11},\"stroke_width_min_pixels\":{\"type\":\"uint32\",\"id\":12},\"stroke_width_max_pixels\":{\"type\":\"uint32\",\"id\":13},\"opacity\":{\"type\":\"float\",\"id\":14},\"stroked\":{\"type\":\"bool\",\"id\":15},\"filled\":{\"type\":\"bool\",\"id\":16},\"extruded\":{\"type\":\"bool\",\"id\":17},\"radius_pixels\":{\"type\":\"uint32\",\"id\":18},\"font_weight\":{\"type\":\"uint32\",\"id\":19},\"font_family\":{\"type\":\"string\",\"id\":20},\"point_color_mode\":{\"type\":\"PointColorMode\",\"id\":21},\"point_color_domain\":{\"rule\":\"repeated\",\"type\":\"float\",\"id\":22}}},\"Color\":{\"fields\":{\"values\":{\"type\":\"bytes\",\"id\":1}}},\"TextAnchor\":{\"values\":{\"TEXT_ANCHOR_INVALID\":0,\"START\":1,\"MIDDLE\":2,\"END\":3}},\"TextAlignmentBaseline\":{\"values\":{\"TEXT_ALIGNMENT_BASELINE_INVALID\":0,\"TOP\":1,\"CENTER\":2,\"BOTTOM\":3}},\"PointColorMode\":{\"values\":{\"POINT_COLOR_MODE_INVALID\":0,\"ELEVATION\":1,\"DISTANCE_TO_VEHICLE\":2}},\"TreeTable\":{\"options\":{\"(xviz_json_schema)\":\"ui-primitives/treetable\"},\"fields\":{\"columns\":{\"rule\":\"repeated\",\"type\":\"TreeTableColumn\",\"id\":1},\"nodes\":{\"rule\":\"repeated\",\"type\":\"TreeTableNode\",\"id\":2}}},\"TreeTableColumn\":{\"fields\":{\"display_text\":{\"type\":\"string\",\"id\":1},\"type\":{\"type\":\"ColumnType\",\"id\":2},\"unit\":{\"type\":\"string\",\"id\":3}},\"nested\":{\"ColumnType\":{\"values\":{\"TREE_TABLE_COLUMN_COLUMN_TYPE_INVALID\":0,\"INT32\":1,\"DOUBLE\":2,\"STRING\":3,\"BOOLEAN\":4}}}},\"TreeTableNode\":{\"fields\":{\"id\":{\"type\":\"int32\",\"id\":1},\"parent\":{\"type\":\"int32\",\"id\":2},\"column_values\":{\"rule\":\"repeated\",\"type\":\"string\",\"id\":3}}}}}}},\"google\":{\"nested\":{\"protobuf\":{\"nested\":{\"Any\":{\"fields\":{\"type_url\":{\"type\":\"string\",\"id\":1},\"value\":{\"type\":\"bytes\",\"id\":2}}},\"FileDescriptorSet\":{\"fields\":{\"file\":{\"rule\":\"repeated\",\"type\":\"FileDescriptorProto\",\"id\":1}}},\"FileDescriptorProto\":{\"fields\":{\"name\":{\"type\":\"string\",\"id\":1},\"package\":{\"type\":\"string\",\"id\":2},\"dependency\":{\"rule\":\"repeated\",\"type\":\"string\",\"id\":3},\"public_dependency\":{\"rule\":\"repeated\",\"type\":\"int32\",\"id\":10,\"options\":{\"packed\":false}},\"weak_dependency\":{\"rule\":\"repeated\",\"type\":\"int32\",\"id\":11,\"options\":{\"packed\":false}},\"message_type\":{\"rule\":\"repeated\",\"type\":\"DescriptorProto\",\"id\":4},\"enum_type\":{\"rule\":\"repeated\",\"type\":\"EnumDescriptorProto\",\"id\":5},\"service\":{\"rule\":\"repeated\",\"type\":\"ServiceDescriptorProto\",\"id\":6},\"extension\":{\"rule\":\"repeated\",\"type\":\"FieldDescriptorProto\",\"id\":7},\"options\":{\"type\":\"FileOptions\",\"id\":8},\"source_code_info\":{\"type\":\"SourceCodeInfo\",\"id\":9},\"syntax\":{\"type\":\"string\",\"id\":12}}},\"DescriptorProto\":{\"fields\":{\"name\":{\"type\":\"string\",\"id\":1},\"field\":{\"rule\":\"repeated\",\"type\":\"FieldDescriptorProto\",\"id\":2},\"extension\":{\"rule\":\"repeated\",\"type\":\"FieldDescriptorProto\",\"id\":6},\"nested_type\":{\"rule\":\"repeated\",\"type\":\"DescriptorProto\",\"id\":3},\"enum_type\":{\"rule\":\"repeated\",\"type\":\"EnumDescriptorProto\",\"id\":4},\"extension_range\":{\"rule\":\"repeated\",\"type\":\"ExtensionRange\",\"id\":5},\"oneof_decl\":{\"rule\":\"repeated\",\"type\":\"OneofDescriptorProto\",\"id\":8},\"options\":{\"type\":\"MessageOptions\",\"id\":7},\"reserved_range\":{\"rule\":\"repeated\",\"type\":\"ReservedRange\",\"id\":9},\"reserved_name\":{\"rule\":\"repeated\",\"type\":\"string\",\"id\":10}},\"nested\":{\"ExtensionRange\":{\"fields\":{\"start\":{\"type\":\"int32\",\"id\":1},\"end\":{\"type\":\"int32\",\"id\":2}}},\"ReservedRange\":{\"fields\":{\"start\":{\"type\":\"int32\",\"id\":1},\"end\":{\"type\":\"int32\",\"id\":2}}}}},\"FieldDescriptorProto\":{\"fields\":{\"name\":{\"type\":\"string\",\"id\":1},\"number\":{\"type\":\"int32\",\"id\":3},\"label\":{\"type\":\"Label\",\"id\":4},\"type\":{\"type\":\"Type\",\"id\":5},\"type_name\":{\"type\":\"string\",\"id\":6},\"extendee\":{\"type\":\"string\",\"id\":2},\"default_value\":{\"type\":\"string\",\"id\":7},\"oneof_index\":{\"type\":\"int32\",\"id\":9},\"json_name\":{\"type\":\"string\",\"id\":10},\"options\":{\"type\":\"FieldOptions\",\"id\":8}},\"nested\":{\"Type\":{\"values\":{\"TYPE_DOUBLE\":1,\"TYPE_FLOAT\":2,\"TYPE_INT64\":3,\"TYPE_UINT64\":4,\"TYPE_INT32\":5,\"TYPE_FIXED64\":6,\"TYPE_FIXED32\":7,\"TYPE_BOOL\":8,\"TYPE_STRING\":9,\"TYPE_GROUP\":10,\"TYPE_MESSAGE\":11,\"TYPE_BYTES\":12,\"TYPE_UINT32\":13,\"TYPE_ENUM\":14,\"TYPE_SFIXED32\":15,\"TYPE_SFIXED64\":16,\"TYPE_SINT32\":17,\"TYPE_SINT64\":18}},\"Label\":{\"values\":{\"LABEL_OPTIONAL\":1,\"LABEL_REQUIRED\":2,\"LABEL_REPEATED\":3}}}},\"OneofDescriptorProto\":{\"fields\":{\"name\":{\"type\":\"string\",\"id\":1},\"options\":{\"type\":\"OneofOptions\",\"id\":2}}},\"EnumDescriptorProto\":{\"fields\":{\"name\":{\"type\":\"string\",\"id\":1},\"value\":{\"rule\":\"repeated\",\"type\":\"EnumValueDescriptorProto\",\"id\":2},\"options\":{\"type\":\"EnumOptions\",\"id\":3}}},\"EnumValueDescriptorProto\":{\"fields\":{\"name\":{\"type\":\"string\",\"id\":1},\"number\":{\"type\":\"int32\",\"id\":2},\"options\":{\"type\":\"EnumValueOptions\",\"id\":3}}},\"ServiceDescriptorProto\":{\"fields\":{\"name\":{\"type\":\"string\",\"id\":1},\"method\":{\"rule\":\"repeated\",\"type\":\"MethodDescriptorProto\",\"id\":2},\"options\":{\"type\":\"ServiceOptions\",\"id\":3}}},\"MethodDescriptorProto\":{\"fields\":{\"name\":{\"type\":\"string\",\"id\":1},\"input_type\":{\"type\":\"string\",\"id\":2},\"output_type\":{\"type\":\"string\",\"id\":3},\"options\":{\"type\":\"MethodOptions\",\"id\":4},\"client_streaming\":{\"type\":\"bool\",\"id\":5},\"server_streaming\":{\"type\":\"bool\",\"id\":6}}},\"FileOptions\":{\"fields\":{\"java_package\":{\"type\":\"string\",\"id\":1},\"java_outer_classname\":{\"type\":\"string\",\"id\":8},\"java_multiple_files\":{\"type\":\"bool\",\"id\":10},\"java_generate_equals_and_hash\":{\"type\":\"bool\",\"id\":20,\"options\":{\"deprecated\":true}},\"java_string_check_utf8\":{\"type\":\"bool\",\"id\":27},\"optimize_for\":{\"type\":\"OptimizeMode\",\"id\":9,\"options\":{\"default\":\"SPEED\"}},\"go_package\":{\"type\":\"string\",\"id\":11},\"cc_generic_services\":{\"type\":\"bool\",\"id\":16},\"java_generic_services\":{\"type\":\"bool\",\"id\":17},\"py_generic_services\":{\"type\":\"bool\",\"id\":18},\"deprecated\":{\"type\":\"bool\",\"id\":23},\"cc_enable_arenas\":{\"type\":\"bool\",\"id\":31},\"objc_class_prefix\":{\"type\":\"string\",\"id\":36},\"csharp_namespace\":{\"type\":\"string\",\"id\":37},\"uninterpreted_option\":{\"rule\":\"repeated\",\"type\":\"UninterpretedOption\",\"id\":999}},\"extensions\":[[1000,536870911]],\"reserved\":[[38,38]],\"nested\":{\"OptimizeMode\":{\"values\":{\"SPEED\":1,\"CODE_SIZE\":2,\"LITE_RUNTIME\":3}}}},\"MessageOptions\":{\"fields\":{\"message_set_wire_format\":{\"type\":\"bool\",\"id\":1},\"no_standard_descriptor_accessor\":{\"type\":\"bool\",\"id\":2},\"deprecated\":{\"type\":\"bool\",\"id\":3},\"map_entry\":{\"type\":\"bool\",\"id\":7},\"uninterpreted_option\":{\"rule\":\"repeated\",\"type\":\"UninterpretedOption\",\"id\":999}},\"extensions\":[[1000,536870911]],\"reserved\":[[8,8]]},\"FieldOptions\":{\"fields\":{\"ctype\":{\"type\":\"CType\",\"id\":1,\"options\":{\"default\":\"STRING\"}},\"packed\":{\"type\":\"bool\",\"id\":2},\"jstype\":{\"type\":\"JSType\",\"id\":6,\"options\":{\"default\":\"JS_NORMAL\"}},\"lazy\":{\"type\":\"bool\",\"id\":5},\"deprecated\":{\"type\":\"bool\",\"id\":3},\"weak\":{\"type\":\"bool\",\"id\":10},\"uninterpreted_option\":{\"rule\":\"repeated\",\"type\":\"UninterpretedOption\",\"id\":999}},\"extensions\":[[1000,536870911]],\"reserved\":[[4,4]],\"nested\":{\"CType\":{\"values\":{\"STRING\":0,\"CORD\":1,\"STRING_PIECE\":2}},\"JSType\":{\"values\":{\"JS_NORMAL\":0,\"JS_STRING\":1,\"JS_NUMBER\":2}}}},\"OneofOptions\":{\"fields\":{\"uninterpreted_option\":{\"rule\":\"repeated\",\"type\":\"UninterpretedOption\",\"id\":999}},\"extensions\":[[1000,536870911]]},\"EnumOptions\":{\"fields\":{\"allow_alias\":{\"type\":\"bool\",\"id\":2},\"deprecated\":{\"type\":\"bool\",\"id\":3},\"uninterpreted_option\":{\"rule\":\"repeated\",\"type\":\"UninterpretedOption\",\"id\":999}},\"extensions\":[[1000,536870911]]},\"EnumValueOptions\":{\"fields\":{\"deprecated\":{\"type\":\"bool\",\"id\":1},\"uninterpreted_option\":{\"rule\":\"repeated\",\"type\":\"UninterpretedOption\",\"id\":999}},\"extensions\":[[1000,536870911]]},\"ServiceOptions\":{\"fields\":{\"deprecated\":{\"type\":\"bool\",\"id\":33},\"uninterpreted_option\":{\"rule\":\"repeated\",\"type\":\"UninterpretedOption\",\"id\":999}},\"extensions\":[[1000,536870911]]},\"MethodOptions\":{\"fields\":{\"deprecated\":{\"type\":\"bool\",\"id\":33},\"uninterpreted_option\":{\"rule\":\"repeated\",\"type\":\"UninterpretedOption\",\"id\":999}},\"extensions\":[[1000,536870911]]},\"UninterpretedOption\":{\"fields\":{\"name\":{\"rule\":\"repeated\",\"type\":\"NamePart\",\"id\":2},\"identifier_value\":{\"type\":\"string\",\"id\":3},\"positive_int_value\":{\"type\":\"uint64\",\"id\":4},\"negative_int_value\":{\"type\":\"int64\",\"id\":5},\"double_value\":{\"type\":\"double\",\"id\":6},\"string_value\":{\"type\":\"bytes\",\"id\":7},\"aggregate_value\":{\"type\":\"string\",\"id\":8}},\"nested\":{\"NamePart\":{\"fields\":{\"name_part\":{\"rule\":\"required\",\"type\":\"string\",\"id\":1},\"is_extension\":{\"rule\":\"required\",\"type\":\"bool\",\"id\":2}}}}},\"SourceCodeInfo\":{\"fields\":{\"location\":{\"rule\":\"repeated\",\"type\":\"Location\",\"id\":1}},\"nested\":{\"Location\":{\"fields\":{\"path\":{\"rule\":\"repeated\",\"type\":\"int32\",\"id\":1},\"span\":{\"rule\":\"repeated\",\"type\":\"int32\",\"id\":2},\"leading_comments\":{\"type\":\"string\",\"id\":3},\"trailing_comments\":{\"type\":\"string\",\"id\":4},\"leading_detached_comments\":{\"rule\":\"repeated\",\"type\":\"string\",\"id\":6}}}}},\"GeneratedCodeInfo\":{\"fields\":{\"annotation\":{\"rule\":\"repeated\",\"type\":\"Annotation\",\"id\":1}},\"nested\":{\"Annotation\":{\"fields\":{\"path\":{\"rule\":\"repeated\",\"type\":\"int32\",\"id\":1},\"source_file\":{\"type\":\"string\",\"id\":2},\"begin\":{\"type\":\"int32\",\"id\":3},\"end\":{\"type\":\"int32\",\"id\":4}}}}},\"Struct\":{\"fields\":{\"fields\":{\"keyType\":\"string\",\"type\":\"Value\",\"id\":1}}},\"Value\":{\"oneofs\":{\"kind\":{\"oneof\":[\"nullValue\",\"numberValue\",\"stringValue\",\"boolValue\",\"structValue\",\"listValue\"]}},\"fields\":{\"nullValue\":{\"type\":\"NullValue\",\"id\":1},\"numberValue\":{\"type\":\"double\",\"id\":2},\"stringValue\":{\"type\":\"string\",\"id\":3},\"boolValue\":{\"type\":\"bool\",\"id\":4},\"structValue\":{\"type\":\"Struct\",\"id\":5},\"listValue\":{\"type\":\"ListValue\",\"id\":6}}},\"NullValue\":{\"values\":{\"NULL_VALUE\":0}},\"ListValue\":{\"fields\":{\"values\":{\"rule\":\"repeated\",\"type\":\"Value\",\"id\":1}}}}}}}}}')},function(e,t,r){\"use strict\";var n=r(156),i=r(75),o=r(160),a=r(108),s=r(109),u=r(161),c=r(162),f=r(183),l=r(41);e.exports=m,m.prototype.validate=function(e,t){var r;if(\"string\"==typeof e){if(!(r=this.getSchema(e)))throw new Error('no schema with key or ref \"'+e+'\"')}else{var n=this._addSchema(e);r=n.validate||this._compile(n)}var i=r(t);!0!==r.$async&&(this.errors=r.errors);return i},m.prototype.compile=function(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)},m.prototype.addSchema=function(e,t,r,n){if(Array.isArray(e)){for(var o=0;o<e.length;o++)this.addSchema(e[o],void 0,r,n);return this}var a=this._getId(e);if(void 0!==a&&\"string\"!=typeof a)throw new Error(\"schema id must be string\");return E(this,t=i.normalizeId(t||a)),this._schemas[t]=this._addSchema(e,r,n,!0),this},m.prototype.addMetaSchema=function(e,t,r){return this.addSchema(e,t,r,!0),this},m.prototype.validateSchema=function(e,t){var r=e.$schema;if(void 0!==r&&\"string\"!=typeof r)throw new Error(\"$schema must be a string\");if(!(r=r||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta=\"object\"==typeof t?e._getId(t)||t:e.getSchema(d)?d:void 0,e._opts.defaultMeta}(this)))return this.logger.warn(\"meta-schema not available\"),this.errors=null,!0;var n=this.validate(r,e);if(!n&&t){var i=\"schema is invalid: \"+this.errorsText();if(\"log\"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return n},m.prototype.getSchema=function(e){var t=g(this,e);switch(typeof t){case\"object\":return t.validate||this._compile(t);case\"string\":return this.getSchema(t);case\"undefined\":return function(e,t){var r=i.schema.call(e,{schema:{}},t);if(r){var o=r.schema,s=r.root,u=r.baseId,c=n.call(e,o,s,void 0,u);return e._fragments[t]=new a({ref:t,fragment:!0,schema:o,root:s,baseId:u,validate:c}),c}}(this,e)}},m.prototype.removeSchema=function(e){if(e instanceof RegExp)return b(this,this._schemas,e),b(this,this._refs,e),this;switch(typeof e){case\"undefined\":return b(this,this._schemas),b(this,this._refs),this._cache.clear(),this;case\"string\":var t=g(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case\"object\":var r=this._opts.serialize,n=r?r(e):e;this._cache.del(n);var o=this._getId(e);o&&(o=i.normalizeId(o),delete this._schemas[o],delete this._refs[o])}return this},m.prototype.addFormat=function(e,t){\"string\"==typeof t&&(t=new RegExp(t));return this._formats[e]=t,this},m.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return\"No errors\";for(var r=void 0===(t=t||{}).separator?\", \":t.separator,n=void 0===t.dataVar?\"data\":t.dataVar,i=\"\",o=0;o<e.length;o++){var a=e[o];a&&(i+=n+a.dataPath+\" \"+a.message+r)}return i.slice(0,-r.length)},m.prototype._addSchema=function(e,t,r,n){if(\"object\"!=typeof e&&\"boolean\"!=typeof e)throw new Error(\"schema should be object or boolean\");var o=this._opts.serialize,s=o?o(e):e,u=this._cache.get(s);if(u)return u;n=n||!1!==this._opts.addUsedSchema;var c=i.normalizeId(this._getId(e));c&&n&&E(this,c);var f,l=!1!==this._opts.validateSchema&&!t;l&&!(f=c&&c==i.normalizeId(e.$schema))&&this.validateSchema(e,!0);var p=i.ids.call(this,e),h=new a({id:c,schema:e,localRefs:p,cacheKey:s,meta:r});\"#\"!=c[0]&&n&&(this._refs[c]=h);this._cache.put(s,h),l&&f&&this.validateSchema(e,!0);return h},m.prototype._compile=function(e,t){if(e.compiling)return e.validate=o,o.schema=e.schema,o.errors=null,o.root=t||o,!0===e.schema.$async&&(o.$async=!0),o;var r,i;e.compiling=!0,e.meta&&(r=this._opts,this._opts=this._metaOpts);try{i=n.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i;function o(){var t=e.validate,r=t.apply(this,arguments);return o.errors=t.errors,r}},m.prototype.compileAsync=r(184);var p=r(185);m.prototype.addKeyword=p.add,m.prototype.getKeyword=p.get,m.prototype.removeKeyword=p.remove,m.prototype.validateKeyword=p.validate;var h=r(77);m.ValidationError=h.Validation,m.MissingRefError=h.MissingRef,m.$dataMetaSchema=f;var d=\"http://json-schema.org/draft-07/schema\",y=[\"removeAdditional\",\"useDefaults\",\"coerceTypes\",\"strictDefaults\"],v=[\"/properties\"];function m(e){if(!(this instanceof m))return new m(e);e=this._opts=l.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:j,warn:j,error:j};else{if(void 0===t&&(t=console),!(\"object\"==typeof t&&t.log&&t.warn&&t.error))throw new Error(\"logger must implement log, warn and error methods\");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=u(e.format),this._cache=e.cache||new o,this._loadingSchemas={},this._compilations=[],this.RULES=c(),this._getId=function(e){switch(e.schemaId){case\"auto\":return w;case\"id\":return O;default:return _}}(e),e.loopRequired=e.loopRequired||1/0,\"property\"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=s),this._metaOpts=function(e){for(var t=l.copy(e._opts),r=0;r<y.length;r++)delete t[y[r]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}(this),e.keywords&&function(e){for(var t in e._opts.keywords){var r=e._opts.keywords[t];e.addKeyword(t,r)}}(this),function(e){var t;e._opts.$data&&(t=r(188),e.addMetaSchema(t,t.$id,!0));if(!1===e._opts.meta)return;var n=r(115);e._opts.$data&&(n=f(n,v));e.addMetaSchema(n,d,!0),e._refs[\"http://json-schema.org/schema\"]=d}(this),\"object\"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword(\"nullable\",{metaSchema:{type:\"boolean\"}}),function(e){var t=e._opts.schemas;if(!t)return;if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}(this)}function g(e,t){return t=i.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function b(e,t,r){for(var n in t){var i=t[n];i.meta||r&&!r.test(n)||(e._cache.del(i.cacheKey),delete t[n])}}function O(e){return e.$id&&this.logger.warn(\"schema $id ignored\",e.$id),e.id}function _(e){return e.id&&this.logger.warn(\"schema id ignored\",e.id),e.$id}function w(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error(\"schema $id is different from id\");return e.$id||e.id}function E(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id \"'+t+'\" already exists')}function j(){}},function(e,t,r){\"use strict\";var n=r(75),i=r(41),o=r(77),a=r(109),s=r(110),u=i.ucs2length,c=r(76),f=o.Validation;function l(e,t,r){var n=h.call(this,e,t,r);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:e,root:t,baseId:r},{index:n,compiling:!1})}function p(e,t,r){var n=h.call(this,e,t,r);n>=0&&this._compilations.splice(n,1)}function h(e,t,r){for(var n=0;n<this._compilations.length;n++){var i=this._compilations[n];if(i.schema==e&&i.root==t&&i.baseId==r)return n}return-1}function d(e,t){return\"var pattern\"+e+\" = new RegExp(\"+i.toQuotedString(t[e])+\");\"}function y(e){return\"var default\"+e+\" = defaults[\"+e+\"];\"}function v(e,t){return void 0===t[e]?\"\":\"var refVal\"+e+\" = refVal[\"+e+\"];\"}function m(e){return\"var customRule\"+e+\" = customRules[\"+e+\"];\"}function g(e,t){if(!e.length)return\"\";for(var r=\"\",n=0;n<e.length;n++)r+=t(n,e);return r}e.exports=function e(t,r,h,b){var O=this,_=this._opts,w=[void 0],E={},j=[],P={},S=[],k={},T=[];r=r||{schema:t,refVal:w,refs:E};var A=l.call(this,t,r,b),x=this._compilations[A.index];if(A.compiling)return x.callValidate=function e(){var t=x.validate,r=t.apply(this,arguments);return e.errors=t.errors,r};var I=this._formats,R=this.RULES;try{var M=V(t,r,h,b);x.validate=M;var N=x.callValidate;return N&&(N.schema=M.schema,N.errors=null,N.refs=M.refs,N.refVal=M.refVal,N.root=M.root,N.$async=M.$async,_.sourceCode&&(N.source=M.source)),M}finally{p.call(this,t,r,b)}function V(t,a,l,p){var h=!a||a&&a.schema==t;if(a.schema!=r.schema)return e.call(O,t,a,l,p);var b,P=!0===t.$async,k=s({isTop:!0,schema:t,isRoot:h,baseId:p,root:a,schemaPath:\"\",errSchemaPath:\"#\",errorPath:'\"\"',MissingRefError:o.MissingRef,RULES:R,validate:s,util:i,resolve:n,resolveRef:D,usePattern:F,useDefault:B,useCustomRule:U,opts:_,formats:I,logger:O.logger,self:O});k=g(w,v)+g(j,d)+g(S,y)+g(T,m)+k,_.processCode&&(k=_.processCode(k,t));try{b=new Function(\"self\",\"RULES\",\"formats\",\"root\",\"refVal\",\"defaults\",\"customRules\",\"equal\",\"ucs2length\",\"ValidationError\",k)(O,R,I,r,w,S,T,c,u,f),w[0]=b}catch(e){throw O.logger.error(\"Error compiling schema, function code:\",k),e}return b.schema=t,b.errors=null,b.refs=E,b.refVal=w,b.root=h?b:a,P&&(b.$async=!0),!0===_.sourceCode&&(b.source={code:k,patterns:j,defaults:S}),b}function D(t,i,o){i=n.url(t,i);var a,s,u=E[i];if(void 0!==u)return C(a=w[u],s=\"refVal[\"+u+\"]\");if(!o&&r.refs){var c=r.refs[i];if(void 0!==c)return C(a=r.refVal[c],s=L(i,a))}s=L(i);var f=n.call(O,V,r,i);if(void 0===f){var l=h&&h[i];l&&(f=n.inlineRef(l,_.inlineRefs)?l:e.call(O,l,r,h,t))}if(void 0!==f)return function(e,t){var r=E[e];w[r]=t}(i,f),C(f,s);!function(e){delete E[e]}(i)}function L(e,t){var r=w.length;return w[r]=t,E[e]=r,\"refVal\"+r}function C(e,t){return\"object\"==typeof e||\"boolean\"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function F(e){var t=P[e];return void 0===t&&(t=P[e]=j.length,j[t]=e),\"pattern\"+t}function B(e){switch(typeof e){case\"boolean\":case\"number\":return\"\"+e;case\"string\":return i.toQuotedString(e);case\"object\":if(null===e)return\"null\";var t=a(e),r=k[t];return void 0===r&&(r=k[t]=S.length,S[r]=e),\"default\"+r}}function U(e,t,r,n){if(!1!==O._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every((function(e){return Object.prototype.hasOwnProperty.call(r,e)})))throw new Error(\"parent schema must have all required keywords: \"+i.join(\",\"));var o=e.definition.validateSchema;if(o)if(!o(t)){var a=\"keyword schema is invalid: \"+O.errorsText(o.errors);if(\"log\"!=O._opts.validateSchema)throw new Error(a);O.logger.error(a)}}var s,u=e.definition.compile,c=e.definition.inline,f=e.definition.macro;if(u)s=u.call(O,t,r,n);else if(f)s=f.call(O,t,r,n),!1!==_.validateSchema&&O.validateSchema(s,!0);else if(c)s=c.call(O,n,e.keyword,t,r);else if(!(s=e.definition.validate))return;if(void 0===s)throw new Error('custom keyword \"'+e.keyword+'\"failed to compile');var l=T.length;return T[l]=s,{code:\"customRule\"+l,validate:s}}}},function(e,t,r){\n/** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */\n!function(e){\"use strict\";function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,i=1;i<n;++i)t[i]=t[i].slice(1,-1);return t[n]=t[n].slice(1),t.join(\"\")}return t[0]}function r(e){return\"(?:\"+e+\")\"}function n(e){return void 0===e?\"undefined\":null===e?\"null\":Object.prototype.toString.call(e).split(\" \").pop().split(\"]\").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){var n=t(\"[0-9]\",\"[A-Fa-f]\"),i=r(r(\"%[EFef]\"+n+\"%\"+n+n+\"%\"+n+n)+\"|\"+r(\"%[89A-Fa-f]\"+n+\"%\"+n+n)+\"|\"+r(\"%\"+n+n)),o=\"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",a=t(\"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",o),s=e?\"[\\\\uE000-\\\\uF8FF]\":\"[]\",u=t(\"[A-Za-z]\",\"[0-9]\",\"[\\\\-\\\\.\\\\_\\\\~]\",e?\"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\":\"[]\"),c=r(\"[A-Za-z]\"+t(\"[A-Za-z]\",\"[0-9]\",\"[\\\\+\\\\-\\\\.]\")+\"*\"),f=r(r(i+\"|\"+t(u,o,\"[\\\\:]\"))+\"*\"),l=(r(r(\"25[0-5]\")+\"|\"+r(\"2[0-4][0-9]\")+\"|\"+r(\"1[0-9][0-9]\")+\"|\"+r(\"[1-9][0-9]\")+\"|[0-9]\"),r(r(\"25[0-5]\")+\"|\"+r(\"2[0-4][0-9]\")+\"|\"+r(\"1[0-9][0-9]\")+\"|\"+r(\"0?[1-9][0-9]\")+\"|0?0?[0-9]\")),p=r(l+\"\\\\.\"+l+\"\\\\.\"+l+\"\\\\.\"+l),h=r(n+\"{1,4}\"),d=r(r(h+\"\\\\:\"+h)+\"|\"+p),y=r(r(h+\"\\\\:\")+\"{6}\"+d),v=r(\"\\\\:\\\\:\"+r(h+\"\\\\:\")+\"{5}\"+d),m=r(r(h)+\"?\\\\:\\\\:\"+r(h+\"\\\\:\")+\"{4}\"+d),g=r(r(r(h+\"\\\\:\")+\"{0,1}\"+h)+\"?\\\\:\\\\:\"+r(h+\"\\\\:\")+\"{3}\"+d),b=r(r(r(h+\"\\\\:\")+\"{0,2}\"+h)+\"?\\\\:\\\\:\"+r(h+\"\\\\:\")+\"{2}\"+d),O=r(r(r(h+\"\\\\:\")+\"{0,3}\"+h)+\"?\\\\:\\\\:\"+h+\"\\\\:\"+d),_=r(r(r(h+\"\\\\:\")+\"{0,4}\"+h)+\"?\\\\:\\\\:\"+d),w=r(r(r(h+\"\\\\:\")+\"{0,5}\"+h)+\"?\\\\:\\\\:\"+h),E=r(r(r(h+\"\\\\:\")+\"{0,6}\"+h)+\"?\\\\:\\\\:\"),j=r([y,v,m,g,b,O,_,w,E].join(\"|\")),P=r(r(u+\"|\"+i)+\"+\"),S=(r(j+\"\\\\%25\"+P),r(j+r(\"\\\\%25|\\\\%(?!\"+n+\"{2})\")+P)),k=r(\"[vV]\"+n+\"+\\\\.\"+t(u,o,\"[\\\\:]\")+\"+\"),T=r(\"\\\\[\"+r(S+\"|\"+j+\"|\"+k)+\"\\\\]\"),A=r(r(i+\"|\"+t(u,o))+\"*\"),x=r(T+\"|\"+p+\"(?!\"+A+\")|\"+A),I=r(\"[0-9]*\"),R=r(r(f+\"@\")+\"?\"+x+r(\"\\\\:\"+I)+\"?\"),M=r(i+\"|\"+t(u,o,\"[\\\\:\\\\@]\")),N=r(M+\"*\"),V=r(M+\"+\"),D=r(r(i+\"|\"+t(u,o,\"[\\\\@]\"))+\"+\"),L=r(r(\"\\\\/\"+N)+\"*\"),C=r(\"\\\\/\"+r(V+L)+\"?\"),F=r(D+L),B=r(V+L),U=\"(?!\"+M+\")\",z=(r(L+\"|\"+C+\"|\"+F+\"|\"+B+\"|\"+U),r(r(M+\"|\"+t(\"[\\\\/\\\\?]\",s))+\"*\")),$=r(r(M+\"|[\\\\/\\\\?]\")+\"*\"),Z=r(r(\"\\\\/\\\\/\"+R+L)+\"|\"+C+\"|\"+B+\"|\"+U),X=r(c+\"\\\\:\"+Z+r(\"\\\\?\"+z)+\"?\"+r(\"\\\\#\"+$)+\"?\"),q=r(r(\"\\\\/\\\\/\"+R+L)+\"|\"+C+\"|\"+F+\"|\"+U),Y=r(q+r(\"\\\\?\"+z)+\"?\"+r(\"\\\\#\"+$)+\"?\");return r(X+\"|\"+Y),r(c+\"\\\\:\"+Z+r(\"\\\\?\"+z)+\"?\"),r(r(\"\\\\/\\\\/(\"+r(\"(\"+f+\")@\")+\"?(\"+x+\")\"+r(\"\\\\:(\"+I+\")\")+\"?)\")+\"?(\"+L+\"|\"+C+\"|\"+B+\"|\"+U+\")\"),r(\"\\\\?(\"+z+\")\"),r(\"\\\\#(\"+$+\")\"),r(r(\"\\\\/\\\\/(\"+r(\"(\"+f+\")@\")+\"?(\"+x+\")\"+r(\"\\\\:(\"+I+\")\")+\"?)\")+\"?(\"+L+\"|\"+C+\"|\"+F+\"|\"+U+\")\"),r(\"\\\\?(\"+z+\")\"),r(\"\\\\#(\"+$+\")\"),r(r(\"\\\\/\\\\/(\"+r(\"(\"+f+\")@\")+\"?(\"+x+\")\"+r(\"\\\\:(\"+I+\")\")+\"?)\")+\"?(\"+L+\"|\"+C+\"|\"+B+\"|\"+U+\")\"),r(\"\\\\?(\"+z+\")\"),r(\"\\\\#(\"+$+\")\"),r(\"(\"+f+\")@\"),r(\"\\\\:(\"+I+\")\"),{NOT_SCHEME:new RegExp(t(\"[^]\",\"[A-Za-z]\",\"[0-9]\",\"[\\\\+\\\\-\\\\.]\"),\"g\"),NOT_USERINFO:new RegExp(t(\"[^\\\\%\\\\:]\",u,o),\"g\"),NOT_HOST:new RegExp(t(\"[^\\\\%\\\\[\\\\]\\\\:]\",u,o),\"g\"),NOT_PATH:new RegExp(t(\"[^\\\\%\\\\/\\\\:\\\\@]\",u,o),\"g\"),NOT_PATH_NOSCHEME:new RegExp(t(\"[^\\\\%\\\\/\\\\@]\",u,o),\"g\"),NOT_QUERY:new RegExp(t(\"[^\\\\%]\",u,o,\"[\\\\:\\\\@\\\\/\\\\?]\",s),\"g\"),NOT_FRAGMENT:new RegExp(t(\"[^\\\\%]\",u,o,\"[\\\\:\\\\@\\\\/\\\\?]\"),\"g\"),ESCAPE:new RegExp(t(\"[^]\",u,o),\"g\"),UNRESERVED:new RegExp(u,\"g\"),OTHER_CHARS:new RegExp(t(\"[^\\\\%]\",u,a),\"g\"),PCT_ENCODED:new RegExp(i,\"g\"),IPV4ADDRESS:new RegExp(\"^(\"+p+\")$\"),IPV6ADDRESS:new RegExp(\"^\\\\[?(\"+j+\")\"+r(r(\"\\\\%25|\\\\%(?!\"+n+\"{2})\")+\"(\"+P+\")\")+\"?\\\\]?$\")}}var a=o(!1),s=o(!0),u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},c=2147483647,f=/^xn--/,l=/[^\\0-\\x7E]/,p=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,h={overflow:\"Overflow: input needs wider integers to process\",\"not-basic\":\"Illegal input >= 0x80 (not a basic code point)\",\"invalid-input\":\"Invalid input\"},d=Math.floor,y=String.fromCharCode;function v(e){throw new RangeError(h[e])}function m(e,t){var r=e.split(\"@\"),n=\"\";r.length>1&&(n=r[0]+\"@\",e=r[1]);var i=function(e,t){for(var r=[],n=e.length;n--;)r[n]=t(e[n]);return r}((e=e.replace(p,\".\")).split(\".\"),t).join(\".\");return n+i}function g(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var o=e.charCodeAt(r++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t}var b=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},O=function(e,t,r){var n=0;for(e=r?d(e/700):e>>1,e+=d(e/t);e>455;n+=36)e=d(e/35);return d(n+36*e/(e+38))},_=function(e){var t,r=[],n=e.length,i=0,o=128,a=72,s=e.lastIndexOf(\"-\");s<0&&(s=0);for(var u=0;u<s;++u)e.charCodeAt(u)>=128&&v(\"not-basic\"),r.push(e.charCodeAt(u));for(var f=s>0?s+1:0;f<n;){for(var l=i,p=1,h=36;;h+=36){f>=n&&v(\"invalid-input\");var y=(t=e.charCodeAt(f++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(y>=36||y>d((c-i)/p))&&v(\"overflow\"),i+=y*p;var m=h<=a?1:h>=a+26?26:h-a;if(y<m)break;var g=36-m;p>d(c/g)&&v(\"overflow\"),p*=g}var b=r.length+1;a=O(i-l,b,0==l),d(i/b)>c-o&&v(\"overflow\"),o+=d(i/b),i%=b,r.splice(i++,0,o)}return String.fromCodePoint.apply(String,r)},w=function(e){var t=[],r=(e=g(e)).length,n=128,i=0,o=72,a=!0,s=!1,u=void 0;try{for(var f,l=e[Symbol.iterator]();!(a=(f=l.next()).done);a=!0){var p=f.value;p<128&&t.push(y(p))}}catch(e){s=!0,u=e}finally{try{!a&&l.return&&l.return()}finally{if(s)throw u}}var h=t.length,m=h;for(h&&t.push(\"-\");m<r;){var _=c,w=!0,E=!1,j=void 0;try{for(var P,S=e[Symbol.iterator]();!(w=(P=S.next()).done);w=!0){var k=P.value;k>=n&&k<_&&(_=k)}}catch(e){E=!0,j=e}finally{try{!w&&S.return&&S.return()}finally{if(E)throw j}}var T=m+1;_-n>d((c-i)/T)&&v(\"overflow\"),i+=(_-n)*T,n=_;var A=!0,x=!1,I=void 0;try{for(var R,M=e[Symbol.iterator]();!(A=(R=M.next()).done);A=!0){var N=R.value;if(N<n&&++i>c&&v(\"overflow\"),N==n){for(var V=i,D=36;;D+=36){var L=D<=o?1:D>=o+26?26:D-o;if(V<L)break;var C=V-L,F=36-L;t.push(y(b(L+C%F,0))),V=d(C/F)}t.push(y(b(V,0))),o=O(i,T,m==h),i=0,++m}}}catch(e){x=!0,I=e}finally{try{!A&&M.return&&M.return()}finally{if(x)throw I}}++i,++n}return t.join(\"\")},E=function(e){return m(e,(function(e){return l.test(e)?\"xn--\"+w(e):e}))},j=function(e){return m(e,(function(e){return f.test(e)?_(e.slice(4).toLowerCase()):e}))},P={};function S(e){var t=e.charCodeAt(0);return t<16?\"%0\"+t.toString(16).toUpperCase():t<128?\"%\"+t.toString(16).toUpperCase():t<2048?\"%\"+(t>>6|192).toString(16).toUpperCase()+\"%\"+(63&t|128).toString(16).toUpperCase():\"%\"+(t>>12|224).toString(16).toUpperCase()+\"%\"+(t>>6&63|128).toString(16).toUpperCase()+\"%\"+(63&t|128).toString(16).toUpperCase()}function k(e){for(var t=\"\",r=0,n=e.length;r<n;){var i=parseInt(e.substr(r+1,2),16);if(i<128)t+=String.fromCharCode(i),r+=3;else if(i>=194&&i<224){if(n-r>=6){var o=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&i)<<6|63&o)}else t+=e.substr(r,6);r+=6}else if(i>=224){if(n-r>=9){var a=parseInt(e.substr(r+4,2),16),s=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function T(e,t){function r(e){var r=k(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,\"\")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,S).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,S).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,S).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,S).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,S).replace(t.PCT_ENCODED,i)),e}function A(e){return e.replace(/^0*(.*)/,\"$1\")||\"0\"}function x(e,t){var r=e.match(t.IPV4ADDRESS)||[],n=u(r,2)[1];return n?n.split(\".\").map(A).join(\".\"):e}function I(e,t){var r=e.match(t.IPV6ADDRESS)||[],n=u(r,3),i=n[1],o=n[2];if(i){for(var a=i.toLowerCase().split(\"::\").reverse(),s=u(a,2),c=s[0],f=s[1],l=f?f.split(\":\").map(A):[],p=c.split(\":\").map(A),h=t.IPV4ADDRESS.test(p[p.length-1]),d=h?7:8,y=p.length-d,v=Array(d),m=0;m<d;++m)v[m]=l[m]||p[y+m]||\"\";h&&(v[d-1]=x(v[d-1],t));var g=v.reduce((function(e,t,r){if(!t||\"0\"===t){var n=e[e.length-1];n&&n.index+n.length===r?n.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(g&&g.length>1){var O=v.slice(0,g.index),_=v.slice(g.index+g.length);b=O.join(\":\")+\"::\"+_.join(\":\")}else b=v.join(\":\");return o&&(b+=\"%\"+o),b}return e}var R=/^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i,M=void 0===\"\".match(/(){0}/)[1];function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==t.iri?s:a;\"suffix\"===t.reference&&(e=(t.scheme?t.scheme+\":\":\"\")+\"//\"+e);var i=e.match(R);if(i){M?(r.scheme=i[1],r.userinfo=i[3],r.host=i[4],r.port=parseInt(i[5],10),r.path=i[6]||\"\",r.query=i[7],r.fragment=i[8],isNaN(r.port)&&(r.port=i[5])):(r.scheme=i[1]||void 0,r.userinfo=-1!==e.indexOf(\"@\")?i[3]:void 0,r.host=-1!==e.indexOf(\"//\")?i[4]:void 0,r.port=parseInt(i[5],10),r.path=i[6]||\"\",r.query=-1!==e.indexOf(\"?\")?i[7]:void 0,r.fragment=-1!==e.indexOf(\"#\")?i[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/)?i[4]:void 0)),r.host&&(r.host=I(x(r.host,n),n)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference=\"relative\":void 0===r.fragment?r.reference=\"absolute\":r.reference=\"uri\":r.reference=\"same-document\",t.reference&&\"suffix\"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||\"URI is not a \"+t.reference+\" reference.\");var o=P[(t.scheme||r.scheme||\"\").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)T(r,n);else{if(r.host&&(t.domainHost||o&&o.domainHost))try{r.host=E(r.host.replace(n.PCT_ENCODED,k).toLowerCase())}catch(e){r.error=r.error||\"Host's domain name can not be converted to ASCII via punycode: \"+e}T(r,a)}o&&o.parse&&o.parse(r,t)}else r.error=r.error||\"URI can not be parsed.\";return r}function V(e,t){var r=!1!==t.iri?s:a,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push(\"@\")),void 0!==e.host&&n.push(I(x(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return\"[\"+t+(r?\"%25\"+r:\"\")+\"]\"}))),\"number\"==typeof e.port&&(n.push(\":\"),n.push(e.port.toString(10))),n.length?n.join(\"\"):void 0}var D=/^\\.\\.?\\//,L=/^\\/\\.(\\/|$)/,C=/^\\/\\.\\.(\\/|$)/,F=/^\\/?(?:.|\\n)*?(?=\\/|$)/;function B(e){for(var t=[];e.length;)if(e.match(D))e=e.replace(D,\"\");else if(e.match(L))e=e.replace(L,\"/\");else if(e.match(C))e=e.replace(C,\"/\"),t.pop();else if(\".\"===e||\"..\"===e)e=\"\";else{var r=e.match(F);if(!r)throw new Error(\"Unexpected dot segment condition\");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join(\"\")}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?s:a,n=[],i=P[(t.scheme||e.scheme||\"\").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?j(e.host):E(e.host.replace(r.PCT_ENCODED,k).toLowerCase())}catch(r){e.error=e.error||\"Host's domain name can not be converted to \"+(t.iri?\"Unicode\":\"ASCII\")+\" via punycode: \"+r}T(e,r),\"suffix\"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(\":\"));var o=V(e,t);if(void 0!==o&&(\"suffix\"!==t.reference&&n.push(\"//\"),n.push(o),e.path&&\"/\"!==e.path.charAt(0)&&n.push(\"/\")),void 0!==e.path){var u=e.path;t.absolutePath||i&&i.absolutePath||(u=B(u)),void 0===o&&(u=u.replace(/^\\/\\//,\"/%2F\")),n.push(u)}return void 0!==e.query&&(n.push(\"?\"),n.push(e.query)),void 0!==e.fragment&&(n.push(\"#\"),n.push(e.fragment)),n.join(\"\")}function z(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3],i={};return n||(e=N(U(e,r),r),t=N(U(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=B(t.path||\"\"),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=B(t.path||\"\"),i.query=t.query):(t.path?(\"/\"===t.path.charAt(0)?i.path=B(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf(\"/\")+1)+t.path:i.path=t.path:i.path=\"/\"+t.path,i.path=B(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function $(e,t){return e&&e.toString().replace(t&&t.iri?s.PCT_ENCODED:a.PCT_ENCODED,k)}var Z={scheme:\"http\",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||\"HTTP URIs must have a host.\"),e},serialize:function(e,t){return e.port!==(\"https\"!==String(e.scheme).toLowerCase()?80:443)&&\"\"!==e.port||(e.port=void 0),e.path||(e.path=\"/\"),e}},X={scheme:\"https\",domainHost:Z.domainHost,parse:Z.parse,serialize:Z.serialize},q={},Y=\"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\",G=\"[0-9A-Fa-f]\",J=r(r(\"%[EFef]\"+G+\"%\"+G+G+\"%\"+G+G)+\"|\"+r(\"%[89A-Fa-f]\"+G+\"%\"+G+G)+\"|\"+r(\"%\"+G+G)),W=t(\"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\",'[\\\\\"\\\\\\\\]'),H=new RegExp(Y,\"g\"),Q=new RegExp(J,\"g\"),K=new RegExp(t(\"[^]\",\"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\",\"[\\\\.]\",'[\\\\\"]',W),\"g\"),ee=new RegExp(t(\"[^]\",Y,\"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\"),\"g\"),te=ee;function re(e){var t=k(e);return t.match(H)?t:e}var ne={scheme:\"mailto\",parse:function(e,t){var r=e,n=r.to=r.path?r.path.split(\",\"):[];if(r.path=void 0,r.query){for(var i=!1,o={},a=r.query.split(\"&\"),s=0,u=a.length;s<u;++s){var c=a[s].split(\"=\");switch(c[0]){case\"to\":for(var f=c[1].split(\",\"),l=0,p=f.length;l<p;++l)n.push(f[l]);break;case\"subject\":r.subject=$(c[1],t);break;case\"body\":r.body=$(c[1],t);break;default:i=!0,o[$(c[0],t)]=$(c[1],t)}}i&&(r.headers=o)}r.query=void 0;for(var h=0,d=n.length;h<d;++h){var y=n[h].split(\"@\");if(y[0]=$(y[0]),t.unicodeSupport)y[1]=$(y[1],t).toLowerCase();else try{y[1]=E($(y[1],t).toLowerCase())}catch(e){r.error=r.error||\"Email address's domain name can not be converted to ASCII via punycode: \"+e}n[h]=y.join(\"@\")}return r},serialize:function(e,t){var r,n=e,o=null!=(r=e.to)?r instanceof Array?r:\"number\"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(o){for(var a=0,s=o.length;a<s;++a){var u=String(o[a]),c=u.lastIndexOf(\"@\"),f=u.slice(0,c).replace(Q,re).replace(Q,i).replace(K,S),l=u.slice(c+1);try{l=t.iri?j(l):E($(l,t).toLowerCase())}catch(e){n.error=n.error||\"Email address's domain name can not be converted to \"+(t.iri?\"Unicode\":\"ASCII\")+\" via punycode: \"+e}o[a]=f+\"@\"+l}n.path=o.join(\",\")}var p=e.headers=e.headers||{};e.subject&&(p.subject=e.subject),e.body&&(p.body=e.body);var h=[];for(var d in p)p[d]!==q[d]&&h.push(d.replace(Q,re).replace(Q,i).replace(ee,S)+\"=\"+p[d].replace(Q,re).replace(Q,i).replace(te,S));return h.length&&(n.query=h.join(\"&\")),n}},ie=/^([^\\:]+)\\:(.*)/,oe={scheme:\"urn\",parse:function(e,t){var r=e.path&&e.path.match(ie),n=e;if(r){var i=t.scheme||n.scheme||\"urn\",o=r[1].toLowerCase(),a=r[2],s=i+\":\"+(t.nid||o),u=P[s];n.nid=o,n.nss=a,n.path=void 0,u&&(n=u.parse(n,t))}else n.error=n.error||\"URN can not be parsed.\";return n},serialize:function(e,t){var r=t.scheme||e.scheme||\"urn\",n=e.nid,i=r+\":\"+(t.nid||n),o=P[i];o&&(e=o.serialize(e,t));var a=e,s=e.nss;return a.path=(n||t.nid)+\":\"+s,a}},ae=/^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/,se={scheme:\"urn:uuid\",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(ae)||(r.error=r.error||\"UUID is not valid.\"),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||\"\").toLowerCase(),r}};P[Z.scheme]=Z,P[X.scheme]=X,P[ne.scheme]=ne,P[oe.scheme]=oe,P[se.scheme]=se,e.SCHEMES=P,e.pctEncChar=S,e.pctDecChars=k,e.parse=N,e.removeDotSegments=B,e.serialize=U,e.resolveComponents=z,e.resolve=function(e,t,r){var n=function(e,t){var r=e;if(t)for(var n in t)r[n]=t[n];return r}({scheme:\"null\"},r);return U(z(N(e,n),N(t,n),n,!0),n)},e.normalize=function(e,t){return\"string\"==typeof e?e=U(N(e,t),t):\"object\"===n(e)&&(e=N(U(e,t),t)),e},e.equal=function(e,t,r){return\"string\"==typeof e?e=U(N(e,r),r):\"object\"===n(e)&&(e=U(e,r)),\"string\"==typeof t?t=U(N(t,r),r):\"object\"===n(t)&&(t=U(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?s.ESCAPE:a.ESCAPE,S)},e.unescapeComponent=$,Object.defineProperty(e,\"__esModule\",{value:!0})}(t)},function(e,t,r){\"use strict\";e.exports=function(e){for(var t,r=0,n=e.length,i=0;i<n;)r++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<n&&56320==(64512&(t=e.charCodeAt(i)))&&i++;return r}},function(e,t,r){\"use strict\";var n=e.exports=function(e,t,r){\"function\"==typeof t&&(r=t,t={}),function e(t,r,i,o,a,s,u,c,f,l){if(o&&\"object\"==typeof o&&!Array.isArray(o)){for(var p in r(o,a,s,u,c,f,l),o){var h=o[p];if(Array.isArray(h)){if(p in n.arrayKeywords)for(var d=0;d<h.length;d++)e(t,r,i,h[d],a+\"/\"+p+\"/\"+d,s,a,p,o,d)}else if(p in n.propsKeywords){if(h&&\"object\"==typeof h)for(var y in h)e(t,r,i,h[y],a+\"/\"+p+\"/\"+y.replace(/~/g,\"~0\").replace(/\\//g,\"~1\"),s,a,p,o,y)}else(p in n.keywords||t.allKeys&&!(p in n.skipKeywords))&&e(t,r,i,h,a+\"/\"+p,s,a,p,o)}i(o,a,s,u,c,f,l)}}(t,\"function\"==typeof(r=t.cb||r)?r:r.pre||function(){},r.post||function(){},e,\"\",e)};n.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},n.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},n.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},n.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(e,t,r){\"use strict\";var n=e.exports=function(){this._cache={}};n.prototype.put=function(e,t){this._cache[e]=t},n.prototype.get=function(e){return this._cache[e]},n.prototype.del=function(e){delete this._cache[e]},n.prototype.clear=function(){this._cache={}}},function(e,t,r){\"use strict\";var n=r(41),i=/^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31],a=/^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d(?::?\\d\\d)?)?$/i,s=/^(?=.{1,253}\\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\\.?$/i,u=/^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,c=/^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i,f=/^(?:(?:http[s\\u017F]?|ftp):\\/\\/)(?:(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+(?::(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?@)?(?:(?!10(?:\\.[0-9]{1,3}){3})(?!127(?:\\.[0-9]{1,3}){3})(?!169\\.254(?:\\.[0-9]{1,3}){2})(?!192\\.168(?:\\.[0-9]{1,3}){2})(?!172\\.(?:1[6-9]|2[0-9]|3[01])(?:\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)(?:\\.(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)*(?:\\.(?:(?:[KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\/(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?$/i,l=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,p=/^(?:\\/(?:[^~/]|~0|~1)*)*$/,h=/^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,d=/^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/;function y(e){return e=\"full\"==e?\"full\":\"fast\",n.copy(y[e])}function v(e){var t=e.match(i);if(!t)return!1;var r=+t[1],n=+t[2],a=+t[3];return n>=1&&n<=12&&a>=1&&a<=(2==n&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(r)?29:o[n])}function m(e,t){var r=e.match(a);if(!r)return!1;var n=r[1],i=r[2],o=r[3],s=r[5];return(n<=23&&i<=59&&o<=59||23==n&&59==i&&60==o)&&(!t||s)}e.exports=y,y.fast={date:/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/,time:/^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)?$/i,\"date-time\":/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\\/?\\/)?[^\\s]*$/i,\"uri-reference\":/^(?:(?:[a-z][a-z0-9+-.]*:)?\\/?\\/)?(?:[^\\\\\\s#][^\\s#]*)?(?:#[^\\\\\\s]*)?$/i,\"uri-template\":c,url:f,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,ipv6:/^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,regex:_,uuid:l,\"json-pointer\":p,\"json-pointer-uri-fragment\":h,\"relative-json-pointer\":d},y.full={date:v,time:m,\"date-time\":function(e){var t=e.split(g);return 2==t.length&&v(t[0])&&m(t[1],!0)},uri:function(e){return b.test(e)&&u.test(e)},\"uri-reference\":/^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,\"uri-template\":c,url:f,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,ipv6:/^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,regex:_,uuid:l,\"json-pointer\":p,\"json-pointer-uri-fragment\":h,\"relative-json-pointer\":d};var g=/t|\\s/i;var b=/\\/|:/;var O=/[^\\\\]\\\\Z/;function _(e){if(O.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}},function(e,t,r){\"use strict\";var n=r(163),i=r(41).toHash;e.exports=function(){var e=[{type:\"number\",rules:[{maximum:[\"exclusiveMaximum\"]},{minimum:[\"exclusiveMinimum\"]},\"multipleOf\",\"format\"]},{type:\"string\",rules:[\"maxLength\",\"minLength\",\"pattern\",\"format\"]},{type:\"array\",rules:[\"maxItems\",\"minItems\",\"items\",\"contains\",\"uniqueItems\"]},{type:\"object\",rules:[\"maxProperties\",\"minProperties\",\"required\",\"dependencies\",\"propertyNames\",{properties:[\"additionalProperties\",\"patternProperties\"]}]},{rules:[\"$ref\",\"const\",\"enum\",\"not\",\"anyOf\",\"oneOf\",\"allOf\",\"if\"]}],t=[\"type\",\"$comment\"];return e.all=i(t),e.types=i([\"number\",\"integer\",\"string\",\"array\",\"object\",\"boolean\",\"null\"]),e.forEach((function(r){r.rules=r.rules.map((function(r){var i;if(\"object\"==typeof r){var o=Object.keys(r)[0];i=r[o],r=o,i.forEach((function(r){t.push(r),e.all[r]=!0}))}return t.push(r),e.all[r]={keyword:r,code:n[r],implements:i}})),e.all.$comment={keyword:\"$comment\",code:n.$comment},r.type&&(e.types[r.type]=r)})),e.keywords=i(t.concat([\"$schema\",\"$id\",\"id\",\"$data\",\"$async\",\"title\",\"description\",\"default\",\"definitions\",\"examples\",\"readOnly\",\"writeOnly\",\"contentMediaType\",\"contentEncoding\",\"additionalItems\",\"then\",\"else\"])),e.custom={},e}},function(e,t,r){\"use strict\";e.exports={$ref:r(164),allOf:r(165),anyOf:r(166),$comment:r(167),const:r(168),contains:r(169),dependencies:r(170),enum:r(171),format:r(172),if:r(173),items:r(174),maximum:r(111),minimum:r(111),maxItems:r(112),minItems:r(112),maxLength:r(113),minLength:r(113),maxProperties:r(114),minProperties:r(114),multipleOf:r(175),not:r(176),oneOf:r(177),pattern:r(178),properties:r(179),propertyNames:r(180),required:r(181),uniqueItems:r(182),validate:r(110)}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n,i,o=\" \",a=e.level,s=e.dataLevel,u=e.schema[t],c=e.errSchemaPath+\"/\"+t,f=!e.opts.allErrors,l=\"data\"+(s||\"\"),p=\"valid\"+a;if(\"#\"==u||\"#/\"==u)e.isRoot?(n=e.async,i=\"validate\"):(n=!0===e.root.schema.$async,i=\"root.refVal[0]\");else{var h=e.resolveRef(e.baseId,u,e.isRoot);if(void 0===h){var d=e.MissingRefError.message(e.baseId,u);if(\"fail\"==e.opts.missingRefs){e.logger.error(d),(g=g||[]).push(o),o=\"\",!1!==e.createErrors?(o+=\" { keyword: '$ref' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { ref: '\"+e.util.escapeQuotes(u)+\"' } \",!1!==e.opts.messages&&(o+=\" , message: 'can\\\\'t resolve reference \"+e.util.escapeQuotes(u)+\"' \"),e.opts.verbose&&(o+=\" , schema: \"+e.util.toQuotedString(u)+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),o+=\" } \"):o+=\" {} \";var y=o;o=g.pop(),!e.compositeRule&&f?e.async?o+=\" throw new ValidationError([\"+y+\"]); \":o+=\" validate.errors = [\"+y+\"]; return false; \":o+=\" var err = \"+y+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",f&&(o+=\" if (false) { \")}else{if(\"ignore\"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,u,d);e.logger.warn(d),f&&(o+=\" if (true) { \")}}else if(h.inline){var v=e.util.copy(e);v.level++;var m=\"valid\"+v.level;v.schema=h.schema,v.schemaPath=\"\",v.errSchemaPath=u,o+=\" \"+e.validate(v).replace(/validate\\.schema/g,h.code)+\" \",f&&(o+=\" if (\"+m+\") { \")}else n=!0===h.$async||e.async&&!1!==h.$async,i=h.code}if(i){var g;(g=g||[]).push(o),o=\"\",e.opts.passContext?o+=\" \"+i+\".call(this, \":o+=\" \"+i+\"( \",o+=\" \"+l+\", (dataPath || '')\",'\"\"'!=e.errorPath&&(o+=\" + \"+e.errorPath);var b=o+=\" , \"+(s?\"data\"+(s-1||\"\"):\"parentData\")+\" , \"+(s?e.dataPathArr[s]:\"parentDataProperty\")+\", rootData)  \";if(o=g.pop(),n){if(!e.async)throw new Error(\"async schema referenced by sync schema\");f&&(o+=\" var \"+p+\"; \"),o+=\" try { await \"+b+\"; \",f&&(o+=\" \"+p+\" = true; \"),o+=\" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; \",f&&(o+=\" \"+p+\" = false; \"),o+=\" } \",f&&(o+=\" if (\"+p+\") { \")}else o+=\" if (!\"+b+\") { if (vErrors === null) vErrors = \"+i+\".errors; else vErrors = vErrors.concat(\"+i+\".errors); errors = vErrors.length; } \",f&&(o+=\" else { \")}return o}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n=\" \",i=e.schema[t],o=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+\"/\"+t,s=!e.opts.allErrors,u=e.util.copy(e),c=\"\";u.level++;var f=\"valid\"+u.level,l=u.baseId,p=!0,h=i;if(h)for(var d,y=-1,v=h.length-1;y<v;)d=h[y+=1],(e.opts.strictKeywords?\"object\"==typeof d&&Object.keys(d).length>0:e.util.schemaHasRules(d,e.RULES.all))&&(p=!1,u.schema=d,u.schemaPath=o+\"[\"+y+\"]\",u.errSchemaPath=a+\"/\"+y,n+=\"  \"+e.validate(u)+\" \",u.baseId=l,s&&(n+=\" if (\"+f+\") { \",c+=\"}\"));return s&&(n+=p?\" if (true) { \":\" \"+c.slice(0,-1)+\" \"),n}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n=\" \",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+\"/\"+t,c=!e.opts.allErrors,f=\"data\"+(o||\"\"),l=\"valid\"+i,p=\"errs__\"+i,h=e.util.copy(e),d=\"\";h.level++;var y=\"valid\"+h.level;if(a.every((function(t){return e.opts.strictKeywords?\"object\"==typeof t&&Object.keys(t).length>0:e.util.schemaHasRules(t,e.RULES.all)}))){var v=h.baseId;n+=\" var \"+p+\" = errors; var \"+l+\" = false;  \";var m=e.compositeRule;e.compositeRule=h.compositeRule=!0;var g=a;if(g)for(var b,O=-1,_=g.length-1;O<_;)b=g[O+=1],h.schema=b,h.schemaPath=s+\"[\"+O+\"]\",h.errSchemaPath=u+\"/\"+O,n+=\"  \"+e.validate(h)+\" \",h.baseId=v,n+=\" \"+l+\" = \"+l+\" || \"+y+\"; if (!\"+l+\") { \",d+=\"}\";e.compositeRule=h.compositeRule=m,n+=\" \"+d+\" if (!\"+l+\") {   var err =   \",!1!==e.createErrors?(n+=\" { keyword: 'anyOf' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: {} \",!1!==e.opts.messages&&(n+=\" , message: 'should match some schema in anyOf' \"),e.opts.verbose&&(n+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),n+=\" } \"):n+=\" {} \",n+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",!e.compositeRule&&c&&(e.async?n+=\" throw new ValidationError(vErrors); \":n+=\" validate.errors = vErrors; return false; \"),n+=\" } else {  errors = \"+p+\"; if (vErrors !== null) { if (\"+p+\") vErrors.length = \"+p+\"; else vErrors = null; } \",e.opts.allErrors&&(n+=\" } \")}else c&&(n+=\" if (true) { \");return n}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n=\" \",i=e.schema[t],o=e.errSchemaPath+\"/\"+t,a=(e.opts.allErrors,e.util.toQuotedString(i));return!0===e.opts.$comment?n+=\" console.log(\"+a+\");\":\"function\"==typeof e.opts.$comment&&(n+=\" self._opts.$comment(\"+a+\", \"+e.util.toQuotedString(o)+\", validate.root.schema);\"),n}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n=\" \",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+\"/\"+t,c=!e.opts.allErrors,f=\"data\"+(o||\"\"),l=\"valid\"+i,p=e.opts.$data&&a&&a.$data;p&&(n+=\" var schema\"+i+\" = \"+e.util.getData(a.$data,o,e.dataPathArr)+\"; \"),p||(n+=\" var schema\"+i+\" = validate.schema\"+s+\";\"),n+=\"var \"+l+\" = equal(\"+f+\", schema\"+i+\"); if (!\"+l+\") {   \";var h=h||[];h.push(n),n=\"\",!1!==e.createErrors?(n+=\" { keyword: 'const' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { allowedValue: schema\"+i+\" } \",!1!==e.opts.messages&&(n+=\" , message: 'should be equal to constant' \"),e.opts.verbose&&(n+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),n+=\" } \"):n+=\" {} \";var d=n;return n=h.pop(),!e.compositeRule&&c?e.async?n+=\" throw new ValidationError([\"+d+\"]); \":n+=\" validate.errors = [\"+d+\"]; return false; \":n+=\" var err = \"+d+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",n+=\" }\",c&&(n+=\" else { \"),n}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n=\" \",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+\"/\"+t,c=!e.opts.allErrors,f=\"data\"+(o||\"\"),l=\"valid\"+i,p=\"errs__\"+i,h=e.util.copy(e);h.level++;var d=\"valid\"+h.level,y=\"i\"+i,v=h.dataLevel=e.dataLevel+1,m=\"data\"+v,g=e.baseId,b=e.opts.strictKeywords?\"object\"==typeof a&&Object.keys(a).length>0:e.util.schemaHasRules(a,e.RULES.all);if(n+=\"var \"+p+\" = errors;var \"+l+\";\",b){var O=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=a,h.schemaPath=s,h.errSchemaPath=u,n+=\" var \"+d+\" = false; for (var \"+y+\" = 0; \"+y+\" < \"+f+\".length; \"+y+\"++) { \",h.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers,!0);var _=f+\"[\"+y+\"]\";h.dataPathArr[v]=y;var w=e.validate(h);h.baseId=g,e.util.varOccurences(w,m)<2?n+=\" \"+e.util.varReplace(w,m,_)+\" \":n+=\" var \"+m+\" = \"+_+\"; \"+w+\" \",n+=\" if (\"+d+\") break; }  \",e.compositeRule=h.compositeRule=O,n+=\"  if (!\"+d+\") {\"}else n+=\" if (\"+f+\".length == 0) {\";var E=E||[];E.push(n),n=\"\",!1!==e.createErrors?(n+=\" { keyword: 'contains' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: {} \",!1!==e.opts.messages&&(n+=\" , message: 'should contain a valid item' \"),e.opts.verbose&&(n+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),n+=\" } \"):n+=\" {} \";var j=n;return n=E.pop(),!e.compositeRule&&c?e.async?n+=\" throw new ValidationError([\"+j+\"]); \":n+=\" validate.errors = [\"+j+\"]; return false; \":n+=\" var err = \"+j+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",n+=\" } else { \",b&&(n+=\"  errors = \"+p+\"; if (vErrors !== null) { if (\"+p+\") vErrors.length = \"+p+\"; else vErrors = null; } \"),e.opts.allErrors&&(n+=\" } \"),n}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n=\" \",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+\"/\"+t,c=!e.opts.allErrors,f=\"data\"+(o||\"\"),l=\"errs__\"+i,p=e.util.copy(e),h=\"\";p.level++;var d=\"valid\"+p.level,y={},v={},m=e.opts.ownProperties;for(_ in a)if(\"__proto__\"!=_){var g=a[_],b=Array.isArray(g)?v:y;b[_]=g}n+=\"var \"+l+\" = errors;\";var O=e.errorPath;for(var _ in n+=\"var missing\"+i+\";\",v)if((b=v[_]).length){if(n+=\" if ( \"+f+e.util.getProperty(_)+\" !== undefined \",m&&(n+=\" && Object.prototype.hasOwnProperty.call(\"+f+\", '\"+e.util.escapeQuotes(_)+\"') \"),c){n+=\" && ( \";var w=b;if(w)for(var E=-1,j=w.length-1;E<j;){x=w[E+=1],E&&(n+=\" || \"),n+=\" ( ( \"+(N=f+(M=e.util.getProperty(x)))+\" === undefined \",m&&(n+=\" || ! Object.prototype.hasOwnProperty.call(\"+f+\", '\"+e.util.escapeQuotes(x)+\"') \"),n+=\") && (missing\"+i+\" = \"+e.util.toQuotedString(e.opts.jsonPointers?x:M)+\") ) \"}n+=\")) {  \";var P=\"missing\"+i,S=\"' + \"+P+\" + '\";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(O,P,!0):O+\" + \"+P);var k=k||[];k.push(n),n=\"\",!1!==e.createErrors?(n+=\" { keyword: 'dependencies' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { property: '\"+e.util.escapeQuotes(_)+\"', missingProperty: '\"+S+\"', depsCount: \"+b.length+\", deps: '\"+e.util.escapeQuotes(1==b.length?b[0]:b.join(\", \"))+\"' } \",!1!==e.opts.messages&&(n+=\" , message: 'should have \",1==b.length?n+=\"property \"+e.util.escapeQuotes(b[0]):n+=\"properties \"+e.util.escapeQuotes(b.join(\", \")),n+=\" when property \"+e.util.escapeQuotes(_)+\" is present' \"),e.opts.verbose&&(n+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),n+=\" } \"):n+=\" {} \";var T=n;n=k.pop(),!e.compositeRule&&c?e.async?n+=\" throw new ValidationError([\"+T+\"]); \":n+=\" validate.errors = [\"+T+\"]; return false; \":n+=\" var err = \"+T+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \"}else{n+=\" ) { \";var A=b;if(A)for(var x,I=-1,R=A.length-1;I<R;){x=A[I+=1];var M=e.util.getProperty(x),N=(S=e.util.escapeQuotes(x),f+M);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(O,x,e.opts.jsonPointers)),n+=\" if ( \"+N+\" === undefined \",m&&(n+=\" || ! Object.prototype.hasOwnProperty.call(\"+f+\", '\"+e.util.escapeQuotes(x)+\"') \"),n+=\") {  var err =   \",!1!==e.createErrors?(n+=\" { keyword: 'dependencies' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { property: '\"+e.util.escapeQuotes(_)+\"', missingProperty: '\"+S+\"', depsCount: \"+b.length+\", deps: '\"+e.util.escapeQuotes(1==b.length?b[0]:b.join(\", \"))+\"' } \",!1!==e.opts.messages&&(n+=\" , message: 'should have \",1==b.length?n+=\"property \"+e.util.escapeQuotes(b[0]):n+=\"properties \"+e.util.escapeQuotes(b.join(\", \")),n+=\" when property \"+e.util.escapeQuotes(_)+\" is present' \"),e.opts.verbose&&(n+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),n+=\" } \"):n+=\" {} \",n+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } \"}}n+=\" }   \",c&&(h+=\"}\",n+=\" else { \")}e.errorPath=O;var V=p.baseId;for(var _ in y){g=y[_];(e.opts.strictKeywords?\"object\"==typeof g&&Object.keys(g).length>0:e.util.schemaHasRules(g,e.RULES.all))&&(n+=\" \"+d+\" = true; if ( \"+f+e.util.getProperty(_)+\" !== undefined \",m&&(n+=\" && Object.prototype.hasOwnProperty.call(\"+f+\", '\"+e.util.escapeQuotes(_)+\"') \"),n+=\") { \",p.schema=g,p.schemaPath=s+e.util.getProperty(_),p.errSchemaPath=u+\"/\"+e.util.escapeFragment(_),n+=\"  \"+e.validate(p)+\" \",p.baseId=V,n+=\" }  \",c&&(n+=\" if (\"+d+\") { \",h+=\"}\"))}return c&&(n+=\"   \"+h+\" if (\"+l+\" == errors) {\"),n}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n=\" \",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+\"/\"+t,c=!e.opts.allErrors,f=\"data\"+(o||\"\"),l=\"valid\"+i,p=e.opts.$data&&a&&a.$data;p&&(n+=\" var schema\"+i+\" = \"+e.util.getData(a.$data,o,e.dataPathArr)+\"; \");var h=\"i\"+i,d=\"schema\"+i;p||(n+=\" var \"+d+\" = validate.schema\"+s+\";\"),n+=\"var \"+l+\";\",p&&(n+=\" if (schema\"+i+\" === undefined) \"+l+\" = true; else if (!Array.isArray(schema\"+i+\")) \"+l+\" = false; else {\"),n+=l+\" = false;for (var \"+h+\"=0; \"+h+\"<\"+d+\".length; \"+h+\"++) if (equal(\"+f+\", \"+d+\"[\"+h+\"])) { \"+l+\" = true; break; }\",p&&(n+=\"  }  \"),n+=\" if (!\"+l+\") {   \";var y=y||[];y.push(n),n=\"\",!1!==e.createErrors?(n+=\" { keyword: 'enum' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { allowedValues: schema\"+i+\" } \",!1!==e.opts.messages&&(n+=\" , message: 'should be equal to one of the allowed values' \"),e.opts.verbose&&(n+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),n+=\" } \"):n+=\" {} \";var v=n;return n=y.pop(),!e.compositeRule&&c?e.async?n+=\" throw new ValidationError([\"+v+\"]); \":n+=\" validate.errors = [\"+v+\"]; return false; \":n+=\" var err = \"+v+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",n+=\" }\",c&&(n+=\" else { \"),n}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n=\" \",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+\"/\"+t,c=!e.opts.allErrors,f=\"data\"+(o||\"\");if(!1===e.opts.format)return c&&(n+=\" if (true) { \"),n;var l,p=e.opts.$data&&a&&a.$data;p?(n+=\" var schema\"+i+\" = \"+e.util.getData(a.$data,o,e.dataPathArr)+\"; \",l=\"schema\"+i):l=a;var h=e.opts.unknownFormats,d=Array.isArray(h);if(p){n+=\" var \"+(y=\"format\"+i)+\" = formats[\"+l+\"]; var \"+(v=\"isObject\"+i)+\" = typeof \"+y+\" == 'object' && !(\"+y+\" instanceof RegExp) && \"+y+\".validate; var \"+(m=\"formatType\"+i)+\" = \"+v+\" && \"+y+\".type || 'string'; if (\"+v+\") { \",e.async&&(n+=\" var async\"+i+\" = \"+y+\".async; \"),n+=\" \"+y+\" = \"+y+\".validate; } if (  \",p&&(n+=\" (\"+l+\" !== undefined && typeof \"+l+\" != 'string') || \"),n+=\" (\",\"ignore\"!=h&&(n+=\" (\"+l+\" && !\"+y+\" \",d&&(n+=\" && self._opts.unknownFormats.indexOf(\"+l+\") == -1 \"),n+=\") || \"),n+=\" (\"+y+\" && \"+m+\" == '\"+r+\"' && !(typeof \"+y+\" == 'function' ? \",e.async?n+=\" (async\"+i+\" ? await \"+y+\"(\"+f+\") : \"+y+\"(\"+f+\")) \":n+=\" \"+y+\"(\"+f+\") \",n+=\" : \"+y+\".test(\"+f+\"))))) {\"}else{var y;if(!(y=e.formats[a])){if(\"ignore\"==h)return e.logger.warn('unknown format \"'+a+'\" ignored in schema at path \"'+e.errSchemaPath+'\"'),c&&(n+=\" if (true) { \"),n;if(d&&h.indexOf(a)>=0)return c&&(n+=\" if (true) { \"),n;throw new Error('unknown format \"'+a+'\" is used in schema at path \"'+e.errSchemaPath+'\"')}var v,m=(v=\"object\"==typeof y&&!(y instanceof RegExp)&&y.validate)&&y.type||\"string\";if(v){var g=!0===y.async;y=y.validate}if(m!=r)return c&&(n+=\" if (true) { \"),n;if(g){if(!e.async)throw new Error(\"async format in sync schema\");n+=\" if (!(await \"+(b=\"formats\"+e.util.getProperty(a)+\".validate\")+\"(\"+f+\"))) { \"}else{n+=\" if (! \";var b=\"formats\"+e.util.getProperty(a);v&&(b+=\".validate\"),n+=\"function\"==typeof y?\" \"+b+\"(\"+f+\") \":\" \"+b+\".test(\"+f+\") \",n+=\") { \"}}var O=O||[];O.push(n),n=\"\",!1!==e.createErrors?(n+=\" { keyword: 'format' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { format:  \",n+=p?\"\"+l:\"\"+e.util.toQuotedString(a),n+=\"  } \",!1!==e.opts.messages&&(n+=\" , message: 'should match format \\\"\",n+=p?\"' + \"+l+\" + '\":\"\"+e.util.escapeQuotes(a),n+=\"\\\"' \"),e.opts.verbose&&(n+=\" , schema:  \",n+=p?\"validate.schema\"+s:\"\"+e.util.toQuotedString(a),n+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),n+=\" } \"):n+=\" {} \";var _=n;return n=O.pop(),!e.compositeRule&&c?e.async?n+=\" throw new ValidationError([\"+_+\"]); \":n+=\" validate.errors = [\"+_+\"]; return false; \":n+=\" var err = \"+_+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",n+=\" } \",c&&(n+=\" else { \"),n}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n=\" \",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+\"/\"+t,c=!e.opts.allErrors,f=\"data\"+(o||\"\"),l=\"valid\"+i,p=\"errs__\"+i,h=e.util.copy(e);h.level++;var d=\"valid\"+h.level,y=e.schema.then,v=e.schema.else,m=void 0!==y&&(e.opts.strictKeywords?\"object\"==typeof y&&Object.keys(y).length>0:e.util.schemaHasRules(y,e.RULES.all)),g=void 0!==v&&(e.opts.strictKeywords?\"object\"==typeof v&&Object.keys(v).length>0:e.util.schemaHasRules(v,e.RULES.all)),b=h.baseId;if(m||g){var O;h.createErrors=!1,h.schema=a,h.schemaPath=s,h.errSchemaPath=u,n+=\" var \"+p+\" = errors; var \"+l+\" = true;  \";var _=e.compositeRule;e.compositeRule=h.compositeRule=!0,n+=\"  \"+e.validate(h)+\" \",h.baseId=b,h.createErrors=!0,n+=\"  errors = \"+p+\"; if (vErrors !== null) { if (\"+p+\") vErrors.length = \"+p+\"; else vErrors = null; }  \",e.compositeRule=h.compositeRule=_,m?(n+=\" if (\"+d+\") {  \",h.schema=e.schema.then,h.schemaPath=e.schemaPath+\".then\",h.errSchemaPath=e.errSchemaPath+\"/then\",n+=\"  \"+e.validate(h)+\" \",h.baseId=b,n+=\" \"+l+\" = \"+d+\"; \",m&&g?n+=\" var \"+(O=\"ifClause\"+i)+\" = 'then'; \":O=\"'then'\",n+=\" } \",g&&(n+=\" else { \")):n+=\" if (!\"+d+\") { \",g&&(h.schema=e.schema.else,h.schemaPath=e.schemaPath+\".else\",h.errSchemaPath=e.errSchemaPath+\"/else\",n+=\"  \"+e.validate(h)+\" \",h.baseId=b,n+=\" \"+l+\" = \"+d+\"; \",m&&g?n+=\" var \"+(O=\"ifClause\"+i)+\" = 'else'; \":O=\"'else'\",n+=\" } \"),n+=\" if (!\"+l+\") {   var err =   \",!1!==e.createErrors?(n+=\" { keyword: 'if' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { failingKeyword: \"+O+\" } \",!1!==e.opts.messages&&(n+=\" , message: 'should match \\\"' + \"+O+\" + '\\\" schema' \"),e.opts.verbose&&(n+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),n+=\" } \"):n+=\" {} \",n+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",!e.compositeRule&&c&&(e.async?n+=\" throw new ValidationError(vErrors); \":n+=\" validate.errors = vErrors; return false; \"),n+=\" }   \",c&&(n+=\" else { \")}else c&&(n+=\" if (true) { \");return n}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n=\" \",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+\"/\"+t,c=!e.opts.allErrors,f=\"data\"+(o||\"\"),l=\"valid\"+i,p=\"errs__\"+i,h=e.util.copy(e),d=\"\";h.level++;var y=\"valid\"+h.level,v=\"i\"+i,m=h.dataLevel=e.dataLevel+1,g=\"data\"+m,b=e.baseId;if(n+=\"var \"+p+\" = errors;var \"+l+\";\",Array.isArray(a)){var O=e.schema.additionalItems;if(!1===O){n+=\" \"+l+\" = \"+f+\".length <= \"+a.length+\"; \";var _=u;u=e.errSchemaPath+\"/additionalItems\",n+=\"  if (!\"+l+\") {   \";var w=w||[];w.push(n),n=\"\",!1!==e.createErrors?(n+=\" { keyword: 'additionalItems' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { limit: \"+a.length+\" } \",!1!==e.opts.messages&&(n+=\" , message: 'should NOT have more than \"+a.length+\" items' \"),e.opts.verbose&&(n+=\" , schema: false , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),n+=\" } \"):n+=\" {} \";var E=n;n=w.pop(),!e.compositeRule&&c?e.async?n+=\" throw new ValidationError([\"+E+\"]); \":n+=\" validate.errors = [\"+E+\"]; return false; \":n+=\" var err = \"+E+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",n+=\" } \",u=_,c&&(d+=\"}\",n+=\" else { \")}var j=a;if(j)for(var P,S=-1,k=j.length-1;S<k;)if(P=j[S+=1],e.opts.strictKeywords?\"object\"==typeof P&&Object.keys(P).length>0:e.util.schemaHasRules(P,e.RULES.all)){n+=\" \"+y+\" = true; if (\"+f+\".length > \"+S+\") { \";var T=f+\"[\"+S+\"]\";h.schema=P,h.schemaPath=s+\"[\"+S+\"]\",h.errSchemaPath=u+\"/\"+S,h.errorPath=e.util.getPathExpr(e.errorPath,S,e.opts.jsonPointers,!0),h.dataPathArr[m]=S;var A=e.validate(h);h.baseId=b,e.util.varOccurences(A,g)<2?n+=\" \"+e.util.varReplace(A,g,T)+\" \":n+=\" var \"+g+\" = \"+T+\"; \"+A+\" \",n+=\" }  \",c&&(n+=\" if (\"+y+\") { \",d+=\"}\")}if(\"object\"==typeof O&&(e.opts.strictKeywords?\"object\"==typeof O&&Object.keys(O).length>0:e.util.schemaHasRules(O,e.RULES.all))){h.schema=O,h.schemaPath=e.schemaPath+\".additionalItems\",h.errSchemaPath=e.errSchemaPath+\"/additionalItems\",n+=\" \"+y+\" = true; if (\"+f+\".length > \"+a.length+\") {  for (var \"+v+\" = \"+a.length+\"; \"+v+\" < \"+f+\".length; \"+v+\"++) { \",h.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);T=f+\"[\"+v+\"]\";h.dataPathArr[m]=v;A=e.validate(h);h.baseId=b,e.util.varOccurences(A,g)<2?n+=\" \"+e.util.varReplace(A,g,T)+\" \":n+=\" var \"+g+\" = \"+T+\"; \"+A+\" \",c&&(n+=\" if (!\"+y+\") break; \"),n+=\" } }  \",c&&(n+=\" if (\"+y+\") { \",d+=\"}\")}}else if(e.opts.strictKeywords?\"object\"==typeof a&&Object.keys(a).length>0:e.util.schemaHasRules(a,e.RULES.all)){h.schema=a,h.schemaPath=s,h.errSchemaPath=u,n+=\"  for (var \"+v+\" = 0; \"+v+\" < \"+f+\".length; \"+v+\"++) { \",h.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);T=f+\"[\"+v+\"]\";h.dataPathArr[m]=v;A=e.validate(h);h.baseId=b,e.util.varOccurences(A,g)<2?n+=\" \"+e.util.varReplace(A,g,T)+\" \":n+=\" var \"+g+\" = \"+T+\"; \"+A+\" \",c&&(n+=\" if (!\"+y+\") break; \"),n+=\" }\"}return c&&(n+=\" \"+d+\" if (\"+p+\" == errors) {\"),n}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n,i=\" \",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+\"/\"+t,f=!e.opts.allErrors,l=\"data\"+(a||\"\"),p=e.opts.$data&&s&&s.$data;if(p?(i+=\" var schema\"+o+\" = \"+e.util.getData(s.$data,a,e.dataPathArr)+\"; \",n=\"schema\"+o):n=s,!p&&\"number\"!=typeof s)throw new Error(t+\" must be number\");i+=\"var division\"+o+\";if (\",p&&(i+=\" \"+n+\" !== undefined && ( typeof \"+n+\" != 'number' || \"),i+=\" (division\"+o+\" = \"+l+\" / \"+n+\", \",e.opts.multipleOfPrecision?i+=\" Math.abs(Math.round(division\"+o+\") - division\"+o+\") > 1e-\"+e.opts.multipleOfPrecision+\" \":i+=\" division\"+o+\" !== parseInt(division\"+o+\") \",i+=\" ) \",p&&(i+=\"  )  \"),i+=\" ) {   \";var h=h||[];h.push(i),i=\"\",!1!==e.createErrors?(i+=\" { keyword: 'multipleOf' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { multipleOf: \"+n+\" } \",!1!==e.opts.messages&&(i+=\" , message: 'should be multiple of \",i+=p?\"' + \"+n:n+\"'\"),e.opts.verbose&&(i+=\" , schema:  \",i+=p?\"validate.schema\"+u:\"\"+s,i+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),i+=\" } \"):i+=\" {} \";var d=i;return i=h.pop(),!e.compositeRule&&f?e.async?i+=\" throw new ValidationError([\"+d+\"]); \":i+=\" validate.errors = [\"+d+\"]; return false; \":i+=\" var err = \"+d+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",i+=\"} \",f&&(i+=\" else { \"),i}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n=\" \",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+\"/\"+t,c=!e.opts.allErrors,f=\"data\"+(o||\"\"),l=\"errs__\"+i,p=e.util.copy(e);p.level++;var h=\"valid\"+p.level;if(e.opts.strictKeywords?\"object\"==typeof a&&Object.keys(a).length>0:e.util.schemaHasRules(a,e.RULES.all)){p.schema=a,p.schemaPath=s,p.errSchemaPath=u,n+=\" var \"+l+\" = errors;  \";var d,y=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.createErrors=!1,p.opts.allErrors&&(d=p.opts.allErrors,p.opts.allErrors=!1),n+=\" \"+e.validate(p)+\" \",p.createErrors=!0,d&&(p.opts.allErrors=d),e.compositeRule=p.compositeRule=y,n+=\" if (\"+h+\") {   \";var v=v||[];v.push(n),n=\"\",!1!==e.createErrors?(n+=\" { keyword: 'not' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: {} \",!1!==e.opts.messages&&(n+=\" , message: 'should NOT be valid' \"),e.opts.verbose&&(n+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),n+=\" } \"):n+=\" {} \";var m=n;n=v.pop(),!e.compositeRule&&c?e.async?n+=\" throw new ValidationError([\"+m+\"]); \":n+=\" validate.errors = [\"+m+\"]; return false; \":n+=\" var err = \"+m+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",n+=\" } else {  errors = \"+l+\"; if (vErrors !== null) { if (\"+l+\") vErrors.length = \"+l+\"; else vErrors = null; } \",e.opts.allErrors&&(n+=\" } \")}else n+=\"  var err =   \",!1!==e.createErrors?(n+=\" { keyword: 'not' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: {} \",!1!==e.opts.messages&&(n+=\" , message: 'should NOT be valid' \"),e.opts.verbose&&(n+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),n+=\" } \"):n+=\" {} \",n+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",c&&(n+=\" if (false) { \");return n}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n=\" \",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+\"/\"+t,c=!e.opts.allErrors,f=\"data\"+(o||\"\"),l=\"valid\"+i,p=\"errs__\"+i,h=e.util.copy(e),d=\"\";h.level++;var y=\"valid\"+h.level,v=h.baseId,m=\"prevValid\"+i,g=\"passingSchemas\"+i;n+=\"var \"+p+\" = errors , \"+m+\" = false , \"+l+\" = false , \"+g+\" = null; \";var b=e.compositeRule;e.compositeRule=h.compositeRule=!0;var O=a;if(O)for(var _,w=-1,E=O.length-1;w<E;)_=O[w+=1],(e.opts.strictKeywords?\"object\"==typeof _&&Object.keys(_).length>0:e.util.schemaHasRules(_,e.RULES.all))?(h.schema=_,h.schemaPath=s+\"[\"+w+\"]\",h.errSchemaPath=u+\"/\"+w,n+=\"  \"+e.validate(h)+\" \",h.baseId=v):n+=\" var \"+y+\" = true; \",w&&(n+=\" if (\"+y+\" && \"+m+\") { \"+l+\" = false; \"+g+\" = [\"+g+\", \"+w+\"]; } else { \",d+=\"}\"),n+=\" if (\"+y+\") { \"+l+\" = \"+m+\" = true; \"+g+\" = \"+w+\"; }\";return e.compositeRule=h.compositeRule=b,n+=d+\"if (!\"+l+\") {   var err =   \",!1!==e.createErrors?(n+=\" { keyword: 'oneOf' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { passingSchemas: \"+g+\" } \",!1!==e.opts.messages&&(n+=\" , message: 'should match exactly one schema in oneOf' \"),e.opts.verbose&&(n+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),n+=\" } \"):n+=\" {} \",n+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",!e.compositeRule&&c&&(e.async?n+=\" throw new ValidationError(vErrors); \":n+=\" validate.errors = vErrors; return false; \"),n+=\"} else {  errors = \"+p+\"; if (vErrors !== null) { if (\"+p+\") vErrors.length = \"+p+\"; else vErrors = null; }\",e.opts.allErrors&&(n+=\" } \"),n}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n,i=\" \",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+\"/\"+t,f=!e.opts.allErrors,l=\"data\"+(a||\"\"),p=e.opts.$data&&s&&s.$data;p?(i+=\" var schema\"+o+\" = \"+e.util.getData(s.$data,a,e.dataPathArr)+\"; \",n=\"schema\"+o):n=s,i+=\"if ( \",p&&(i+=\" (\"+n+\" !== undefined && typeof \"+n+\" != 'string') || \"),i+=\" !\"+(p?\"(new RegExp(\"+n+\"))\":e.usePattern(s))+\".test(\"+l+\") ) {   \";var h=h||[];h.push(i),i=\"\",!1!==e.createErrors?(i+=\" { keyword: 'pattern' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { pattern:  \",i+=p?\"\"+n:\"\"+e.util.toQuotedString(s),i+=\"  } \",!1!==e.opts.messages&&(i+=\" , message: 'should match pattern \\\"\",i+=p?\"' + \"+n+\" + '\":\"\"+e.util.escapeQuotes(s),i+=\"\\\"' \"),e.opts.verbose&&(i+=\" , schema:  \",i+=p?\"validate.schema\"+u:\"\"+e.util.toQuotedString(s),i+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),i+=\" } \"):i+=\" {} \";var d=i;return i=h.pop(),!e.compositeRule&&f?e.async?i+=\" throw new ValidationError([\"+d+\"]); \":i+=\" validate.errors = [\"+d+\"]; return false; \":i+=\" var err = \"+d+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",i+=\"} \",f&&(i+=\" else { \"),i}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n=\" \",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+\"/\"+t,c=!e.opts.allErrors,f=\"data\"+(o||\"\"),l=\"errs__\"+i,p=e.util.copy(e),h=\"\";p.level++;var d=\"valid\"+p.level,y=\"key\"+i,v=\"idx\"+i,m=p.dataLevel=e.dataLevel+1,g=\"data\"+m,b=\"dataProperties\"+i,O=Object.keys(a||{}).filter(M),_=e.schema.patternProperties||{},w=Object.keys(_).filter(M),E=e.schema.additionalProperties,j=O.length||w.length,P=!1===E,S=\"object\"==typeof E&&Object.keys(E).length,k=e.opts.removeAdditional,T=P||S||k,A=e.opts.ownProperties,x=e.baseId,I=e.schema.required;if(I&&(!e.opts.$data||!I.$data)&&I.length<e.opts.loopRequired)var R=e.util.toHash(I);function M(e){return\"__proto__\"!==e}if(n+=\"var \"+l+\" = errors;var \"+d+\" = true;\",A&&(n+=\" var \"+b+\" = undefined;\"),T){if(n+=A?\" \"+b+\" = \"+b+\" || Object.keys(\"+f+\"); for (var \"+v+\"=0; \"+v+\"<\"+b+\".length; \"+v+\"++) { var \"+y+\" = \"+b+\"[\"+v+\"]; \":\" for (var \"+y+\" in \"+f+\") { \",j){if(n+=\" var isAdditional\"+i+\" = !(false \",O.length)if(O.length>8)n+=\" || validate.schema\"+s+\".hasOwnProperty(\"+y+\") \";else{var N=O;if(N)for(var V=-1,D=N.length-1;V<D;)J=N[V+=1],n+=\" || \"+y+\" == \"+e.util.toQuotedString(J)+\" \"}if(w.length){var L=w;if(L)for(var C=-1,F=L.length-1;C<F;)oe=L[C+=1],n+=\" || \"+e.usePattern(oe)+\".test(\"+y+\") \"}n+=\" ); if (isAdditional\"+i+\") { \"}if(\"all\"==k)n+=\" delete \"+f+\"[\"+y+\"]; \";else{var B=e.errorPath,U=\"' + \"+y+\" + '\";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers)),P)if(k)n+=\" delete \"+f+\"[\"+y+\"]; \";else{n+=\" \"+d+\" = false; \";var z=u;u=e.errSchemaPath+\"/additionalProperties\",(re=re||[]).push(n),n=\"\",!1!==e.createErrors?(n+=\" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { additionalProperty: '\"+U+\"' } \",!1!==e.opts.messages&&(n+=\" , message: '\",e.opts._errorDataPathProperty?n+=\"is an invalid additional property\":n+=\"should NOT have additional properties\",n+=\"' \"),e.opts.verbose&&(n+=\" , schema: false , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),n+=\" } \"):n+=\" {} \";var $=n;n=re.pop(),!e.compositeRule&&c?e.async?n+=\" throw new ValidationError([\"+$+\"]); \":n+=\" validate.errors = [\"+$+\"]; return false; \":n+=\" var err = \"+$+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",u=z,c&&(n+=\" break; \")}else if(S)if(\"failing\"==k){n+=\" var \"+l+\" = errors;  \";var Z=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=E,p.schemaPath=e.schemaPath+\".additionalProperties\",p.errSchemaPath=e.errSchemaPath+\"/additionalProperties\",p.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers);var X=f+\"[\"+y+\"]\";p.dataPathArr[m]=y;var q=e.validate(p);p.baseId=x,e.util.varOccurences(q,g)<2?n+=\" \"+e.util.varReplace(q,g,X)+\" \":n+=\" var \"+g+\" = \"+X+\"; \"+q+\" \",n+=\" if (!\"+d+\") { errors = \"+l+\"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete \"+f+\"[\"+y+\"]; }  \",e.compositeRule=p.compositeRule=Z}else{p.schema=E,p.schemaPath=e.schemaPath+\".additionalProperties\",p.errSchemaPath=e.errSchemaPath+\"/additionalProperties\",p.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers);X=f+\"[\"+y+\"]\";p.dataPathArr[m]=y;q=e.validate(p);p.baseId=x,e.util.varOccurences(q,g)<2?n+=\" \"+e.util.varReplace(q,g,X)+\" \":n+=\" var \"+g+\" = \"+X+\"; \"+q+\" \",c&&(n+=\" if (!\"+d+\") break; \")}e.errorPath=B}j&&(n+=\" } \"),n+=\" }  \",c&&(n+=\" if (\"+d+\") { \",h+=\"}\")}var Y=e.opts.useDefaults&&!e.compositeRule;if(O.length){var G=O;if(G)for(var J,W=-1,H=G.length-1;W<H;){var Q=a[J=G[W+=1]];if(e.opts.strictKeywords?\"object\"==typeof Q&&Object.keys(Q).length>0:e.util.schemaHasRules(Q,e.RULES.all)){var K=e.util.getProperty(J),ee=(X=f+K,Y&&void 0!==Q.default);p.schema=Q,p.schemaPath=s+K,p.errSchemaPath=u+\"/\"+e.util.escapeFragment(J),p.errorPath=e.util.getPath(e.errorPath,J,e.opts.jsonPointers),p.dataPathArr[m]=e.util.toQuotedString(J);q=e.validate(p);if(p.baseId=x,e.util.varOccurences(q,g)<2){q=e.util.varReplace(q,g,X);var te=X}else{te=g;n+=\" var \"+g+\" = \"+X+\"; \"}if(ee)n+=\" \"+q+\" \";else{if(R&&R[J]){n+=\" if ( \"+te+\" === undefined \",A&&(n+=\" || ! Object.prototype.hasOwnProperty.call(\"+f+\", '\"+e.util.escapeQuotes(J)+\"') \"),n+=\") { \"+d+\" = false; \";B=e.errorPath,z=u;var re,ne=e.util.escapeQuotes(J);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(B,J,e.opts.jsonPointers)),u=e.errSchemaPath+\"/required\",(re=re||[]).push(n),n=\"\",!1!==e.createErrors?(n+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { missingProperty: '\"+ne+\"' } \",!1!==e.opts.messages&&(n+=\" , message: '\",e.opts._errorDataPathProperty?n+=\"is a required property\":n+=\"should have required property \\\\'\"+ne+\"\\\\'\",n+=\"' \"),e.opts.verbose&&(n+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),n+=\" } \"):n+=\" {} \";$=n;n=re.pop(),!e.compositeRule&&c?e.async?n+=\" throw new ValidationError([\"+$+\"]); \":n+=\" validate.errors = [\"+$+\"]; return false; \":n+=\" var err = \"+$+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",u=z,e.errorPath=B,n+=\" } else { \"}else c?(n+=\" if ( \"+te+\" === undefined \",A&&(n+=\" || ! Object.prototype.hasOwnProperty.call(\"+f+\", '\"+e.util.escapeQuotes(J)+\"') \"),n+=\") { \"+d+\" = true; } else { \"):(n+=\" if (\"+te+\" !== undefined \",A&&(n+=\" &&   Object.prototype.hasOwnProperty.call(\"+f+\", '\"+e.util.escapeQuotes(J)+\"') \"),n+=\" ) { \");n+=\" \"+q+\" } \"}}c&&(n+=\" if (\"+d+\") { \",h+=\"}\")}}if(w.length){var ie=w;if(ie)for(var oe,ae=-1,se=ie.length-1;ae<se;){Q=_[oe=ie[ae+=1]];if(e.opts.strictKeywords?\"object\"==typeof Q&&Object.keys(Q).length>0:e.util.schemaHasRules(Q,e.RULES.all)){p.schema=Q,p.schemaPath=e.schemaPath+\".patternProperties\"+e.util.getProperty(oe),p.errSchemaPath=e.errSchemaPath+\"/patternProperties/\"+e.util.escapeFragment(oe),n+=A?\" \"+b+\" = \"+b+\" || Object.keys(\"+f+\"); for (var \"+v+\"=0; \"+v+\"<\"+b+\".length; \"+v+\"++) { var \"+y+\" = \"+b+\"[\"+v+\"]; \":\" for (var \"+y+\" in \"+f+\") { \",n+=\" if (\"+e.usePattern(oe)+\".test(\"+y+\")) { \",p.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers);X=f+\"[\"+y+\"]\";p.dataPathArr[m]=y;q=e.validate(p);p.baseId=x,e.util.varOccurences(q,g)<2?n+=\" \"+e.util.varReplace(q,g,X)+\" \":n+=\" var \"+g+\" = \"+X+\"; \"+q+\" \",c&&(n+=\" if (!\"+d+\") break; \"),n+=\" } \",c&&(n+=\" else \"+d+\" = true; \"),n+=\" }  \",c&&(n+=\" if (\"+d+\") { \",h+=\"}\")}}}return c&&(n+=\" \"+h+\" if (\"+l+\" == errors) {\"),n}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n=\" \",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+\"/\"+t,c=!e.opts.allErrors,f=\"data\"+(o||\"\"),l=\"errs__\"+i,p=e.util.copy(e);p.level++;var h=\"valid\"+p.level;if(n+=\"var \"+l+\" = errors;\",e.opts.strictKeywords?\"object\"==typeof a&&Object.keys(a).length>0:e.util.schemaHasRules(a,e.RULES.all)){p.schema=a,p.schemaPath=s,p.errSchemaPath=u;var d=\"key\"+i,y=\"idx\"+i,v=\"i\"+i,m=\"' + \"+d+\" + '\",g=\"data\"+(p.dataLevel=e.dataLevel+1),b=\"dataProperties\"+i,O=e.opts.ownProperties,_=e.baseId;O&&(n+=\" var \"+b+\" = undefined; \"),n+=O?\" \"+b+\" = \"+b+\" || Object.keys(\"+f+\"); for (var \"+y+\"=0; \"+y+\"<\"+b+\".length; \"+y+\"++) { var \"+d+\" = \"+b+\"[\"+y+\"]; \":\" for (var \"+d+\" in \"+f+\") { \",n+=\" var startErrs\"+i+\" = errors; \";var w=d,E=e.compositeRule;e.compositeRule=p.compositeRule=!0;var j=e.validate(p);p.baseId=_,e.util.varOccurences(j,g)<2?n+=\" \"+e.util.varReplace(j,g,w)+\" \":n+=\" var \"+g+\" = \"+w+\"; \"+j+\" \",e.compositeRule=p.compositeRule=E,n+=\" if (!\"+h+\") { for (var \"+v+\"=startErrs\"+i+\"; \"+v+\"<errors; \"+v+\"++) { vErrors[\"+v+\"].propertyName = \"+d+\"; }   var err =   \",!1!==e.createErrors?(n+=\" { keyword: 'propertyNames' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { propertyName: '\"+m+\"' } \",!1!==e.opts.messages&&(n+=\" , message: 'property name \\\\'\"+m+\"\\\\' is invalid' \"),e.opts.verbose&&(n+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),n+=\" } \"):n+=\" {} \",n+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",!e.compositeRule&&c&&(e.async?n+=\" throw new ValidationError(vErrors); \":n+=\" validate.errors = vErrors; return false; \"),c&&(n+=\" break; \"),n+=\" } }\"}return c&&(n+=\"  if (\"+l+\" == errors) {\"),n}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n=\" \",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+\"/\"+t,c=!e.opts.allErrors,f=\"data\"+(o||\"\"),l=\"valid\"+i,p=e.opts.$data&&a&&a.$data;p&&(n+=\" var schema\"+i+\" = \"+e.util.getData(a.$data,o,e.dataPathArr)+\"; \");var h=\"schema\"+i;if(!p)if(a.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var d=[],y=a;if(y)for(var v,m=-1,g=y.length-1;m<g;){v=y[m+=1];var b=e.schema.properties[v];b&&(e.opts.strictKeywords?\"object\"==typeof b&&Object.keys(b).length>0:e.util.schemaHasRules(b,e.RULES.all))||(d[d.length]=v)}}else d=a;if(p||d.length){var O=e.errorPath,_=p||d.length>=e.opts.loopRequired,w=e.opts.ownProperties;if(c)if(n+=\" var missing\"+i+\"; \",_){p||(n+=\" var \"+h+\" = validate.schema\"+s+\"; \");var E=\"' + \"+(A=\"schema\"+i+\"[\"+(S=\"i\"+i)+\"]\")+\" + '\";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(O,A,e.opts.jsonPointers)),n+=\" var \"+l+\" = true; \",p&&(n+=\" if (schema\"+i+\" === undefined) \"+l+\" = true; else if (!Array.isArray(schema\"+i+\")) \"+l+\" = false; else {\"),n+=\" for (var \"+S+\" = 0; \"+S+\" < \"+h+\".length; \"+S+\"++) { \"+l+\" = \"+f+\"[\"+h+\"[\"+S+\"]] !== undefined \",w&&(n+=\" &&   Object.prototype.hasOwnProperty.call(\"+f+\", \"+h+\"[\"+S+\"]) \"),n+=\"; if (!\"+l+\") break; } \",p&&(n+=\"  }  \"),n+=\"  if (!\"+l+\") {   \",(T=T||[]).push(n),n=\"\",!1!==e.createErrors?(n+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { missingProperty: '\"+E+\"' } \",!1!==e.opts.messages&&(n+=\" , message: '\",e.opts._errorDataPathProperty?n+=\"is a required property\":n+=\"should have required property \\\\'\"+E+\"\\\\'\",n+=\"' \"),e.opts.verbose&&(n+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),n+=\" } \"):n+=\" {} \";var j=n;n=T.pop(),!e.compositeRule&&c?e.async?n+=\" throw new ValidationError([\"+j+\"]); \":n+=\" validate.errors = [\"+j+\"]; return false; \":n+=\" var err = \"+j+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",n+=\" } else { \"}else{n+=\" if ( \";var P=d;if(P)for(var S=-1,k=P.length-1;S<k;){I=P[S+=1],S&&(n+=\" || \"),n+=\" ( ( \"+(V=f+(N=e.util.getProperty(I)))+\" === undefined \",w&&(n+=\" || ! Object.prototype.hasOwnProperty.call(\"+f+\", '\"+e.util.escapeQuotes(I)+\"') \"),n+=\") && (missing\"+i+\" = \"+e.util.toQuotedString(e.opts.jsonPointers?I:N)+\") ) \"}n+=\") {  \";var T;E=\"' + \"+(A=\"missing\"+i)+\" + '\";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(O,A,!0):O+\" + \"+A),(T=T||[]).push(n),n=\"\",!1!==e.createErrors?(n+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { missingProperty: '\"+E+\"' } \",!1!==e.opts.messages&&(n+=\" , message: '\",e.opts._errorDataPathProperty?n+=\"is a required property\":n+=\"should have required property \\\\'\"+E+\"\\\\'\",n+=\"' \"),e.opts.verbose&&(n+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),n+=\" } \"):n+=\" {} \";j=n;n=T.pop(),!e.compositeRule&&c?e.async?n+=\" throw new ValidationError([\"+j+\"]); \":n+=\" validate.errors = [\"+j+\"]; return false; \":n+=\" var err = \"+j+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",n+=\" } else { \"}else if(_){p||(n+=\" var \"+h+\" = validate.schema\"+s+\"; \");var A;E=\"' + \"+(A=\"schema\"+i+\"[\"+(S=\"i\"+i)+\"]\")+\" + '\";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(O,A,e.opts.jsonPointers)),p&&(n+=\" if (\"+h+\" && !Array.isArray(\"+h+\")) {  var err =   \",!1!==e.createErrors?(n+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { missingProperty: '\"+E+\"' } \",!1!==e.opts.messages&&(n+=\" , message: '\",e.opts._errorDataPathProperty?n+=\"is a required property\":n+=\"should have required property \\\\'\"+E+\"\\\\'\",n+=\"' \"),e.opts.verbose&&(n+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),n+=\" } \"):n+=\" {} \",n+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (\"+h+\" !== undefined) { \"),n+=\" for (var \"+S+\" = 0; \"+S+\" < \"+h+\".length; \"+S+\"++) { if (\"+f+\"[\"+h+\"[\"+S+\"]] === undefined \",w&&(n+=\" || ! Object.prototype.hasOwnProperty.call(\"+f+\", \"+h+\"[\"+S+\"]) \"),n+=\") {  var err =   \",!1!==e.createErrors?(n+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { missingProperty: '\"+E+\"' } \",!1!==e.opts.messages&&(n+=\" , message: '\",e.opts._errorDataPathProperty?n+=\"is a required property\":n+=\"should have required property \\\\'\"+E+\"\\\\'\",n+=\"' \"),e.opts.verbose&&(n+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),n+=\" } \"):n+=\" {} \",n+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } \",p&&(n+=\"  }  \")}else{var x=d;if(x)for(var I,R=-1,M=x.length-1;R<M;){I=x[R+=1];var N=e.util.getProperty(I),V=(E=e.util.escapeQuotes(I),f+N);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(O,I,e.opts.jsonPointers)),n+=\" if ( \"+V+\" === undefined \",w&&(n+=\" || ! Object.prototype.hasOwnProperty.call(\"+f+\", '\"+e.util.escapeQuotes(I)+\"') \"),n+=\") {  var err =   \",!1!==e.createErrors?(n+=\" { keyword: 'required' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(u)+\" , params: { missingProperty: '\"+E+\"' } \",!1!==e.opts.messages&&(n+=\" , message: '\",e.opts._errorDataPathProperty?n+=\"is a required property\":n+=\"should have required property \\\\'\"+E+\"\\\\'\",n+=\"' \"),e.opts.verbose&&(n+=\" , schema: validate.schema\"+s+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+f+\" \"),n+=\" } \"):n+=\" {} \",n+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } \"}}e.errorPath=O}else c&&(n+=\" if (true) {\");return n}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n,i=\" \",o=e.level,a=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+\"/\"+t,f=!e.opts.allErrors,l=\"data\"+(a||\"\"),p=\"valid\"+o,h=e.opts.$data&&s&&s.$data;if(h?(i+=\" var schema\"+o+\" = \"+e.util.getData(s.$data,a,e.dataPathArr)+\"; \",n=\"schema\"+o):n=s,(s||h)&&!1!==e.opts.uniqueItems){h&&(i+=\" var \"+p+\"; if (\"+n+\" === false || \"+n+\" === undefined) \"+p+\" = true; else if (typeof \"+n+\" != 'boolean') \"+p+\" = false; else { \"),i+=\" var i = \"+l+\".length , \"+p+\" = true , j; if (i > 1) { \";var d=e.schema.items&&e.schema.items.type,y=Array.isArray(d);if(!d||\"object\"==d||\"array\"==d||y&&(d.indexOf(\"object\")>=0||d.indexOf(\"array\")>=0))i+=\" outer: for (;i--;) { for (j = i; j--;) { if (equal(\"+l+\"[i], \"+l+\"[j])) { \"+p+\" = false; break outer; } } } \";else{i+=\" var itemIndices = {}, item; for (;i--;) { var item = \"+l+\"[i]; \";var v=\"checkDataType\"+(y?\"s\":\"\");i+=\" if (\"+e.util[v](d,\"item\",e.opts.strictNumbers,!0)+\") continue; \",y&&(i+=\" if (typeof item == 'string') item = '\\\"' + item; \"),i+=\" if (typeof itemIndices[item] == 'number') { \"+p+\" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } \"}i+=\" } \",h&&(i+=\"  }  \"),i+=\" if (!\"+p+\") {   \";var m=m||[];m.push(i),i=\"\",!1!==e.createErrors?(i+=\" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(c)+\" , params: { i: i, j: j } \",!1!==e.opts.messages&&(i+=\" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' \"),e.opts.verbose&&(i+=\" , schema:  \",i+=h?\"validate.schema\"+u:\"\"+s,i+=\"         , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+l+\" \"),i+=\" } \"):i+=\" {} \";var g=i;i=m.pop(),!e.compositeRule&&f?e.async?i+=\" throw new ValidationError([\"+g+\"]); \":i+=\" validate.errors = [\"+g+\"]; return false; \":i+=\" var err = \"+g+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",i+=\" } \",f&&(i+=\" else { \")}else f&&(i+=\" if (true) { \");return i}},function(e,t,r){\"use strict\";var n=[\"multipleOf\",\"maximum\",\"exclusiveMaximum\",\"minimum\",\"exclusiveMinimum\",\"maxLength\",\"minLength\",\"pattern\",\"additionalItems\",\"maxItems\",\"minItems\",\"uniqueItems\",\"maxProperties\",\"minProperties\",\"required\",\"additionalProperties\",\"enum\",\"format\",\"const\"];e.exports=function(e,t){for(var r=0;r<t.length;r++){e=JSON.parse(JSON.stringify(e));var i,o=t[r].split(\"/\"),a=e;for(i=1;i<o.length;i++)a=a[o[i]];for(i=0;i<n.length;i++){var s=n[i],u=a[s];u&&(a[s]={anyOf:[u,{$ref:\"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\"}]})}}return e}},function(e,t,r){\"use strict\";var n=r(77).MissingRef;e.exports=function e(t,r,i){var o=this;if(\"function\"!=typeof this._opts.loadSchema)throw new Error(\"options.loadSchema should be a function\");\"function\"==typeof r&&(i=r,r=void 0);var a=s(t).then((function(){var e=o._addSchema(t,void 0,r);return e.validate||function e(t){try{return o._compile(t)}catch(e){if(e instanceof n)return i(e);throw e}function i(n){var i=n.missingSchema;if(c(i))throw new Error(\"Schema \"+i+\" is loaded but \"+n.missingRef+\" cannot be resolved\");var a=o._loadingSchemas[i];return a||(a=o._loadingSchemas[i]=o._opts.loadSchema(i)).then(u,u),a.then((function(e){if(!c(i))return s(e).then((function(){c(i)||o.addSchema(e,i,void 0,r)}))})).then((function(){return e(t)}));function u(){delete o._loadingSchemas[i]}function c(e){return o._refs[e]||o._schemas[e]}}}(e)}));i&&a.then((function(e){i(null,e)}),i);return a;function s(t){var r=t.$schema;return r&&!o.getSchema(r)?e.call(o,{$ref:r},!0):Promise.resolve()}}},function(e,t,r){\"use strict\";var n=/^[a-z_$][a-z0-9_$-]*$/i,i=r(186),o=r(187);e.exports={add:function(e,t){var r=this.RULES;if(r.keywords[e])throw new Error(\"Keyword \"+e+\" is already defined\");if(!n.test(e))throw new Error(\"Keyword \"+e+\" is not a valid identifier\");if(t){this.validateKeyword(t,!0);var o=t.type;if(Array.isArray(o))for(var a=0;a<o.length;a++)u(e,o[a],t);else u(e,o,t);var s=t.metaSchema;s&&(t.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:\"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\"}]}),t.validateSchema=this.compile(s,!0))}function u(e,t,n){for(var o,a=0;a<r.length;a++){var s=r[a];if(s.type==t){o=s;break}}o||(o={type:t,rules:[]},r.push(o));var u={keyword:e,definition:n,custom:!0,code:i,implements:n.implements};o.rules.push(u),r.custom[e]=u}return r.keywords[e]=r.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var n=t[r].rules,i=0;i<n.length;i++)if(n[i].keyword==e){n.splice(i,1);break}return this},validate:function e(t,r){e.errors=null;var n=this._validateKeyword=this._validateKeyword||this.compile(o,!0);if(n(t))return!0;if(e.errors=n.errors,r)throw new Error(\"custom keyword definition is invalid: \"+this.errorsText(n.errors));return!1}}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n,i,o=\" \",a=e.level,s=e.dataLevel,u=e.schema[t],c=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+\"/\"+t,l=!e.opts.allErrors,p=\"data\"+(s||\"\"),h=\"valid\"+a,d=\"errs__\"+a,y=e.opts.$data&&u&&u.$data;y?(o+=\" var schema\"+a+\" = \"+e.util.getData(u.$data,s,e.dataPathArr)+\"; \",i=\"schema\"+a):i=u;var v,m,g,b,O,_=\"definition\"+a,w=this.definition,E=\"\";if(y&&w.$data){O=\"keywordValidate\"+a;var j=w.validateSchema;o+=\" var \"+_+\" = RULES.custom['\"+t+\"'].definition; var \"+O+\" = \"+_+\".validate;\"}else{if(!(b=e.useCustomRule(this,u,e.schema,e)))return;i=\"validate.schema\"+c,O=b.code,v=w.compile,m=w.inline,g=w.macro}var P=O+\".errors\",S=\"i\"+a,k=\"ruleErr\"+a,T=w.async;if(T&&!e.async)throw new Error(\"async keyword in sync schema\");if(m||g||(o+=P+\" = null;\"),o+=\"var \"+d+\" = errors;var \"+h+\";\",y&&w.$data&&(E+=\"}\",o+=\" if (\"+i+\" === undefined) { \"+h+\" = true; } else { \",j&&(E+=\"}\",o+=\" \"+h+\" = \"+_+\".validateSchema(\"+i+\"); if (\"+h+\") { \")),m)w.statements?o+=\" \"+b.validate+\" \":o+=\" \"+h+\" = \"+b.validate+\"; \";else if(g){var A=e.util.copy(e);E=\"\";A.level++;var x=\"valid\"+A.level;A.schema=b.validate,A.schemaPath=\"\";var I=e.compositeRule;e.compositeRule=A.compositeRule=!0;var R=e.validate(A).replace(/validate\\.schema/g,O);e.compositeRule=A.compositeRule=I,o+=\" \"+R}else{(D=D||[]).push(o),o=\"\",o+=\"  \"+O+\".call( \",e.opts.passContext?o+=\"this\":o+=\"self\",v||!1===w.schema?o+=\" , \"+p+\" \":o+=\" , \"+i+\" , \"+p+\" , validate.schema\"+e.schemaPath+\" \",o+=\" , (dataPath || '')\",'\"\"'!=e.errorPath&&(o+=\" + \"+e.errorPath);var M=s?\"data\"+(s-1||\"\"):\"parentData\",N=s?e.dataPathArr[s]:\"parentDataProperty\",V=o+=\" , \"+M+\" , \"+N+\" , rootData )  \";o=D.pop(),!1===w.errors?(o+=\" \"+h+\" = \",T&&(o+=\"await \"),o+=V+\"; \"):o+=T?\" var \"+(P=\"customErrors\"+a)+\" = null; try { \"+h+\" = await \"+V+\"; } catch (e) { \"+h+\" = false; if (e instanceof ValidationError) \"+P+\" = e.errors; else throw e; } \":\" \"+P+\" = null; \"+h+\" = \"+V+\"; \"}if(w.modifying&&(o+=\" if (\"+M+\") \"+p+\" = \"+M+\"[\"+N+\"];\"),o+=\"\"+E,w.valid)l&&(o+=\" if (true) { \");else{var D;o+=\" if ( \",void 0===w.valid?(o+=\" !\",o+=g?\"\"+x:\"\"+h):o+=\" \"+!w.valid+\" \",o+=\") { \",n=this.keyword,(D=D||[]).push(o),o=\"\",(D=D||[]).push(o),o=\"\",!1!==e.createErrors?(o+=\" { keyword: '\"+(n||\"custom\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(f)+\" , params: { keyword: '\"+this.keyword+\"' } \",!1!==e.opts.messages&&(o+=\" , message: 'should pass \\\"\"+this.keyword+\"\\\" keyword validation' \"),e.opts.verbose&&(o+=\" , schema: validate.schema\"+c+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+p+\" \"),o+=\" } \"):o+=\" {} \";var L=o;o=D.pop(),!e.compositeRule&&l?e.async?o+=\" throw new ValidationError([\"+L+\"]); \":o+=\" validate.errors = [\"+L+\"]; return false; \":o+=\" var err = \"+L+\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \";var C=o;o=D.pop(),m?w.errors?\"full\"!=w.errors&&(o+=\"  for (var \"+S+\"=\"+d+\"; \"+S+\"<errors; \"+S+\"++) { var \"+k+\" = vErrors[\"+S+\"]; if (\"+k+\".dataPath === undefined) \"+k+\".dataPath = (dataPath || '') + \"+e.errorPath+\"; if (\"+k+\".schemaPath === undefined) { \"+k+'.schemaPath = \"'+f+'\"; } ',e.opts.verbose&&(o+=\" \"+k+\".schema = \"+i+\"; \"+k+\".data = \"+p+\"; \"),o+=\" } \"):!1===w.errors?o+=\" \"+C+\" \":(o+=\" if (\"+d+\" == errors) { \"+C+\" } else {  for (var \"+S+\"=\"+d+\"; \"+S+\"<errors; \"+S+\"++) { var \"+k+\" = vErrors[\"+S+\"]; if (\"+k+\".dataPath === undefined) \"+k+\".dataPath = (dataPath || '') + \"+e.errorPath+\"; if (\"+k+\".schemaPath === undefined) { \"+k+'.schemaPath = \"'+f+'\"; } ',e.opts.verbose&&(o+=\" \"+k+\".schema = \"+i+\"; \"+k+\".data = \"+p+\"; \"),o+=\" } } \"):g?(o+=\"   var err =   \",!1!==e.createErrors?(o+=\" { keyword: '\"+(n||\"custom\")+\"' , dataPath: (dataPath || '') + \"+e.errorPath+\" , schemaPath: \"+e.util.toQuotedString(f)+\" , params: { keyword: '\"+this.keyword+\"' } \",!1!==e.opts.messages&&(o+=\" , message: 'should pass \\\"\"+this.keyword+\"\\\" keyword validation' \"),e.opts.verbose&&(o+=\" , schema: validate.schema\"+c+\" , parentSchema: validate.schema\"+e.schemaPath+\" , data: \"+p+\" \"),o+=\" } \"):o+=\" {} \",o+=\";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; \",!e.compositeRule&&l&&(e.async?o+=\" throw new ValidationError(vErrors); \":o+=\" validate.errors = vErrors; return false; \")):!1===w.errors?o+=\" \"+C+\" \":(o+=\" if (Array.isArray(\"+P+\")) { if (vErrors === null) vErrors = \"+P+\"; else vErrors = vErrors.concat(\"+P+\"); errors = vErrors.length;  for (var \"+S+\"=\"+d+\"; \"+S+\"<errors; \"+S+\"++) { var \"+k+\" = vErrors[\"+S+\"]; if (\"+k+\".dataPath === undefined) \"+k+\".dataPath = (dataPath || '') + \"+e.errorPath+\";  \"+k+'.schemaPath = \"'+f+'\";  ',e.opts.verbose&&(o+=\" \"+k+\".schema = \"+i+\"; \"+k+\".data = \"+p+\"; \"),o+=\" } } else { \"+C+\" } \"),o+=\" } \",l&&(o+=\" else { \")}return o}},function(e,t,r){\"use strict\";var n=r(115);e.exports={$id:\"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js\",definitions:{simpleTypes:n.definitions.simpleTypes},type:\"object\",dependencies:{schema:[\"validate\"],$data:[\"validate\"],statements:[\"inline\"],valid:{not:{required:[\"macro\"]}}},properties:{type:n.properties.type,schema:{type:\"boolean\"},statements:{type:\"boolean\"},dependencies:{type:\"array\",items:{type:\"string\"}},metaSchema:{type:\"object\"},modifying:{type:\"boolean\"},valid:{type:\"boolean\"},$data:{type:\"boolean\"},async:{type:\"boolean\"},errors:{anyOf:[{type:\"boolean\"},{const:\"full\"}]}}}},function(e){e.exports=JSON.parse('{\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"$id\":\"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",\"description\":\"Meta-schema for $data reference (JSON Schema extension proposal)\",\"type\":\"object\",\"required\":[\"$data\"],\"properties\":{\"$data\":{\"type\":\"string\",\"anyOf\":[{\"format\":\"relative-json-pointer\"},{\"format\":\"json-pointer\"}]}},\"additionalProperties\":false}')},function(e){e.exports=JSON.parse('{\"id\":\"http://json-schema.org/draft-04/schema#\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"description\":\"Core schema meta-schema\",\"definitions\":{\"schemaArray\":{\"type\":\"array\",\"minItems\":1,\"items\":{\"$ref\":\"#\"}},\"positiveInteger\":{\"type\":\"integer\",\"minimum\":0},\"positiveIntegerDefault0\":{\"allOf\":[{\"$ref\":\"#/definitions/positiveInteger\"},{\"default\":0}]},\"simpleTypes\":{\"enum\":[\"array\",\"boolean\",\"integer\",\"null\",\"number\",\"object\",\"string\"]},\"stringArray\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"minItems\":1,\"uniqueItems\":true}},\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\"},\"$schema\":{\"type\":\"string\"},\"title\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"default\":{},\"multipleOf\":{\"type\":\"number\",\"minimum\":0,\"exclusiveMinimum\":true},\"maximum\":{\"type\":\"number\"},\"exclusiveMaximum\":{\"type\":\"boolean\",\"default\":false},\"minimum\":{\"type\":\"number\"},\"exclusiveMinimum\":{\"type\":\"boolean\",\"default\":false},\"maxLength\":{\"$ref\":\"#/definitions/positiveInteger\"},\"minLength\":{\"$ref\":\"#/definitions/positiveIntegerDefault0\"},\"pattern\":{\"type\":\"string\",\"format\":\"regex\"},\"additionalItems\":{\"anyOf\":[{\"type\":\"boolean\"},{\"$ref\":\"#\"}],\"default\":{}},\"items\":{\"anyOf\":[{\"$ref\":\"#\"},{\"$ref\":\"#/definitions/schemaArray\"}],\"default\":{}},\"maxItems\":{\"$ref\":\"#/definitions/positiveInteger\"},\"minItems\":{\"$ref\":\"#/definitions/positiveIntegerDefault0\"},\"uniqueItems\":{\"type\":\"boolean\",\"default\":false},\"maxProperties\":{\"$ref\":\"#/definitions/positiveInteger\"},\"minProperties\":{\"$ref\":\"#/definitions/positiveIntegerDefault0\"},\"required\":{\"$ref\":\"#/definitions/stringArray\"},\"additionalProperties\":{\"anyOf\":[{\"type\":\"boolean\"},{\"$ref\":\"#\"}],\"default\":{}},\"definitions\":{\"type\":\"object\",\"additionalProperties\":{\"$ref\":\"#\"},\"default\":{}},\"properties\":{\"type\":\"object\",\"additionalProperties\":{\"$ref\":\"#\"},\"default\":{}},\"patternProperties\":{\"type\":\"object\",\"additionalProperties\":{\"$ref\":\"#\"},\"default\":{}},\"dependencies\":{\"type\":\"object\",\"additionalProperties\":{\"anyOf\":[{\"$ref\":\"#\"},{\"$ref\":\"#/definitions/stringArray\"}]}},\"enum\":{\"type\":\"array\",\"minItems\":1,\"uniqueItems\":true},\"type\":{\"anyOf\":[{\"$ref\":\"#/definitions/simpleTypes\"},{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/simpleTypes\"},\"minItems\":1,\"uniqueItems\":true}]},\"format\":{\"type\":\"string\"},\"allOf\":{\"$ref\":\"#/definitions/schemaArray\"},\"anyOf\":{\"$ref\":\"#/definitions/schemaArray\"},\"oneOf\":{\"$ref\":\"#/definitions/schemaArray\"},\"not\":{\"$ref\":\"#\"}},\"dependencies\":{\"exclusiveMaximum\":[\"maximum\"],\"exclusiveMinimum\":[\"minimum\"]},\"default\":{}}')},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.XVIZSessionValidator=t.MessageTypes=void 0;var n=r(107);function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=Object.freeze({DISCONNECTED:\"DISCONNECTED\",CONNECTED:\"CONNECTED\",LOG_SESSION_INITIALIZING:\"LOG_SESSION_INITIALIZING\",LOG_SESSION_ACTIVE:\"LOG_SESSION_ACTIVE\",TRANSFORMING_LOG:\"TRANSFORMING_LOG\",LIVE_SESSION_INITIALIZING:\"LIVE_SESSION_INITIALIZING\",LIVE_SESSION_ACTIVE:\"LIVE_SESSION_ACTIVE\"}),s=Object.freeze({START:\"START\",ERROR:\"ERROR\",METADATA:\"METADATA\",TRANSFORM_LOG:\"TRANSFORM_LOG\",STATE_UPDATE:\"STATE_UPDATE\",TRANSFORM_LOG_DONE:\"TRANSFORM_LOG_DONE\"});t.MessageTypes=s;var u=Object.freeze({START:\"session/start\",ERROR:\"session/error\",METADATA:\"session/metadata\",TRANSFORM_LOG:\"session/transform_log\",STATE_UPDATE:\"session/state_update\",TRANSFORM_LOG_DONE:\"session/transform_log_done\"}),c=Object.freeze({DISCONNECTED:{},CONNECTED:{START:function(e){return e&&\"LIVE\"===e.session_type?a.LIVE_SESSION_INITIALIZING:a.LOG_SESSION_INITIALIZING}},LOG_SESSION_INITIALIZING:{ERROR:a.DISCONNECTED,METADATA:a.LOG_SESSION_ACTIVE},LOG_SESSION_ACTIVE:{TRANSFORM_LOG:a.TRANSFORMING_LOG},TRANSFORMING_LOG:{STATE_UPDATE:a.TRANSFORMING_LOG,ERROR:a.TRANSFORMING_LOG,TRANSFORM_LOG_DONE:a.LOG_SESSION_ACTIVE},LIVE_SESSION_INITIALIZING:{ERROR:a.DISCONNECTED,METADATA:a.LIVE_SESSION_ACTIVE},LIVE_SESSION_ACTIVE:{STATE_UPDATE:a.LIVE_SESSION_ACTIVE,ERROR:a.LIVE_SESSION_ACTIVE}}),f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{verbose:!1};i(this,e),this.options=t,this.msgValidator=new n.XVIZValidator,this.state=a.DISCONNECTED,this.resetState()}var t,r,f;return t=e,(r=[{key:\"onConnect\",value:function(){this.state=a.CONNECTED,this.resetState()}},{key:\"onStart\",value:function(e){this.processMessage(e,s.START)}},{key:\"onError\",value:function(e){this.processMessage(e,s.ERROR)}},{key:\"onMetadata\",value:function(e){this.processMessage(e,s.METADATA)}},{key:\"onTransformLog\",value:function(e){this.processMessage(e,s.TRANSFORM_LOG)}},{key:\"onStateUpdate\",value:function(e){this.processMessage(e,s.STATE_UPDATE)}},{key:\"onTransformLogDone\",value:function(e){this.processMessage(e,s.TRANSFORM_LOG_DONE)}},{key:\"onClose\",value:function(){this.state=a.DISCONNECTED,this.lastMessage!==s.ERROR&&(this.stats.stateErrors[this.state]=\"Close should only happen on error\")}},{key:\"processMessage\",value:function(e,t){this.recordMessage(e,t),this.runTransition(e,t)}},{key:\"recordMessage\",value:function(e,t){this.lastMessage=t,this.stats.messages[t]=this.stats.messages[t]+1||1;var r=u[t];if(void 0===r)throw Error('\"'.concat(t,'\" does not have a schema name'));try{this.msgValidator.validate(r,e)}catch(r){if(!(r instanceof n.ValidationError))throw r;var i=r.toString(),o=this.stats.uniqueErrors[t],a=void 0===o;a?((o={})[i]=1,this.stats.uniqueErrors[t]=o):o[i]=o[i]+1||1,this.stats.validationErrors[t]=this.stats.validationErrors[t]+1||1,a&&this.options.invalidCallback&&this.options.invalidCallback(t,r,e)}}},{key:\"runTransition\",value:function(e,t){var r=c[this.state];if(void 0===r)throw Error(\"State: \".concat(this.state,\" does not have any transitions\"));var n=r[t];\"function\"==typeof n&&(n=r[t](e)),void 0===n?this.stats.stateErrors[this.state]=\"While in \".concat(this.state,\" state, cannot accept message \").concat(t):this.state=n}},{key:\"resetState\",value:function(){this.stats={messages:{},validationErrors:{},uniqueErrors:{},stateErrors:{}},this.lastMessage=null}}])&&o(t.prototype,r),f&&o(t,f),e}();t.XVIZSessionValidator=f},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.loadProtos=function(){return n.Root.fromJSON(i.PROTO_DATA)},t.getXVIZProtoTypes=function(e){var t=[];return function e(t,r){t instanceof n.Type&&r(t);t.nestedArray&&t.nestedArray.forEach((function(t){e(t,r)}))}(e,(function(e){void 0!==e.options&&void 0!==e.options[\"(xviz_json_schema)\"]&&t.push(e)})),t},t.EXTENSION_PROPERTY=void 0;var n=r(78),i=r(74);t.EXTENSION_PROPERTY=\"(xviz_json_schema)\"},function(e,t,r){\"use strict\";var n=e.exports=r(193);n.build=\"full\",n.tokenize=r(125),n.parse=r(207),n.common=r(208),n.Root._configure(n.Type,n.parse,n.common)},function(e,t,r){\"use strict\";var n=e.exports=r(194);n.build=\"light\",n.load=function(e,t,r){return\"function\"==typeof t?(r=t,t=new n.Root):t||(t=new n.Root),t.load(e,r)},n.loadSync=function(e,t){return t||(t=new n.Root),t.loadSync(e)},n.encoder=r(120),n.decoder=r(121),n.verifier=r(122),n.converter=r(123),n.ReflectionObject=r(42),n.Namespace=r(53),n.Root=r(86),n.Enum=r(25),n.Type=r(81),n.Field=r(31),n.OneOf=r(61),n.MapField=r(82),n.Service=r(83),n.Method=r(84),n.Message=r(85),n.wrappers=r(124),n.types=r(43),n.util=r(17),n.ReflectionObject._configure(n.Root),n.Namespace._configure(n.Type,n.Service,n.Enum),n.Root._configure(n.Type),n.Field._configure(n.Type)},function(e,t,r){\"use strict\";var n=t;function i(){n.Reader._configure(n.BufferReader),n.util._configure()}n.build=\"minimal\",n.Writer=r(79),n.BufferWriter=r(201),n.Reader=r(80),n.BufferReader=r(202),n.util=r(26),n.rpc=r(118),n.roots=r(119),n.configure=i,n.Writer._configure(n.BufferWriter),i()},function(e,t,r){\"use strict\";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&\"=\"===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var i=new Array(64),o=new Array(123),a=0;a<64;)o[i[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;n.encode=function(e,t,r){for(var n,o=null,a=[],s=0,u=0;t<r;){var c=e[t++];switch(u){case 0:a[s++]=i[c>>2],n=(3&c)<<4,u=1;break;case 1:a[s++]=i[n|c>>4],n=(15&c)<<2,u=2;break;case 2:a[s++]=i[n|c>>6],a[s++]=i[63&c],u=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return u&&(a[s++]=i[n],a[s++]=61,1===u&&(a[s++]=61)),o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join(\"\")):String.fromCharCode.apply(String,a.slice(0,s))};n.decode=function(e,t,r){for(var n,i=r,a=0,s=0;s<e.length;){var u=e.charCodeAt(s++);if(61===u&&a>1)break;if(void 0===(u=o[u]))throw Error(\"invalid encoding\");switch(a){case 0:n=u,a=1;break;case 1:t[r++]=n<<2|(48&u)>>4,n=u,a=2;break;case 2:t[r++]=(15&n)<<4|(60&u)>>2,n=u,a=3;break;case 3:t[r++]=(3&n)<<6|u,a=0}}if(1===a)throw Error(\"invalid encoding\");return r-i},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},function(e,t,r){\"use strict\";function n(){this._listeners={}}e.exports=n,n.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},n.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},function(e,t,r){\"use strict\";function n(e){return\"undefined\"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function o(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function s(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i,e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,r,n)}}function r(e,t,r){var n=e(t,r),i=2*(n>>31)+1,o=n>>>23&255,a=8388607&n;return 255===o?a?NaN:i*(1/0):0===o?1401298464324817e-60*i*a:i*Math.pow(2,o-150)*(a+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,o),e.readFloatLE=r.bind(null,a),e.readFloatBE=r.bind(null,s)}(),\"undefined\"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function o(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function s(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i,e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function t(e,t,r,n,i,o){var a=n<0?1:0;if(a&&(n=-n),0===n)e(0,i,o+t),e(1/n>0?0:2147483648,i,o+r);else if(isNaN(n))e(0,i,o+t),e(2146959360,i,o+r);else if(n>17976931348623157e292)e(0,i,o+t),e((a<<31|2146435072)>>>0,i,o+r);else{var s;if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,i,o+t),e((a<<31|s/4294967296)>>>0,i,o+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(s=n*Math.pow(2,-u))>>>0,i,o+t),e((a<<31|u+1023<<20|1048576*s&1048575)>>>0,i,o+r)}}}function r(e,t,r,n,i){var o=e(n,i+t),a=e(n,i+r),s=2*(a>>31)+1,u=a>>>20&2047,c=4294967296*(1048575&a)+o;return 2047===u?c?NaN:s*(1/0):0===u?5e-324*s*c:s*Math.pow(2,u-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=r.bind(null,a,0,4),e.readDoubleBE=r.bind(null,s,4,0)}(),e}function i(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function o(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=n(n)},function(e,t,r){\"use strict\";var n=t;n.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},n.read=function(e,t,r){if(r-t<1)return\"\";for(var n,i=null,o=[],a=0;t<r;)(n=e[t++])<128?o[a++]=n:n>191&&n<224?o[a++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(n>>10),o[a++]=56320+(1023&n)):o[a++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join(\"\")):String.fromCharCode.apply(String,o.slice(0,a))},n.write=function(e,t,r){for(var n,i,o=r,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(i=e.charCodeAt(a+1)))?(n=65536+((1023&n)<<10)+(1023&i),++a,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-o}},function(e,t,r){\"use strict\";e.exports=function(e,t,r){var n=r||8192,i=n>>>1,o=null,a=n;return function(r){if(r<1||r>i)return e(r);a+r>n&&(o=e(n),a=0);var s=t.call(o,a,a+=r);return 7&a&&(a=1+(7|a)),s}}},function(e,t,r){\"use strict\";e.exports=i;var n=r(26);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=i.zeroHash=\"\\0\\0\\0\\0\\0\\0\\0\\0\";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new i(r,n)},i.from=function(e){if(\"number\"==typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?o:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},function(e,t,r){\"use strict\";e.exports=a;var n=r(79);(a.prototype=Object.create(n.prototype)).constructor=a;var i=r(26),o=i.Buffer;function a(){n.call(this)}a.alloc=function(e){return(a.alloc=i._Buffer_allocUnsafe)(e)};var s=o&&o.prototype instanceof Uint8Array&&\"set\"===o.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]};function u(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write(e,r)}a.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,\"base64\"));var t=e.length>>>0;return this.uint32(t),t&&this._push(s,t,e),this},a.prototype.string=function(e){var t=o.byteLength(e);return this.uint32(t),t&&this._push(u,t,e),this}},function(e,t,r){\"use strict\";e.exports=o;var n=r(80);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(26);function o(e){n.call(this,e)}i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice),o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len))}},function(e,t,r){\"use strict\";e.exports=i;var n=r(26);function i(e,t,r){if(\"function\"!=typeof e)throw TypeError(\"rpcImpl must be a function\");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,o,a){if(!o)throw TypeError(\"request must be specified\");var s=this;if(!a)return n.asPromise(e,s,t,r,i,o);if(s.rpcImpl)try{return s.rpcImpl(t,r[s.requestDelimited?\"encodeDelimited\":\"encode\"](o).finish(),(function(e,r){if(e)return s.emit(\"error\",e,t),a(e);if(null!==r){if(!(r instanceof i))try{r=i[s.responseDelimited?\"decodeDelimited\":\"decode\"](r)}catch(e){return s.emit(\"error\",e,t),a(e)}return s.emit(\"data\",r,t),a(null,r)}s.end(!0)}))}catch(e){return s.emit(\"error\",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error(\"already ended\"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit(\"end\").off()),this}},function(e,t,r){\"use strict\";function n(e,t){\"string\"==typeof e&&(t=e,e=void 0);var r=[];function i(e){if(\"string\"!=typeof e){var t=o();if(n.verbose&&console.log(\"codegen: \"+t),t=\"return \"+t,e){for(var a=Object.keys(e),s=new Array(a.length+1),u=new Array(a.length),c=0;c<a.length;)s[c]=a[c],u[c]=e[a[c++]];return s[c]=t,Function.apply(null,s).apply(null,u)}return Function(t)()}for(var f=new Array(arguments.length-1),l=0;l<f.length;)f[l]=arguments[++l];if(l=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var r=f[l++];switch(t){case\"d\":case\"f\":return String(Number(r));case\"i\":return String(Math.floor(r));case\"j\":return JSON.stringify(r);case\"s\":return String(r)}return\"%\"})),l!==f.length)throw Error(\"parameter count mismatch\");return r.push(e),i}function o(n){return\"function \"+(n||t||\"\")+\"(\"+(e&&e.join(\",\")||\"\")+\"){\\n  \"+r.join(\"\\n  \")+\"\\n}\"}return i.toString=o,i}e.exports=n,n.verbose=!1},function(e,t,r){\"use strict\";e.exports=o;var n=r(116),i=r(117)(\"fs\");function o(e,t,r){return\"function\"==typeof t?(r=t,t={}):t||(t={}),r?!t.xhr&&i&&i.readFile?i.readFile(e,(function(n,i){return n&&\"undefined\"!=typeof XMLHttpRequest?o.xhr(e,t,r):n?r(n):r(null,t.binary?i:i.toString(\"utf8\"))})):o.xhr(e,t,r):n(o,this,e,t)}o.xhr=function(e,t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(0!==n.status&&200!==n.status)return r(Error(\"status \"+n.status));if(t.binary){var e=n.response;if(!e){e=[];for(var i=0;i<n.responseText.length;++i)e.push(255&n.responseText.charCodeAt(i))}return r(null,\"undefined\"!=typeof Uint8Array?new Uint8Array(e):e)}return r(null,n.responseText)}},t.binary&&(\"overrideMimeType\"in n&&n.overrideMimeType(\"text/plain; charset=x-user-defined\"),n.responseType=\"arraybuffer\"),n.open(\"GET\",e),n.send()}},function(e,t,r){\"use strict\";var n=t,i=n.isAbsolute=function(e){return/^(?:\\/|\\w+:)/.test(e)},o=n.normalize=function(e){var t=(e=e.replace(/\\\\/g,\"/\").replace(/\\/{2,}/g,\"/\")).split(\"/\"),r=i(e),n=\"\";r&&(n=t.shift()+\"/\");for(var o=0;o<t.length;)\"..\"===t[o]?o>0&&\"..\"!==t[o-1]?t.splice(--o,2):r?t.splice(o,1):++o:\".\"===t[o]?t.splice(o,1):++o;return n+t.join(\"/\")};n.resolve=function(e,t,r){return r||(t=o(t)),i(t)?t:(r||(e=o(e)),(e=e.replace(/(?:\\/|^)[^/]+$/,\"\")).length?o(e+\"/\"+t):t)}},function(e,t,r){\"use strict\";e.exports=j,j.filename=null,j.defaults={keepCase:!1};var n=r(125),i=r(86),o=r(81),a=r(31),s=r(82),u=r(61),c=r(25),f=r(83),l=r(84),p=r(43),h=r(17),d=/^[1-9][0-9]*$/,y=/^-?[1-9][0-9]*$/,v=/^0[x][0-9a-fA-F]+$/,m=/^-?0[x][0-9a-fA-F]+$/,g=/^0[0-7]+$/,b=/^-?0[0-7]+$/,O=/^(?![eE])[0-9]*(?:\\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,_=/^[a-zA-Z_][a-zA-Z_0-9]*$/,w=/^(?:\\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,E=/^(?:\\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function j(e,t,r){t instanceof i||(r=t,t=new i),r||(r=j.defaults);var P,S,k,T,A,x=n(e,r.alternateCommentMode||!1),I=x.next,R=x.push,M=x.peek,N=x.skip,V=x.cmnt,D=!0,L=!1,C=t,F=r.keepCase?function(e){return e}:h.camelCase;function B(e,t,r){var n=j.filename;return r||(j.filename=null),Error(\"illegal \"+(t||\"token\")+\" '\"+e+\"' (\"+(n?n+\", \":\"\")+\"line \"+x.line+\")\")}function U(){var e,t=[];do{if('\"'!==(e=I())&&\"'\"!==e)throw B(e);t.push(I()),N(e),e=M()}while('\"'===e||\"'\"===e);return t.join(\"\")}function z(e){var t=I();switch(t){case\"'\":case'\"':return R(t),U();case\"true\":case\"TRUE\":return!0;case\"false\":case\"FALSE\":return!1}try{return function(e,t){var r=1;\"-\"===e.charAt(0)&&(r=-1,e=e.substring(1));switch(e){case\"inf\":case\"INF\":case\"Inf\":return r*(1/0);case\"nan\":case\"NAN\":case\"Nan\":case\"NaN\":return NaN;case\"0\":return 0}if(d.test(e))return r*parseInt(e,10);if(v.test(e))return r*parseInt(e,16);if(g.test(e))return r*parseInt(e,8);if(O.test(e))return r*parseFloat(e);throw B(e,\"number\",t)}(t,!0)}catch(r){if(e&&w.test(t))return t;throw B(t,\"value\")}}function $(e,t){var r,n;do{!t||'\"'!==(r=M())&&\"'\"!==r?e.push([n=Z(I()),N(\"to\",!0)?Z(I()):n]):e.push(U())}while(N(\",\",!0));N(\";\")}function Z(e,t){switch(e){case\"max\":case\"MAX\":case\"Max\":return 536870911;case\"0\":return 0}if(!t&&\"-\"===e.charAt(0))throw B(e,\"id\");if(y.test(e))return parseInt(e,10);if(m.test(e))return parseInt(e,16);if(b.test(e))return parseInt(e,8);throw B(e,\"id\")}function X(){if(void 0!==P)throw B(\"package\");if(P=I(),!w.test(P))throw B(P,\"name\");C=C.define(P),N(\";\")}function q(){var e,t=M();switch(t){case\"weak\":e=k||(k=[]),I();break;case\"public\":I();default:e=S||(S=[])}t=U(),N(\";\"),e.push(t)}function Y(){if(N(\"=\"),T=U(),!(L=\"proto3\"===T)&&\"proto2\"!==T)throw B(T,\"syntax\");N(\";\")}function G(e,t){switch(t){case\"option\":return H(e,t),N(\";\"),!0;case\"message\":return function(e,t){if(!_.test(t=I()))throw B(t,\"type name\");var r=new o(t);J(r,(function(e){if(!G(r,e))switch(e){case\"map\":!function(e){N(\"<\");var t=I();if(void 0===p.mapKey[t])throw B(t,\"type\");N(\",\");var r=I();if(!w.test(r))throw B(r,\"type\");N(\">\");var n=I();if(!_.test(n))throw B(n,\"name\");N(\"=\");var i=new s(F(n),Z(I()),t,r);J(i,(function(e){if(\"option\"!==e)throw B(e);H(i,e),N(\";\")}),(function(){ee(i)})),e.add(i)}(r);break;case\"required\":case\"optional\":case\"repeated\":W(r,e);break;case\"oneof\":!function(e,t){if(!_.test(t=I()))throw B(t,\"name\");var r=new u(F(t));J(r,(function(e){\"option\"===e?(H(r,e),N(\";\")):(R(e),W(r,\"optional\"))})),e.add(r)}(r,e);break;case\"extensions\":$(r.extensions||(r.extensions=[]));break;case\"reserved\":$(r.reserved||(r.reserved=[]),!0);break;default:if(!L||!w.test(e))throw B(e);R(e),W(r,\"optional\")}})),e.add(r)}(e,t),!0;case\"enum\":return function(e,t){if(!_.test(t=I()))throw B(t,\"name\");var r=new c(t);J(r,(function(e){switch(e){case\"option\":H(r,e),N(\";\");break;case\"reserved\":$(r.reserved||(r.reserved=[]),!0);break;default:!function(e,t){if(!_.test(t))throw B(t,\"name\");N(\"=\");var r=Z(I(),!0),n={};J(n,(function(e){if(\"option\"!==e)throw B(e);H(n,e),N(\";\")}),(function(){ee(n)})),e.add(t,r,n.comment)}(r,e)}})),e.add(r)}(e,t),!0;case\"service\":return function(e,t){if(!_.test(t=I()))throw B(t,\"service name\");var r=new f(t);J(r,(function(e){if(!G(r,e)){if(\"rpc\"!==e)throw B(e);!function(e,t){var r=V(),n=t;if(!_.test(t=I()))throw B(t,\"name\");var i,o,a,s,u=t;N(\"(\"),N(\"stream\",!0)&&(o=!0);if(!w.test(t=I()))throw B(t);i=t,N(\")\"),N(\"returns\"),N(\"(\"),N(\"stream\",!0)&&(s=!0);if(!w.test(t=I()))throw B(t);a=t,N(\")\");var c=new l(u,n,i,a,o,s);c.comment=r,J(c,(function(e){if(\"option\"!==e)throw B(e);H(c,e),N(\";\")})),e.add(c)}(r,e)}})),e.add(r)}(e,t),!0;case\"extend\":return function(e,t){if(!w.test(t=I()))throw B(t,\"reference\");var r=t;J(null,(function(t){switch(t){case\"required\":case\"repeated\":case\"optional\":W(e,t,r);break;default:if(!L||!w.test(t))throw B(t);R(t),W(e,\"optional\",r)}}))}(e,t),!0}return!1}function J(e,t,r){var n=x.line;if(e&&(\"string\"!=typeof e.comment&&(e.comment=V()),e.filename=j.filename),N(\"{\",!0)){for(var i;\"}\"!==(i=I());)t(i);N(\";\",!0)}else r&&r(),N(\";\"),e&&\"string\"!=typeof e.comment&&(e.comment=V(n))}function W(e,t,r){var n=I();if(\"group\"!==n){if(!w.test(n))throw B(n,\"type\");var i=I();if(!_.test(i))throw B(i,\"name\");i=F(i),N(\"=\");var s=new a(i,Z(I()),n,t,r);J(s,(function(e){if(\"option\"!==e)throw B(e);H(s,e),N(\";\")}),(function(){ee(s)})),e.add(s),L||!s.repeated||void 0===p.packed[n]&&void 0!==p.basic[n]||s.setOption(\"packed\",!1,!0)}else!function(e,t){var r=I();if(!_.test(r))throw B(r,\"name\");var n=h.lcFirst(r);r===n&&(r=h.ucFirst(r));N(\"=\");var i=Z(I()),s=new o(r);s.group=!0;var u=new a(n,i,r,t);u.filename=j.filename,J(s,(function(e){switch(e){case\"option\":H(s,e),N(\";\");break;case\"required\":case\"optional\":case\"repeated\":W(s,e);break;default:throw B(e)}})),e.add(s).add(u)}(e,t)}function H(e,t){var r=N(\"(\",!0);if(!w.test(t=I()))throw B(t,\"name\");var n=t;r&&(N(\")\"),n=\"(\"+n+\")\",t=M(),E.test(t)&&(n+=t,I())),N(\"=\"),Q(e,n)}function Q(e,t){if(N(\"{\",!0))do{if(!_.test(A=I()))throw B(A,\"name\");\"{\"===M()?Q(e,t+\".\"+A):(N(\":\"),\"{\"===M()?Q(e,t+\".\"+A):K(e,t+\".\"+A,z(!0))),N(\",\",!0)}while(!N(\"}\",!0));else K(e,t,z(!0))}function K(e,t,r){e.setOption&&e.setOption(t,r)}function ee(e){if(N(\"[\",!0)){do{H(e,\"option\")}while(N(\",\",!0));N(\"]\")}return e}for(;null!==(A=I());)switch(A){case\"package\":if(!D)throw B(A);X();break;case\"import\":if(!D)throw B(A);q();break;case\"syntax\":if(!D)throw B(A);Y();break;case\"option\":H(C,A),N(\";\");break;default:if(G(C,A)){D=!1;continue}throw B(A)}return j.filename=null,{package:P,imports:S,weakImports:k,syntax:T,root:t}}},function(e,t,r){\"use strict\";e.exports=o;var n,i=/\\/|\\./;function o(e,t){i.test(e)||(e=\"google/protobuf/\"+e+\".proto\",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),o[e]=t}o(\"any\",{Any:{fields:{type_url:{type:\"string\",id:1},value:{type:\"bytes\",id:2}}}}),o(\"duration\",{Duration:n={fields:{seconds:{type:\"int64\",id:1},nanos:{type:\"int32\",id:2}}}}),o(\"timestamp\",{Timestamp:n}),o(\"empty\",{Empty:{fields:{}}}),o(\"struct\",{Struct:{fields:{fields:{keyType:\"string\",type:\"Value\",id:1}}},Value:{oneofs:{kind:{oneof:[\"nullValue\",\"numberValue\",\"stringValue\",\"boolValue\",\"structValue\",\"listValue\"]}},fields:{nullValue:{type:\"NullValue\",id:1},numberValue:{type:\"double\",id:2},stringValue:{type:\"string\",id:3},boolValue:{type:\"bool\",id:4},structValue:{type:\"Struct\",id:5},listValue:{type:\"ListValue\",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:\"repeated\",type:\"Value\",id:1}}}}),o(\"wrappers\",{DoubleValue:{fields:{value:{type:\"double\",id:1}}},FloatValue:{fields:{value:{type:\"float\",id:1}}},Int64Value:{fields:{value:{type:\"int64\",id:1}}},UInt64Value:{fields:{value:{type:\"uint64\",id:1}}},Int32Value:{fields:{value:{type:\"int32\",id:1}}},UInt32Value:{fields:{value:{type:\"uint32\",id:1}}},BoolValue:{fields:{value:{type:\"bool\",id:1}}},StringValue:{fields:{value:{type:\"string\",id:1}}},BytesValue:{fields:{value:{type:\"bytes\",id:1}}}}),o(\"field_mask\",{FieldMask:{fields:{paths:{rule:\"repeated\",type:\"string\",id:1}}}}),o.get=function(e){return o[e]||null}},function(e,t,r){\"use strict\";function n(e){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.getProtoEnumTypes=function e(t){var r={};return t.nestedArray.map((function(t){void 0!==t.values?r[t.fullName]=t.values:void 0!==t.nestedArray&&Object.assign(r,e(t))})),r},t.protoEnumsToInts=o,t.enumToIntField=s;var i=new Set([\"double\",\"float\",\"int32\",\"int64\",\"uint32\",\"uint64\",\"sint32\",\"sint64\",\"fixed32\",\"fixed64\",\"sfixed32\",\"sfixed64\",\"bool\",\"string\",\"bytes\"]);function o(e,t,r){if(void 0===r)throw\"protoEnumsToInts needs defined enumTypes\";var i=e.fields;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o],p=t[o],h=a(e,l.type,r);void 0!==h?s(h,o,t):l.map?c(l,t[o],r):l.repeated?f(l,t[o],r):\"object\"===n(p)&&u(l,p,r)}}function a(e,t,r){var n=r[\"\".concat(e.fullName,\".\").concat(t)];return void 0===n&&(n=r[\"\".concat(e.parent.fullName,\".\").concat(t)]),n}function s(e,t,r){var n=r[t];if(void 0!==n){var i=e[n];if(void 0===i){var o='Error: field \"'.concat(t,'\" has unknown enum value \"').concat(n,'\"');throw new Error(o)}r[t]=i}}function u(e,t,r){i.has(e.type)||void 0===t||o(e.parent.lookupType(e.type),t,r)}function c(e,t,r){if(!i.has(e.type)&&void 0!==t){var n=e.parent.lookupType(e.type);for(var a in t){if(t.hasOwnProperty(a))o(n,t[a],r)}}}function f(e,t,r){if(!i.has(e.type)&&void 0!==t)for(var n=e.parent.lookupType(e.type),a=0;a<t.length;a++)o(n,t[a],r)}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.StructDecode=t.StructEncode=void 0;var n=r(78),i=function(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!==a(e)&&\"function\"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=n?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(r(211));function o(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function a(e){return(a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}var f=function(){function e(t){s(this,e),t=t||{},this.seenObjects=new Set,this.removeCircular=!0===t.removeCircular,this.stringify=!0===t.stringify}return c(e,[{key:\"encodeStruct\",value:function(e){var t={fields:{}};for(var r in this.seenObjects.add(e),e)if(e.hasOwnProperty(r)){var n=e[r];if(i.undefined(n))continue;t.fields[r]=this.encodeValue(n)}return this.seenObjects.delete(e),t}},{key:\"encodeValue\",value:function(e){var t;if(i.null(e))t={nullValue:0};else if(i.number(e))t={numberValue:e};else if(i.string(e))t={stringValue:e};else if(i.boolean(e))t={boolValue:e};else if(i.object(e))if(this.seenObjects.has(e)){if(!this.removeCircular)throw new Error([\"This object contains a circular reference. To automatically\",\"remove it, set the `removeCircular` option to true.\"].join(\" \"));t={stringValue:\"[Circular]\"}}else t={structValue:this.encodeStruct(e)};else if(i.array(e))t={listValue:{values:e.map(this.encodeValue.bind(this))}};else{if(!this.stringify)throw new Error(\"Value of type \".concat(a(e),\" not recognized.\"));t={stringValue:String(e)}}return t}}]),e}();t.StructEncode=f;var l=function(){function e(){s(this,e)}return c(e,null,[{key:\"decodeValue\",value:function(t){switch(t.kind){case\"structValue\":return e.decodeStruct(t.structValue);case\"nullValue\":return null;case\"listValue\":return t.listValue.values.map(e.decodeValue);default:return t[t.kind]}}},{key:\"decodeStruct\",value:function(t){var r={};for(var n in t.fields)if(t.fields.hasOwnProperty(n)){var i=t.fields[n];r[n]=e.decodeValue(i)}return r}}]),e}();t.StructDecode=l,n.wrappers[\".google.protobuf.Value\"]={fromObject:function(e){return e?(new f).encodeValue(e):this.fromObject(e)},toObject:function(e){return l.decodeValue(e)}},n.wrappers[\".google.protobuf.Struct\"]={fromObject:function(e){return e?(new f).encodeStruct(e):this.fromObject(e)},toObject:function(e){return l.decodeStruct(e)}}},function(e,t,r){\"use strict\";\n/**!\n * is\n * the definitive JavaScript type testing library\n *\n * @copyright 2013-2014 Enrico Marino / Jordan Harband\n * @license MIT\n */var n,i,o=Object.prototype,a=o.hasOwnProperty,s=o.toString;\"function\"==typeof Symbol&&(n=Symbol.prototype.valueOf),\"function\"==typeof BigInt&&(i=BigInt.prototype.valueOf);var u=function(e){return e!=e},c={boolean:1,number:1,string:1,undefined:1},f=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/,l=/^[A-Fa-f0-9]+$/,p={};p.a=p.type=function(e,t){return typeof e===t},p.defined=function(e){return void 0!==e},p.empty=function(e){var t,r=s.call(e);if(\"[object Array]\"===r||\"[object Arguments]\"===r||\"[object String]\"===r)return 0===e.length;if(\"[object Object]\"===r){for(t in e)if(a.call(e,t))return!1;return!0}return!e},p.equal=function(e,t){if(e===t)return!0;var r,n=s.call(e);if(n!==s.call(t))return!1;if(\"[object Object]\"===n){for(r in e)if(!p.equal(e[r],t[r])||!(r in t))return!1;for(r in t)if(!p.equal(e[r],t[r])||!(r in e))return!1;return!0}if(\"[object Array]\"===n){if((r=e.length)!==t.length)return!1;for(;r--;)if(!p.equal(e[r],t[r]))return!1;return!0}return\"[object Function]\"===n?e.prototype===t.prototype:\"[object Date]\"===n&&e.getTime()===t.getTime()},p.hosted=function(e,t){var r=typeof t[e];return\"object\"===r?!!t[e]:!c[r]},p.instance=p.instanceof=function(e,t){return e instanceof t},p.nil=p.null=function(e){return null===e},p.undef=p.undefined=function(e){return void 0===e},p.args=p.arguments=function(e){var t=\"[object Arguments]\"===s.call(e),r=!p.array(e)&&p.arraylike(e)&&p.object(e)&&p.fn(e.callee);return t||r},p.array=Array.isArray||function(e){return\"[object Array]\"===s.call(e)},p.args.empty=function(e){return p.args(e)&&0===e.length},p.array.empty=function(e){return p.array(e)&&0===e.length},p.arraylike=function(e){return!!e&&!p.bool(e)&&a.call(e,\"length\")&&isFinite(e.length)&&p.number(e.length)&&e.length>=0},p.bool=p.boolean=function(e){return\"[object Boolean]\"===s.call(e)},p.false=function(e){return p.bool(e)&&!1===Boolean(Number(e))},p.true=function(e){return p.bool(e)&&!0===Boolean(Number(e))},p.date=function(e){return\"[object Date]\"===s.call(e)},p.date.valid=function(e){return p.date(e)&&!isNaN(Number(e))},p.element=function(e){return void 0!==e&&\"undefined\"!=typeof HTMLElement&&e instanceof HTMLElement&&1===e.nodeType},p.error=function(e){return\"[object Error]\"===s.call(e)},p.fn=p.function=function(e){if(\"undefined\"!=typeof window&&e===window.alert)return!0;var t=s.call(e);return\"[object Function]\"===t||\"[object GeneratorFunction]\"===t||\"[object AsyncFunction]\"===t},p.number=function(e){return\"[object Number]\"===s.call(e)},p.infinite=function(e){return e===1/0||e===-1/0},p.decimal=function(e){return p.number(e)&&!u(e)&&!p.infinite(e)&&e%1!=0},p.divisibleBy=function(e,t){var r=p.infinite(e),n=p.infinite(t),i=p.number(e)&&!u(e)&&p.number(t)&&!u(t)&&0!==t;return r||n||i&&e%t==0},p.integer=p.int=function(e){return p.number(e)&&!u(e)&&e%1==0},p.maximum=function(e,t){if(u(e))throw new TypeError(\"NaN is not a valid value\");if(!p.arraylike(t))throw new TypeError(\"second argument must be array-like\");for(var r=t.length;--r>=0;)if(e<t[r])return!1;return!0},p.minimum=function(e,t){if(u(e))throw new TypeError(\"NaN is not a valid value\");if(!p.arraylike(t))throw new TypeError(\"second argument must be array-like\");for(var r=t.length;--r>=0;)if(e>t[r])return!1;return!0},p.nan=function(e){return!p.number(e)||e!=e},p.even=function(e){return p.infinite(e)||p.number(e)&&e==e&&e%2==0},p.odd=function(e){return p.infinite(e)||p.number(e)&&e==e&&e%2!=0},p.ge=function(e,t){if(u(e)||u(t))throw new TypeError(\"NaN is not a valid value\");return!p.infinite(e)&&!p.infinite(t)&&e>=t},p.gt=function(e,t){if(u(e)||u(t))throw new TypeError(\"NaN is not a valid value\");return!p.infinite(e)&&!p.infinite(t)&&e>t},p.le=function(e,t){if(u(e)||u(t))throw new TypeError(\"NaN is not a valid value\");return!p.infinite(e)&&!p.infinite(t)&&e<=t},p.lt=function(e,t){if(u(e)||u(t))throw new TypeError(\"NaN is not a valid value\");return!p.infinite(e)&&!p.infinite(t)&&e<t},p.within=function(e,t,r){if(u(e)||u(t)||u(r))throw new TypeError(\"NaN is not a valid value\");if(!p.number(e)||!p.number(t)||!p.number(r))throw new TypeError(\"all arguments must be numbers\");return p.infinite(e)||p.infinite(t)||p.infinite(r)||e>=t&&e<=r},p.object=function(e){return\"[object Object]\"===s.call(e)},p.primitive=function(e){return!e||!(\"object\"==typeof e||p.object(e)||p.fn(e)||p.array(e))},p.hash=function(e){return p.object(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},p.regexp=function(e){return\"[object RegExp]\"===s.call(e)},p.string=function(e){return\"[object String]\"===s.call(e)},p.base64=function(e){return p.string(e)&&(!e.length||f.test(e))},p.hex=function(e){return p.string(e)&&(!e.length||l.test(e))},p.symbol=function(e){return\"function\"==typeof Symbol&&\"[object Symbol]\"===s.call(e)&&\"symbol\"==typeof n.call(e)},p.bigint=function(e){return\"function\"==typeof BigInt&&\"[object BigInt]\"===s.call(e)&&\"bigint\"==typeof i.call(e)},e.exports=p},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.XVIZFormatWriter=void 0;var n=r(103),i=r(106),o=r(102),a=r(44);function s(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e){return(c=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var i=m(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v(this,r)}}function v(e,t){return!t||\"object\"!==c(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(r,e);var t=y(r);function r(e,n){return h(this,r),t.call(this,e,l(l({},n),{},{asArrayBuffer:!0}))}return r}(o.XVIZJSONWriter);var b=function(){function e(t,r){var u=r.format,c=s(r,[\"format\"]);if(h(this,e),this.format=u,this.options=l({flattenArrays:!0},c),!u||u===a.XVIZ_FORMAT.OBJECT)throw new Error(\"Format \".concat(u,\" is not supported by XVIZFormatter.\"));this.writer=function(e,t,r){var s=null;switch(t){case a.XVIZ_FORMAT.BINARY_GLB:s=new n.XVIZBinaryWriter(e,r);break;case a.XVIZ_FORMAT.BINARY_PBE:s=new i.XVIZProtobufWriter(e,r);break;case a.XVIZ_FORMAT.JSON_BUFFER:s=new g(e,r);break;case a.XVIZ_FORMAT.JSON_STRING:s=new o.XVIZJSONWriter(e,r);break;default:throw new Error(\"Cannot convert XVIZData to format \".concat(t))}return s}(t,u,this.options)}var t,r,c;return t=e,(r=[{key:\"writeMetadata\",value:function(e){var t=e.message();this.writer.writeMetadata(t.data)}},{key:\"writeMessage\",value:function(e,t){var r=t.message();this.writer.writeMessage(e,r.data)}},{key:\"close\",value:function(){this.writer.close()}}])&&u(t.prototype,r),c&&u(t,c),e}();t.XVIZFormatWriter=b},function(e,t,r){\"use strict\";function n(e){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var i=l(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||\"object\"!==n(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.XVIZJSONReader=void 0;var p=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(r,e);var t=c(r);function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(this,r),t.call(this,e,o(o({},n),{},{suffix:\"-frame.json\"}))}return r}(r(87).XVIZBaseReader);t.XVIZJSONReader=p},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.GLTFParser=void 0,r(37);var n=r(240),i=r(40),o=r(215),a=r(104),s=c(r(216)),u=c(r(220));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var r;if(\"undefined\"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if(\"string\"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===r&&e.constructor&&(r=e.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(e);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e))||t&&e&&\"number\"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e){return(p=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){v(o,n,i,a,s,\"next\",e)}function s(e){v(o,n,i,a,s,\"throw\",e)}a(void 0)}))}}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var b={fetchLinkedResources:!0,fetch:n.fetchFile,decompress:!1,DracoLoader:null,postProcess:!0,createImages:!1,log:console},O=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}var t,r,n,c,l,h;return t=e,(r=[{key:\"parse\",value:(h=m(regeneratorRuntime.mark((function e(t){var r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.length>1&&void 0!==n[1]?n[1]:{},r=Object.assign({},b,r),this.parseSync(t,d(d({},r),{},{postProcess:!1,decompress:!1})),!r.fetchLinkedResources){e.next=6;break}return e.next=6,this._loadLinkedAssets(r);case 6:return r.decompress&&this._decompressMeshes(r),r.postProcess&&(new u.default).postProcess(this.gltf,this.glbParser,r),e.abrupt(\"return\",this.gltf);case 9:case\"end\":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:\"parseSync\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t=Object.assign({},b,t),e instanceof ArrayBuffer&&!s.default.isGLB(e,t)){var r=new TextDecoder;e=r.decode(e)}if(\"string\"==typeof e&&(e=JSON.parse(e)),e instanceof ArrayBuffer?(this.glbParser=new s.default,this.gltf=this.glbParser.parseSync(e).json,this.json=this.gltf):(this.glbParser=null,this.gltf=e,this.json=e),t.decompress&&this._decompressMeshes(t),t.postProcess){var n=new u.default;n.postProcess(this.gltf,this.glbParser,t)}return this.gltf}},{key:\"getApplicationData\",value:function(e){return this.json?this.json[e]:null}},{key:\"getExtraData\",value:function(e){return(this.json.extras||{})[e]}},{key:\"getExtension\",value:function(e){var t=this.getUsedExtensions().find((function(t){return t===e})),r=this.json.extensions||{};return t?r[e]||!0:null}},{key:\"getRequiredExtension\",value:function(e){return this.getRequiredExtensions().find((function(t){return t===e}))?this.getExtension(e):null}},{key:\"getRequiredExtensions\",value:function(){return this.json.extensionsRequired||[]}},{key:\"getUsedExtensions\",value:function(){return this.json.extensionsUsed||[]}},{key:\"getScene\",value:function(e){return this._get(\"scenes\",e)}},{key:\"getNode\",value:function(e){return this._get(\"nodes\",e)}},{key:\"getSkin\",value:function(e){return this._get(\"skins\",e)}},{key:\"getMesh\",value:function(e){return this._get(\"meshes\",e)}},{key:\"getMaterial\",value:function(e){return this._get(\"materials\",e)}},{key:\"getAccessor\",value:function(e){return this._get(\"accessors\",e)}},{key:\"getCamera\",value:function(e){return null}},{key:\"getTexture\",value:function(e){return this._get(\"textures\",e)}},{key:\"getSampler\",value:function(e){return this._get(\"samplers\",e)}},{key:\"getImage\",value:function(e){return this._get(\"images\",e)}},{key:\"getBufferView\",value:function(e){return this._get(\"bufferViews\",e)}},{key:\"getBuffer\",value:function(e){return this._get(\"buffers\",e)}},{key:\"_get\",value:function(e,t){if(\"object\"===p(t))return t;var r=this.gltf[e]&&this.gltf[e][t];return r||console.warn(\"glTF file error: Could not find \".concat(e,\"[\").concat(t,\"]\")),r}},{key:\"_loadLinkedAssets\",value:(l=m(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.gltf.buffers.map((function(e){return r._loadBuffer(e,t)})));case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:\"_loadBuffer\",value:(c=m(regeneratorRuntime.mark((function e(t,r){var n,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.uri||!r.uri){e.next=11;break}return n=r.fetch||window.fetch,o=(0,i.getFullUri)(t.uri,r.uri),e.next=5,n(o);case 5:return a=e.sent,e.next=8,a.arrayBuffer();case 8:s=e.sent,t.data=s,t.uri=null;case 11:case\"end\":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)})},{key:\"_decompressMeshes\",value:function(e){if(e.DracoLoader&&e.decompress){var t,r=f(this.gltf.meshes||[]);try{for(r.s();!(t=r.n()).done;){var n,i=f(t.value.primitives);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(this._decompressKhronosDracoPrimitive(o,e),this._decompressUberDracoPrimitive(o,e),!o.attributes||0===Object.keys(o.attributes).length)throw new Error(\"Empty glTF primitive: decompression failure?\")}}catch(e){i.e(e)}finally{i.f()}}}catch(e){r.e(e)}finally{r.f()}this._removeExtension(a.KHR_DRACO_MESH_COMPRESSION),this._removeExtension(a.UBER_POINT_CLOUD_EXTENSION)}}},{key:\"_decompressKhronosDracoPrimitive\",value:function(e,t){var r=e.extensions&&e.extensions[a.KHR_DRACO_MESH_COMPRESSION];if(r){delete e.extensions[a.KHR_DRACO_MESH_COMPRESSION];var n=this._getBufferViewArray(r.bufferView),i=t.DracoLoader.parseSync(n);e.attributes=(0,o.getGLTFAccessors)(i.attributes),i.indices&&(e.indices=(0,o.getGLTFAccessor)(i.indices))}}},{key:\"_decompressUberDracoPrimitive\",value:function(e,t){var r=e.extensions&&e.extensions[a.UBER_POINT_CLOUD_EXTENSION];if(r){if(0!==e.mode)throw new Error(a.UBER_POINT_CLOUD_EXTENSION);delete e.extensions[a.UBER_POINT_CLOUD_EXTENSION];var n=this._getBufferViewArray(r.bufferView),i=t.DracoLoader.parseSync(n);e.attributes=i.attributes}}},{key:\"_getBufferViewArray\",value:function(e){var t=this.gltf.bufferViews[e];if(this.glbParser)return this.glbParser.getBufferView(t);var r=this.gltf.buffers[t.buffer].data,n=t.byteOffset||0;return new Uint8Array(r,n,t.byteLength)}},{key:\"_removeExtension\",value:function(e){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e]}},{key:\"_removeStringFromArray\",value:function(e,t){for(var r=!0;r;){var n=e.indexOf(t);n>-1?e.splice(n,1):r=!1}}}])&&g(t.prototype,r),n&&g(t,n),e}();t.GLTFParser=O},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getGLTFAccessors=function(e){var t={};for(var r in e){var n=e[r];if(\"indices\"!==r){var o=i(n);t[r]=o}}return t},t.getGLTFAccessor=i,t.getGLTFAttribute=function(e,t){return e.attributes[e.glTFAttributeMap[t]]};var n=r(40);function i(e,t){var r=function(e,t){var r=e,n=1,i=0;e&&e.value&&(r=e.value,n=e.size||1);r&&(ArrayBuffer.isView(r)||(r=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return null;if(Array.isArray(e))return new t(e);if(r&&!(e instanceof t))return new t(e);return e}(r,Float32Array)),i=r.length/n);return{buffer:r,size:n,count:i}}(e),i=r.buffer,o=r.size;return{value:i,size:o,bufferView:null,byteOffset:0,count:r.count,type:(0,n.getAccessorTypeFromSize)(o),componentType:(0,n.getComponentTypeFromArray)(i)}}},function(e,t,r){\"use strict\";function n(e){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(60),o=function(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!==n(e)&&\"function\"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(217)),a=r(40),s=c(r(218)),u=c(r(219));function c(e){return e&&e.__esModule?e:{default:e}}function f(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}var t,r,n;return t=e,n=[{key:\"isGLB\",value:function(e){var t=0;return(0,o.isGLB)(e,t)}}],(r=[{key:\"parse\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.parseSync(e,t)}},{key:\"parseSync\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.glbArrayBuffer=e,this.binaryByteOffset=null,this.packedJson=null,this.json=null,null===this.json&&null===this.binaryByteOffset){var r=0;(0,o.default)(this,this.glbArrayBuffer,r,t),this.binaryByteOffset=this.binChunkByteOffset,this.packedJson=this.json;var n=(0,u.default)(this.glbArrayBuffer,this.json,this.binaryByteOffset);this.json=(0,s.default)(this.json,n),this.unpackedBuffers=n}return this}},{key:\"getApplicationData\",value:function(e){return this.json?this.json[e]:null}},{key:\"getJSON\",value:function(){return this.json}},{key:\"getArrayBuffer\",value:function(){return this.glbArrayBuffer}},{key:\"getBinaryByteOffset\",value:function(){return this.binaryByteOffset}},{key:\"getBufferView\",value:function(e){var t=(e.byteOffset||0)+this.binaryByteOffset;return new Uint8Array(this.glbArrayBuffer,t,e.byteLength)}},{key:\"getBuffer\",value:function(e){var t=a.ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY[e.componentType],r=a.ATTRIBUTE_TYPE_TO_COMPONENTS[e.type],n=a.ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE[e.componentType],o=e.count*r,s=e.count*r*n,u=this.json.bufferViews[e.bufferView];(0,i.assert)(s>=0&&e.byteOffset+s<=u.byteLength);var c=u.byteOffset+this.binaryByteOffset+e.byteOffset;return new t(this.glbArrayBuffer,c,o)}},{key:\"getImageData\",value:function(e){return{typedArray:this.getBufferView(e.bufferView),mimeType:e.mimeType||\"image/jpeg\"}}},{key:\"getImage\",value:function(e){var t=this.getBufferView(e.bufferView),r=e.mimeType||\"image/jpeg\",n=new Blob([t],{type:r}),i=(self.URL||self.webkitURL).createObjectURL(n),o=new Image;return o.src=i,o}},{key:\"getImageAsync\",value:function(e){var t=this;return new Promise((function(r){var n=t.getBufferView(e.bufferView),i=e.mimeType||\"image/jpeg\",o=new Blob([n],{type:i}),a=(self.URL||self.webkitURL).createObjectURL(o),s=new Image;s.onload=function(){return r(s)},s.src=a}))}}])&&l(t.prototype,r),n&&l(t,n),e}();t.default=p},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.isGLB=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new DataView(e),i=r.magic,o=void 0===i?1735152710:i,a=n.getUint32(t,!1);return a===o||1735152710===a},t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=new DataView(t);e.type=i(s,r+0),e.version=s.getUint32(r+4,!0);var c=s.getUint32(r+8,!0);e.header={byteOffset:r,byteLength:c},\"glTF\"!==e.type&&console.warn(\"Invalid GLB magic string \".concat(e.type));return(0,n.assert)(2===e.version,\"Invalid GLB version \".concat(e.version,\". Only .glb v2 supported\")),(0,n.assert)(e.header.byteLength>20),e.json={},e.hasBinChunk=!1,e.binChunks=[],o(e,s,r+12,a),u(e),r+e.header.byteLength},r(37);var n=r(9);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return\"\".concat(String.fromCharCode(e.getUint8(t+0))).concat(String.fromCharCode(e.getUint8(t+1))).concat(String.fromCharCode(e.getUint8(t+2))).concat(String.fromCharCode(e.getUint8(t+3)))}function o(e,t,r,i){for(;r+8<=e.header.byteLength;){var o=t.getUint32(r+0,!0),u=t.getUint32(r+4,!0);switch(r+=8,u){case 1313821514:a(e,t,r,o,i);break;case 5130562:s(e,t,r,o,i)}switch(u){case 0:i.strict||a(e,t,r,o,i);break;case 1:i.strict||s(e,t,r,o,i)}r+=(0,n.padTo4Bytes)(o)}return r}function a(e,t,r,n,i){var o=new Uint8Array(t.buffer,r,n),a=new TextDecoder(\"utf8\").decode(o);e.json=JSON.parse(a)}function s(e,t,r,n,i){e.header.hasBinChunk=!0,e.binChunks.push({byteOffset:r,byteLength:n,arrayBuffer:t.buffer})}function u(e){e.byteOffset=e.header.byteOffset,e.magic=e.header.magic,e.version=e.header.version,e.byteLength=e.header.byteLength,e.hasBinChunk=e.binChunks.length>=1,e.binChunkByteOffset=e.header.hasBinChunk?e.binChunks[0].byteOffset:0,e.binChunkLength=e.header.hasBinChunk?e.binChunks[0].byteLength:0}},function(e,t,r){\"use strict\";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===r&&e.constructor&&(r=e.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(e);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){return(o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function a(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e,u=s(i,r);if(u)return u;if(Array.isArray(i))return i.map((function(e){return a(e,t,r,n)}));if(null!==i&&\"object\"===o(i)){var c={};for(var f in i)c[f]=a(i[f],t,r,n);return c}return i}function s(e,t){var r=function(e){if(\"string\"==typeof e){if(0===e.indexOf(\"##/\"))return e.slice(1);var t=e.match(/#\\/([a-z]+)\\/([0-9]+)/);if(t){var r=parseInt(t[2],10);return[t[1],r]}if(t=e.match(/\\$\\$\\$([0-9]+)/))return[\"accessors\",parseInt(t[1],10)]}return null}(e);if(r){var i=n(r,2),o=i[0],a=i[1],s=t[o]&&t[o][a];if(s)return s;console.error(\"Invalid JSON pointer \".concat(e,\": #/\").concat(o,\"/\").concat(a))}return null}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a(e,e,t,r)}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t,r){r&&(e=function(e,t){for(var r=e.byteLength-t,n=new ArrayBuffer(r),i=new Uint8Array(e),o=new Uint8Array(n),a=0;a<r;a++)o[a]=i[t+a];return n}(e,r));for(var i=t.bufferViews||[],s=0;s<i.length;++s){var u=i[s];(0,n.assert)(u.byteLength>=0)}return{accessors:o(e,i,t),images:a(e,i,t)}};var n=r(60),i=r(40);function o(e,t,r){for(var o=r.accessors||[],a=[],s=0;s<o.length;++s){var u=o[s];(0,n.assert)(u);var c=t[u.bufferView];if(c){var f=(0,i.getAccessorArrayTypeAndLength)(u,c),l=f.ArrayType,p=f.length,h=new l(e,c.byteOffset,p);h.accessor=u,a.push(h)}}return a}function a(e,t,r){for(var i=r.images||[],o=[],a=0;a<i.length;++a){var s=i[a];(0,n.assert)(s);var u=t[s.bufferView];(0,n.assert)(u);var c=new Uint8Array(e,u.byteOffset,u.byteLength);c.imate=s,o.push(c)}return o}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n,i=r(40);function o(e,t){var r;if(\"undefined\"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if(\"string\"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===r&&e.constructor&&(r=e.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(e);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&\"number\"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,s=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e){return(s=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},l={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},p={TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,REPEAT:10497,LINEAR:9729,NEAREST_MIPMAP_LINEAR:9986},h={magFilter:p.TEXTURE_MAG_FILTER,minFilter:p.TEXTURE_MIN_FILTER,wrapS:p.TEXTURE_WRAP_S,wrapT:p.TEXTURE_WRAP_T},d=(c(n={},p.TEXTURE_MAG_FILTER,p.LINEAR),c(n,p.TEXTURE_MIN_FILTER,p.NEAREST_MIPMAP_LINEAR),c(n,p.TEXTURE_WRAP_S,p.REPEAT),c(n,p.TEXTURE_WRAP_,p.REPEAT),n);var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e)}var t,r,n;return t=e,(r=[{key:\"postProcess\",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.gltf=e,this.glbParser=t,this._resolveToTree(r),this.gltf}},{key:\"_resolveToTree\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.gltf;return(r.bufferViews||[]).forEach((function(t,r){return e._resolveBufferView(t,r)})),(r.images||[]).forEach((function(r,n){return e._resolveImage(r,n,t)})),(r.samplers||[]).forEach((function(t,r){return e._resolveSampler(t,r)})),(r.textures||[]).forEach((function(t,r){return e._resolveTexture(t,r)})),(r.accessors||[]).forEach((function(t,r){return e._resolveAccessor(t,r)})),(r.materials||[]).forEach((function(t,r){return e._resolveMaterial(t,r)})),(r.meshes||[]).forEach((function(t,r){return e._resolveMesh(t,r)})),(r.nodes||[]).forEach((function(t,r){return e._resolveNode(t,r)})),(r.skins||[]).forEach((function(t,r){return e._resolveSkin(t,r)})),(r.scenes||[]).forEach((function(t,r){return e._resolveScene(t,r)})),void 0!==r.scene&&(r.scene=r.scenes[this.gltf.scene]),this._process_extension_KHR_lights_punctual(),r}},{key:\"getScene\",value:function(e){return this._get(\"scenes\",e)}},{key:\"getNode\",value:function(e){return this._get(\"nodes\",e)}},{key:\"getSkin\",value:function(e){return this._get(\"skins\",e)}},{key:\"getMesh\",value:function(e){return this._get(\"meshes\",e)}},{key:\"getMaterial\",value:function(e){return this._get(\"materials\",e)}},{key:\"getAccessor\",value:function(e){return this._get(\"accessors\",e)}},{key:\"getCamera\",value:function(e){return null}},{key:\"getTexture\",value:function(e){return this._get(\"textures\",e)}},{key:\"getSampler\",value:function(e){return this._get(\"samplers\",e)}},{key:\"getImage\",value:function(e){return this._get(\"images\",e)}},{key:\"getBufferView\",value:function(e){return this._get(\"bufferViews\",e)}},{key:\"getBuffer\",value:function(e){return this._get(\"buffers\",e)}},{key:\"_get\",value:function(e,t){if(\"object\"===s(t))return t;var r=this.gltf[e]&&this.gltf[e][t];return r||console.warn(\"glTF file error: Could not find \".concat(e,\"[\").concat(t,\"]\")),r}},{key:\"_resolveScene\",value:function(e,t){var r=this;e.id=\"scene-\".concat(t),e.nodes=(e.nodes||[]).map((function(e){return r.getNode(e)}))}},{key:\"_resolveNode\",value:function(e,t){var r=this;e.id=\"node-\".concat(t),e.children=(e.children||[]).map((function(e){return r.getNode(e)})),void 0!==e.mesh&&(e.mesh=this.getMesh(e.mesh)),void 0!==e.camera&&(e.camera=this.getCamera(e.camera)),void 0!==e.skin&&(e.skin=this.getSkin(e.skin))}},{key:\"_resolveSkin\",value:function(e,t){e.id=\"skin-\".concat(t),e.inverseBindMatrices=this.getAccessor(e.inverseBindMatrices)}},{key:\"_resolveMesh\",value:function(e,t){e.id=\"mesh-\".concat(t);var r,n=o(e.primitives);try{for(n.s();!(r=n.n()).done;){var i=r.value;for(var a in i.attributes)i.attributes[a]=this.getAccessor(i.attributes[a]);void 0!==i.indices&&(i.indices=this.getAccessor(i.indices)),void 0!==i.material&&(i.material=this.getMaterial(i.material))}}catch(e){n.e(e)}finally{n.f()}}},{key:\"_resolveMaterial\",value:function(e,t){if(e.id=\"material-\".concat(t),e.normalTexture&&(e.normalTexture.texture=this.getTexture(e.normalTexture.index)),e.occlusionTexture&&(e.occlusionTexture.texture=this.getTexture(e.occlusionTexture.index)),e.emissiveTexture&&(e.emissiveTexture.texture=this.getTexture(e.emissiveTexture.index)),e.pbrMetallicRoughness){var r=e.pbrMetallicRoughness;r.baseColorTexture&&(r.baseColorTexture.texture=this.getTexture(r.baseColorTexture.index)),r.metallicRoughnessTexture&&(r.metallicRoughnessTexture.texture=this.getTexture(r.metallicRoughnessTexture.index))}}},{key:\"_resolveAccessor\",value:function(e,t){e.id=\"accessor-\".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),e.bytesPerComponent=l[e],e.components=f[e],e.bytesPerElement=e.bytesPerComponent*e.components}},{key:\"_resolveTexture\",value:function(e,t){e.id=\"texture-\".concat(t),e.sampler=\"sampler\"in e?this.getSampler(e.sampler):d,e.source=this.getImage(e.source)}},{key:\"_resolveSampler\",value:function(e,t){for(var r in e.id=\"sampler-\".concat(t),e.parameters={},e){var n=this._enumSamplerParameter(r);void 0!==n&&(e.parameters[n]=e[r])}}},{key:\"_enumSamplerParameter\",value:function(e){return h[e]}},{key:\"_resolveImage\",value:function(e,t,r){var n=this;e.id=\"image-\".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView));var o=r.createImages;void 0===o||o?e.image=this.glbParser.getImage(e):e.getImageAsync=function(){return n.glbParser?n.glbParser.getImageAsync(e):e.uri?new Promise((function(t){var n=new Image;n.crossOrigin=\"anonymous\",n.onload=function(){return t(n)},n.src=(0,i.getFullUri)(e.uri,r.uri)})):null}}},{key:\"_resolveBufferView\",value:function(e,t){if(e.id=\"bufferView-\".concat(t),e.buffer=this.getBuffer(e.buffer),this.glbParser)e.data=this.glbParser.getBufferView(e);else{var r=e.byteOffset||0;e.data=new Uint8Array(e.buffer.data,r,e.byteLength)}}},{key:\"_resolveCamera\",value:function(e){e.perspective,e.orthographic}},{key:\"_process_extension_KHR_lights_punctual\",value:function(){var e=this.gltf,t=e.extensions&&e.extensions.KHR_lights_punctual;t&&(e.lights=t.lights),this._removeExtension(\"KHR_lights_punctual\");var r,n=o(e.nodes||[]);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=i.extensions&&i.extensions.KHR_lights_punctual;a&&(i.light=this._get(\"lights\",a.light),delete i.extensions.KHR_lights_punctual)}}catch(e){n.e(e)}finally{n.f()}delete e.lights}},{key:\"_removeExtension\",value:function(e){this.gltf.extensionsRequired&&this._removeStringFromArray(this.gltf.extensionsRequired,e),this.gltf.extensionsUsed&&this._removeStringFromArray(this.gltf.extensionsUsed,e),this.gltf.extensions&&delete this.gltf.extensions[e]}},{key:\"_removeStringFromArray\",value:function(e,t){for(var r=!0;r;){var n=e.indexOf(t);n>-1?e.splice(n,1):r=!1}}}])&&u(t.prototype,r),n&&u(t,n),e}();t.default=y},function(e,t,r){\"use strict\";function n(e){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var i=l(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||\"object\"!==n(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.XVIZBinaryReader=void 0;var p=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(r,e);var t=c(r);function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(this,r),t.call(this,e,o(o({},n),{},{suffix:\"-frame.glb\"}))}return r}(r(87).XVIZBaseReader);t.XVIZBinaryReader=p},function(e,t,r){\"use strict\";function n(e){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var i=l(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){return!t||\"object\"!==n(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.XVIZProtobufReader=void 0;var p=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(r,e);var t=c(r);function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(this,r),t.call(this,e,o(o({},n),{},{suffix:\"-frame.pbe\"}))}return r}(r(87).XVIZBaseReader);t.XVIZProtobufReader=p},function(e,t,r){\"use strict\";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.MemorySourceSink=void 0;var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.data=new Map}var t,r,i;return t=e,(r=[{key:\"readSync\",value:function(e){return this.data.get(e)}},{key:\"writeSync\",value:function(e,t){ArrayBuffer.isView(t)&&t.length&&t.buffer?this.data.set(e,t.buffer):this.data.set(e,t)}},{key:\"existsSync\",value:function(e){return this.data.has(e)}},{key:\"close\",value:function(){}},{key:\"entries\",value:function(){return this.data.entries()}},{key:\"has\",value:function(e){return this.data.has(e)}}])&&n(t.prototype,r),i&&n(t,i),e}();t.MemorySourceSink=i},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.XVIZEnvelope=void 0;var n=r(44),i=r(88);function o(e,t){return{type:\"\".concat(n.XVIZ_MESSAGE_NAMESPACE,\"/\").concat(e),data:t}}var a={Metadata:function(e){return o(i.XVIZ_MESSAGE_TYPE.METADATA,e)},StateUpdate:function(e){return o(i.XVIZ_MESSAGE_TYPE.STATE_UPDATE,e)},Error:function(e){return o(i.XVIZ_MESSAGE_TYPE.ERROR,e)},TransformLogDone:function(e){return o(i.XVIZ_MESSAGE_TYPE.TRANSFORM_LOG_DONE,e)}};t.XVIZEnvelope=a},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.XVIZProviderFactory=t.XVIZProviderFactoryClass=void 0;var n=r(128),i=r(129),o=r(130);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r;if(\"undefined\"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if(\"string\"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===r&&e.constructor&&(r=e.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(e);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e))||t&&e&&\"number\"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){p(o,n,i,a,s,\"next\",e)}function s(e){p(o,n,i,a,s,\"throw\",e)}a(void 0)}))}}function d(e,t){return y.apply(this,arguments)}function y(){return(y=h(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,n=new t(r),e.next=4,n.init();case 4:if(!n.valid()){e.next=6;break}return e.abrupt(\"return\",n);case 6:return e.abrupt(\"return\",null);case 7:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.providerClasses=[{className:n.XVIZJSONProvider},{className:i.XVIZBinaryProvider},{className:o.XVIZProtobufProvider}]}var t,r,a,u;return t=e,(r=[{key:\"addProviderClass\",value:function(e,t){this.providerClasses.push({className:e,args:t})}},{key:\"open\",value:(u=h(regeneratorRuntime.mark((function e(t){var r,n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=c(this.providerClasses),e.prev=1,r.s();case 3:if((n=r.n()).done){e.next=13;break}return i=n.value,o=s(s({},t.options),i.args),e.next=8,d(i.className,s(s({},t),{},{options:o}));case 8:if(!(a=e.sent)){e.next=11;break}return e.abrupt(\"return\",a);case 11:e.next=3;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt(\"return\",null);case 22:case\"end\":return e.stop()}}),e,this,[[1,15,18,21]])}))),function(e){return u.apply(this,arguments)})}])&&l(t.prototype,r),a&&l(t,a),e}();t.XVIZProviderFactoryClass=v;var m=new v;t.XVIZProviderFactory=m},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.parseVideoMessageV1=function e(t,r,n){if(t instanceof Blob)return void(0,o.blobToArrayBuffer)(t).then((function(t){e(t,r,n)})).catch(n);try{var i=t;\"string\"==typeof t&&(i=JSON.parse(t));var a=s(i);r(a)}catch(e){n(e)}},t.parseStreamVideoData=s,t.parseVideoFrame=u;var n=r(36),i=r(227),o=r(229),a=r(131);function s(e){return e instanceof ArrayBuffer?u(e):\"metadata\"===e.type?function(e){var t=(0,a.parseLogMetadata)(e);return t.type=n.XVIZ_MESSAGE_TYPE.VIDEO_METADATA,t}(e):{type:n.XVIZ_MESSAGE_TYPE.ERROR,message:\"Unknown stream data type\",data:e}}function u(e){var t=new DataView(e),r={type:n.XVIZ_MESSAGE_TYPE.VIDEO_FRAME},o=new i.TextDecoder(\"utf-8\"),a=0;r.version=t.getUint32(a,!0),a+=4,r.versionFlags=t.getUint32(a,!0);var s=(a+=4)+4;a+=4+t.getUint32(a,!0),r.stream=o.decode(e.slice(s,a)),r.timestamp=t.getFloat64(a,!0),a+=8;var u=t.getUint32(a,!0);return a+=4,r.imageData=e.slice(a,a+u),r.imageType=\"image/jpeg\",r}},function(e,t,r){\"use strict\";\"undefined\"==typeof TextDecoder&&r(228),e.exports={TextEncoder:TextEncoder,TextDecoder:TextDecoder}},function(e,t){},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.blobToArrayBuffer=function(e){return new Promise((function(t,r){var n,i=new FileReader;i.onload=function(e){n=e.target.result},i.onloadend=function(e){return t(n)},i.onerror=r,i.readAsArrayBuffer(e)}))}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){var r,s=(0,n.getXVIZConfig)().PRIMARY_POSE_STREAM,c=e.vehicle_pose,f=e.state_updates,l=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,[\"vehicle_pose\",\"state_updates\"]);c?r=c.time:f&&(r=f.reduce((function(e,t){return Math.max(e,t.timestamp)}),0));if(!r)return{type:i.XVIZ_MESSAGE_TYPE.INCOMPLETE};var p={},h=u(u({},l),{},{type:i.XVIZ_MESSAGE_TYPE.TIMESLICE,streams:p,timestamp:r});if(f){var d=function(e,t,r){var i,s=(0,n.getXVIZConfig)().STREAM_BLACKLIST,u={},c={},f={},l={},p=function(e,t){var r;if(\"undefined\"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if(\"string\"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===r&&e.constructor&&(r=e.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(e);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&\"number\"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,s=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}(e);try{for(p.s();!(i=p.n()).done;){var h=i.value;Object.assign(c,h.primitives),Object.assign(f,h.variables),Object.assign(l,h.futures)}}catch(e){p.e(e)}finally{p.f()}return Object.keys(c).filter((function(e){return!s.has(e)})).forEach((function(e){u[e]=(0,o.parseStreamPrimitive)(c[e],e,t,r)})),Object.keys(f).filter((function(e){return!s.has(e)})).forEach((function(e){u[e]=(0,o.parseStreamVariable)(f[e],e,t)})),Object.keys(l).filter((function(e){return!s.has(e)})).forEach((function(e){u[e]=(0,o.parseStreamFutures)(l[e],e,t,r)})),u}(f,r,t);Object.assign(p,d)}c&&(p[s]=c);return h};var n=r(24),i=r(36),o=r(133);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.isMainThread=void 0;var n=\"undefined\"!=typeof document;t.isMainThread=n},function(e,t){},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n=r(135),i=r(90),o={text:{category:i.PRIMITIVE_CAT.LABEL,validate:function(e){return!0}},tree_table:{category:i.PRIMITIVE_CAT.COMPONENT,validate:function(e){return!0}},points3d:{category:i.PRIMITIVE_CAT.POINTCLOUD,validate:function(e,t,r){return e.vertices&&e.vertices.length>0}},points2d:{category:i.PRIMITIVE_CAT.FEATURE,validate:function(e,t,r){return e.vertices&&e.vertices.length>0},normalize:function(e){for(var t=0;t<e.vertices.length;t++)e.vertices[t][2]=0}},point2d:{category:i.PRIMITIVE_CAT.FEATURE,enableZOffSet:!0,validate:function(e,t,r){return e.vertices&&1===e.vertices.length},normalize:function(e){e.vertices=e.vertices[0]}},line2d:{category:i.PRIMITIVE_CAT.FEATURE,enableZOffset:!0,validate:function(e,t,r){return e.vertices&&e.vertices.length>=2&&\"/route_follower/kickout/object/velocity\"!==t},normalize:function(e){e.vertices=(0,n.filterVertices)(e.vertices)}},polygon2d:{category:i.PRIMITIVE_CAT.FEATURE,enableZOffset:!0,validate:function(e,t,r){return e.vertices&&e.vertices.length>=3},normalize:function(e){Array.isArray(e.vertices)&&e.vertices.push(e.vertices[0])}},circle:{category:i.PRIMITIVE_CAT.FEATURE,enableZOffset:!0,validate:function(e,t,r){return e.vertices&&e.vertices.length>0}},circle2d:{category:i.PRIMITIVE_CAT.FEATURE,enableZOffset:!0,validate:function(e,t,r){return e.center},normalize:function(e){e.vertices=e.center}}};t.default=o},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var n,i=r(135),o=r(90),a=(n=r(70))&&n.__esModule?n:{default:n};function s(e){e&&e.base&&e.base.object_id&&(e.id=e.base.object_id)}var u={text:{category:o.PRIMITIVE_CAT.FEATURE,validate:function(e){return!0},normalize:function(e){s(e)}},circle:{category:o.PRIMITIVE_CAT.FEATURE,validate:function(e){return e.center},normalize:function(e){s(e)}},stadium:{category:o.PRIMITIVE_CAT.FEATURE,validate:function(e){return e.start&&e.end},normalize:function(e){s(e)}},polyline:{category:o.PRIMITIVE_CAT.FEATURE,validate:function(e,t,r){return e.vertices&&e.vertices.length>=2},normalize:function(e){e.vertices=(0,i.filterVertices)(e.vertices),s(e)}},polygon:{category:o.PRIMITIVE_CAT.FEATURE,validate:function(e,t,r){return e.vertices&&e.vertices.length>=3},normalize:function(e){s(e)}},point:{category:o.PRIMITIVE_CAT.POINTCLOUD,validate:function(e,t,r){return e.points&&e.points.length>0},normalize:function(e){e.vertices=e.points,s(e)}},image:{category:o.PRIMITIVE_CAT.IMAGE,validate:function(e,t,r){return e.data},normalize:function(e){var t=e.data;delete e.data,\"string\"==typeof t&&(t=a.default.toByteArray(t));var r=e.format?\"image/\".concat(e.format):null;e.imageData=t,e.imageType=r,e.position&&(e.vertices=e.position),s(e)}}};t.default=u},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){var r=e.update_type,n=e.updates,p=i.STATE_UPDATE_TYPE[r.toUpperCase()];if(!p)return c.default.error('update_type of \"'.concat(r,'\" is not supported.'))(),{type:i.XVIZ_MESSAGE_TYPE.INCOMPLETE,message:\"Unsupported update type\"};if(!n)return{type:i.XVIZ_MESSAGE_TYPE.INCOMPLETE,message:'Missing required \"updates\" property'};if(n&&0===n.length)return{type:i.XVIZ_MESSAGE_TYPE.INCOMPLETE,message:'Property \"updates\" has length of 0, no data?'};n.length>1&&c.default.warn('Only XVIZ first update of \"snapshot\" is currently supported. Current updates has \"'.concat(n.length,'\" entries.'))();var h=n,d=null;h&&(d=h.reduce((function(e,t){return e?Math.max(e,t.timestamp):t&&t.timestamp}),null));if(!Number.isFinite(d))return{type:i.XVIZ_MESSAGE_TYPE.INCOMPLETE,message:'Missing timestamp in \"updates\"'};var y={type:i.XVIZ_MESSAGE_TYPE.TIMESLICE,updateType:p,streams:{},links:{},timestamp:d};if(h){var v=function(e,t,r){var n,i=(0,o.getXVIZConfig)().STREAM_BLACKLIST,c={},p={},h={},d={},y={},v=[],m={},g={},b=[],O=function(e,t){var r;if(\"undefined\"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=l(e))||t&&e&&\"number\"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(e);try{for(O.s();!(n=O.n()).done;){var _=n.value;Object.assign(p,_.links),Object.assign(h,_.poses),Object.assign(d,_.primitives),Object.assign(y,_.variables),Object.assign(m,_.future_instances),Object.assign(g,_.ui_primitives),_.time_series&&v&&v.push.apply(v,f(_.time_series)),_.no_data_streams&&b.push.apply(b,f(_.no_data_streams))}}catch(e){O.e(e)}finally{O.f()}if(Object.keys(p).filter((function(e){return!i.has(e)})).forEach((function(e){p[e]=(0,s.parseXVIZLink)(p[e])})),Object.keys(h).filter((function(e){return!i.has(e)})).forEach((function(e){c[e]=(0,a.parseXVIZPose)(h[e])})),Object.keys(d).filter((function(e){return!i.has(e)})).forEach((function(e){c[e]=(0,u.parseStreamPrimitive)(d[e],e,t,r)})),Object.keys(y).filter((function(e){return!i.has(e)})).forEach((function(e){c[e]=(0,u.parseStreamVariable)(y[e],e,t)})),v.length){var w=(0,u.parseStreamTimeSeries)(v,i);Object.assign(c,w)}Object.keys(m).filter((function(e){return!i.has(e)})).forEach((function(e){c[e]=(0,u.parseStreamFutures)(m[e],e,t,r)})),Object.keys(g).filter((function(e){return!i.has(e)})).forEach((function(e){c[e]=(0,u.parseStreamUIPrimitives)(g[e],e,t)})),b.length&&b.forEach((function(e){return c[e]=null}));return{streams:c,links:p}}(h,d,t),m=v.streams,g=v.links;Object.assign(y.streams,m),Object.assign(y.links,g)}return y};var n,i=r(36),o=r(24),a=r(236),s=r(237),u=r(133),c=(n=r(134))&&n.__esModule?n:{default:n};function f(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||l(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function l(e,t){if(e){if(\"string\"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.parseXVIZPose=function(e){var t=e.mapOrigin,r=e.map_origin,i=e.position,a=e.orientation,u=e.timestamp,c=r||t,f={timestamp:u};if(c){var l=c.longitude,p=c.latitude,h=c.altitude;Object.assign(f,{longitude:l,latitude:p,altitude:h})}if(i){var d=s(i,3),y=d[0],v=d[1],m=d[2];Object.assign(f,{x:y,y:v,z:m})}if(a){var g=s(a,3),b=g[0],O=g[1],_=g[2];Object.assign(f,{roll:b,pitch:O,yaw:_})}(0,n.getXVIZConfig)().DYNAMIC_STREAM_METADATA&&(f.__metadata={category:\"POSE\"});return o(o({},e),f)};var n=r(24);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===r&&e.constructor&&(r=e.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(e);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){\"use strict\";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,\"__esModule\",{value:!0}),t.parseXVIZLink=function(e){var t=e.target_pose,r=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,[\"target_pose\"]);if(!t)throw new Error(\"Link must define a target_pose\");return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({target_pose:t},r)}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.preSerialize=function(e){return e},t.postDeserialize=function(e){if(e.type!==i.XVIZ_MESSAGE_TYPE.TIMESLICE)return e;var t=(0,o.getXVIZConfig)().OBJECT_STREAM,r=e.streams,n=e.timestamp;if(t)return s(r[t],n),e;for(var a in r){var u=r[a];u&&u.features&&u.features.length&&u.features[0].id&&s(u,n)}return e};var n,i=r(36),o=r(24),a=(n=r(59))&&n.__esModule?n:{default:n};function s(e,t){e&&e.features.forEach((function(e){a.default.observe(e.id,t)}))}},function(e,t,r){\"use strict\";function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}function a(e){return(a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function s(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,n=r||new Set;if(e){if(e instanceof ArrayBuffer)n.add(e);else if(e.buffer&&e.buffer instanceof ArrayBuffer)n.add(e.buffer);else if(t&&\"object\"===a(e))for(var i in e)s(e[i],!1,n)}else;return void 0===r?Array.from(n):null}Object.defineProperty(t,\"__esModule\",{value:!0}),t.getTransferList=s,t.WorkerFarm=void 0;var u=function(){function e(t){var r=t.url,i=t.metadata;n(this,e),this.worker=new Worker(r),this.isBusy=!1,this.metadata=i}return o(e,[{key:\"process\",value:function(e){var t=this,r=this.worker;return new Promise((function(n,i){r.onmessage=function(e){t.isBusy=!1,n(e.data)},r.onerror=function(e){t.isBusy=!1,i(e)},t.isBusy=!0,r.postMessage(e,s(e))}))}},{key:\"terminate\",value:function(){this.worker.terminate(),this.worker=null}}]),e}(),c=function(){function e(t){var r=t.workerURL,i=t.maxConcurrency,o=void 0===i?1:i,a=t.debug,s=void 0===a?function(){}:a,c=t.initialMessage,f=void 0===c?null:c,l=t.capacity,p=void 0===l?null:l,h=t.id,d=void 0===h?\"default\":h;n(this,e),this.id=d,this.workerURL=r,this.workers=[],this.queue=[],this.debug=s,this.capacity=p,this.dropped=0;for(var y=0;y<o;y++)this.workers[y]=new u({url:this.workerURL,metadata:{name:\"\".concat(y,\"/\").concat(o)}});f&&this.broadcast(f)}return o(e,[{key:\"destroy\",value:function(){this.workers.forEach((function(e){return e.terminate()}))}},{key:\"getAvailableWorker\",value:function(){return this.workers.find((function(e){return!e.isBusy}))}},{key:\"broadcast\",value:function(e){for(var t=this.workers.length-1;t>=0;t--)this.workers[t].worker.postMessage(e,s(e))}},{key:\"next\",value:function(){for(var e=this,t=this.queue;this.capacity&&t.length>this.capacity;)t.shift(),this.dropped++;for(var r=function(){var r=e.getAvailableWorker();if(!r)return\"break\";var n=t.shift();e.debug({id:e.id,message:\"processing\",worker:r.metadata.name,backlog:t.length,dropped:e.dropped}),r.process(n.data).then(n.onResult).catch(n.onError).then((function(){e.debug({id:e.id,message:\"waiting\",worker:r.metadata.name,backlog:t.length,dropped:e.dropped}),e.next()}))};t.length;){if(\"break\"===r())break}}},{key:\"process\",value:function(e,t,r){this.queue.push({data:e,onResult:t,onError:r}),this.next()}}]),e}();t.WorkerFarm=c},function(e,t,r){\"use strict\";r.r(t),r.d(t,\"fetchFile\",(function(){return S})),r.d(t,\"readFileSync\",(function(){return R})),r.d(t,\"writeFile\",(function(){return N})),r.d(t,\"writeFileSync\",(function(){return V})),r.d(t,\"setLoaderOptions\",(function(){return G})),r.d(t,\"registerLoaders\",(function(){return re})),r.d(t,\"parse\",(function(){return wt})),r.d(t,\"parseSync\",(function(){return St})),r.d(t,\"parseInBatches\",(function(){return Tt})),r.d(t,\"selectLoader\",(function(){return ht})),r.d(t,\"load\",(function(){return Rt})),r.d(t,\"loadInBatches\",(function(){return Nt})),r.d(t,\"encode\",(function(){return Dt})),r.d(t,\"encodeSync\",(function(){return Ct})),r.d(t,\"encodeInBatches\",(function(){return Ft})),r.d(t,\"save\",(function(){return Bt})),r.d(t,\"saveSync\",(function(){return Ut})),r.d(t,\"isPromise\",(function(){return l})),r.d(t,\"isIterable\",(function(){return p})),r.d(t,\"isAsyncIterable\",(function(){return h})),r.d(t,\"isIterator\",(function(){return d})),r.d(t,\"isResponse\",(function(){return y})),r.d(t,\"isReadableStream\",(function(){return m})),r.d(t,\"isWritableStream\",(function(){return g})),r.d(t,\"toArrayBuffer\",(function(){return Qe})),r.d(t,\"makeIterator\",(function(){return _e})),r.d(t,\"forEach\",(function(){return je})),r.d(t,\"makeTextDecoderIterator\",(function(){return zt.c})),r.d(t,\"makeTextEncoderIterator\",(function(){return zt.d})),r.d(t,\"makeLineIterator\",(function(){return zt.a})),r.d(t,\"makeNumberedLineIterator\",(function(){return zt.b})),r.d(t,\"concatenateChunksAsync\",(function(){return Se})),r.d(t,\"isBrowser\",(function(){return T.c})),r.d(t,\"isWorker\",(function(){return T.d})),r.d(t,\"self\",(function(){return T.f})),r.d(t,\"window\",(function(){return T.g})),r.d(t,\"global\",(function(){return T.b})),r.d(t,\"document\",(function(){return T.a})),r.d(t,\"assert\",(function(){return _.a})),r.d(t,\"setPathPrefix\",(function(){return a.d})),r.d(t,\"getPathPrefix\",(function(){return a.b})),r.d(t,\"resolvePath\",(function(){return a.c})),r.d(t,\"RequestScheduler\",(function(){return $t.a})),r.d(t,\"_WorkerThread\",(function(){return Ge})),r.d(t,\"_WorkerFarm\",(function(){return We})),r.d(t,\"_WorkerPool\",(function(){return Je})),r.d(t,\"_fetchProgress\",(function(){return Zt})),r.d(t,\"_unregisterLoaders\",(function(){return ie}));var n=r(0),i=r.n(n),o=r(2),a=r(39),s=r(7),u=function(e){return\"boolean\"==typeof e},c=function(e){return\"function\"==typeof e},f=function(e){return null!==e&&\"object\"===Object(s.a)(e)},l=function(e){return f(e)&&c(e.then)},p=function(e){return e&&\"function\"==typeof e[Symbol.iterator]},h=function(e){return e&&\"function\"==typeof e[Symbol.asyncIterator]},d=function(e){return e&&c(e.next)},y=function(e){return\"undefined\"!=typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json},v=function(e){return\"undefined\"!=typeof Blob&&e instanceof Blob},m=function(e){return function(e){return\"undefined\"!=typeof ReadableStream&&e instanceof ReadableStream||f(e)&&c(e.tee)&&c(e.cancel)&&c(e.getReader)}(e)||function(e){return f(e)&&c(e.read)&&c(e.pipe)&&u(e.readable)}(e)},g=function(e){return function(e){return f(e)&&c(e.abort)&&c(e.getWriter)}(e)||function(e){return f(e)&&c(e.end)&&c(e.write)&&u(e.writable)}(e)},b=r(6),O=r(5),_=r(45),w=function(){function e(t,r){Object(b.a)(this,e),this._fileOrBlob=t,this.bodyUsed=!1}var t,r,n;return Object(O.a)(e,[{key:\"arrayBuffer\",value:(n=Object(o.a)(i.a.mark((function e(){var t,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getFileReader(),r=t.reader,n=t.promise,r.readAsArrayBuffer(this._fileOrBlob),e.abrupt(\"return\",n);case 3:case\"end\":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:\"text\",value:(r=Object(o.a)(i.a.mark((function e(){var t,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._getFileReader(),r=t.reader,n=t.promise,r.readAsText(this._fileOrBlob),e.abrupt(\"return\",n);case 3:case\"end\":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:\"json\",value:(t=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.text();case 2:return t=e.sent,e.abrupt(\"return\",JSON.parse(t));case 4:case\"end\":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:\"_getFileReader\",value:function(){Object(_.a)(!this.bodyUsed),this.bodyUsed=!0;var e=new FileReader,t=new Promise((function(t,r){try{e.onerror=function(e){return r(new Error(\"Read error\"))},e.onabort=function(){return r(new Error(\"Read aborted.\"))},e.onload=function(){return t(e.result)}}catch(e){r(e)}}));return{reader:e,promise:t}}},{key:\"headers\",get:function(){return new Headers({\"Content-Length\":this._fileOrBlob.size,\"Content-Type\":this._fileOrBlob.type})}},{key:\"ok\",get:function(){return!0}},{key:\"status\",get:function(){return 200}},{key:\"url\",get:function(){return this._fileOrBlob.name||\"\"}}]),e}();function E(e,t){return Promise.resolve(new w(e,t))}function j(e){return P.apply(this,arguments)}function P(){return(P=Object(o.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=\"Failed to fetch resource \".concat(t.url,\" (\").concat(t.status,\"): \"),e.prev=1,!t.headers.get(\"Content-Type\").includes(\"application/json\")){e.next=10;break}return e.t0=r,e.next=7,t.text();case 7:r=e.t0+=e.sent,e.next=11;break;case 10:r+=t.statusText;case 11:e.next=16;break;case 13:return e.prev=13,e.t1=e.catch(1),e.abrupt(\"return\",r);case 16:return e.abrupt(\"return\",r);case 17:case\"end\":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function S(e){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(i.a.mark((function e(t){var r,n,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:{},!v(t)){e.next=3;break}return e.abrupt(\"return\",E(t,r));case 3:return t=Object(a.c)(t),e.next=6,fetch(t,r);case 6:if((n=e.sent).ok||!r.throws){e.next=13;break}return e.t0=Error,e.next=11,j(n);case 11:throw e.t1=e.sent,new e.t0(e.t1);case 13:return e.abrupt(\"return\",n);case 14:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var T=r(18),A=r(92),x={dataType:\"arraybuffer\",nothrow:!0};function I(e,t){return t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e=Object.assign({},x,e)).responseType=e.responseType||e.dataType,e}(t),e.startsWith(\"data:\"),t.nothrow||Object(_.a)(!1),null}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=Object(a.c)(e),!T.c&&A.readFileSync?A.readFileSync(e,t):I(e,t)}var M=r(58);function N(e,t,r){return e=Object(a.c)(e),!T.c&&M.writeFile?M.writeFile(e,t,r):Object(_.a)(!1)}function V(e,t,r){return e=Object(a.c)(e),!T.c&&M.writeFileSync?M.writeFileSync(e,t,r):Object(_.a)(!1)}var D=r(15),L=function(){function e(){Object(b.a)(this,e)}return Object(O.a)(e,[{key:\"log\",value:function(){return function(e){}}},{key:\"info\",value:function(){return function(e){}}},{key:\"warn\",value:function(){return function(e){}}},{key:\"error\",value:function(){return function(e){}}}]),e}(),C={CDN:\"https://unpkg.com/@loaders.gl\",worker:!0,log:new(function(){function e(){Object(b.a)(this,e),this.console=console}return Object(O.a)(e,[{key:\"log\",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.log).bind.apply(e,[this.console].concat(r))}},{key:\"info\",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.info).bind.apply(e,[this.console].concat(r))}},{key:\"warn\",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.warn).bind.apply(e,[this.console].concat(r))}},{key:\"error\",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.console.error).bind.apply(e,[this.console].concat(r))}}]),e}()),dataType:\"arraybuffer\",metadata:!1};function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){Object(D.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var U=function(e){return e&&\"object\"===Object(s.a)(e)&&e.constructor==={}.constructor},z=function(){T.b.loaders=T.b.loaders||{};var e=T.b.loaders;return e._state=e._state||{},e._state},$=function(){var e=z();return e.globalOptions=e.globalOptions||B({},C),e.globalOptions};function Z(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return X(e,t,n),q(e,t,r)}function X(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console;if(r)for(var i in t)\"object\"===Object(s.a)(t[i])||r[i]||n.warn(\"Top-level loader option \".concat(i,\" not recognized\"));var o=t&&t[e.id]||{},a=e.options&&e.options[e.id]||{},u=e.defaultOptions&&e.defaultOptions[e.id]||{};for(var c in o)c in a||(c in u?n.warn(\"\".concat(e.name,\" loader option \").concat(e.id,\".\").concat(c,\" deprecated, use \").concat(u[c])):n.warn(\"\".concat(e.name,\" loader option \").concat(e.id,\".\").concat(c,\" not recognized\")))}function q(e,t,r){var n=B({},e.options||{});return function(e,t){t&&!(\"baseUri\"in e)&&(e.baseUri=t)}(n,r),null===n.log&&(n.log=new L),Y(n,$()),Y(n,t),n}function Y(e,t){for(var r in t)if(r in t){var n=t[r];U(n)&&U(e[r])?e[r]=B(B({},e[r]),t[r]):e[r]=t[r]}}function G(e){!function(e){var t=z(),r=$();t.globalOptions=q(r,e)}(e)}function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){Object(D.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e){if(!e)return!1;Array.isArray(e)&&(e=e[0]);var t=e.parseTextSync||e.parseSync||e.parse||e.parseStream||e.parseInBatches,r=e.options&&e.options[e.id];return t=t||r&&r.workerUrl}function Q(e){var t;return Object(_.a)(e,\"null loader\"),Object(_.a)(H(e),\"invalid loader\"),Array.isArray(e)&&(t=e[1],e=W(W({},e=e[0]),{},{options:W(W({},e.options),t)})),e.extension&&(e.extensions=e.extensions||e.extension,delete e.extension),Array.isArray(e.extensions)||(e.extensions=[e.extensions]),Object(_.a)(e.extensions&&e.extensions.length>0&&e.extensions[0]),e.parseTextSync&&(e.text=!0),e.text||(e.binary=!0),e}function K(e,t){var r;if(\"undefined\"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if(\"string\"==typeof e)return ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===r&&e.constructor&&(r=e.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(e);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ee(e,t)}(e))||t&&e&&\"number\"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var te=function(){var e=z();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry};function re(e){var t,r=te(),n=K(e=Array.isArray(e)?e:[e]);try{var i=function(){var e=Q(t.value);r.find((function(t){return e===t}))||r.unshift(e)};for(n.s();!(t=n.n()).done;)i()}catch(e){n.e(e)}finally{n.f()}}function ne(){return te()}function ie(){z().loaderRegistry=[]}var oe=r(63),ae=i.a.mark(se);function se(e){var t,r,n,o,a,s,u,c=arguments;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=c.length>1&&void 0!==c[1]?c[1]:{},r=t.chunkSize,n=void 0===r?262144:r,o=0,a=new TextEncoder;case 4:if(!(o<e.length)){i.next=12;break}return s=Math.min(e.length-o,n),u=e.slice(o,o+s),o+=s,i.next=10,a.encode(u);case 10:i.next=4;break;case 12:case\"end\":return i.stop()}}),ae)}var ue=i.a.mark(ce);function ce(e){var t,r,n,o,a,s,u,c=arguments;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=c.length>1&&void 0!==c[1]?c[1]:{},r=t.chunkSize,n=void 0===r?262144:r,o=0;case 3:if(!(o<e.byteLength)){i.next=14;break}return a=Math.min(e.byteLength-o,n),s=new ArrayBuffer(a),u=new Uint8Array(e,o,a),new Uint8Array(s).set(u),o+=a,i.next=12,s;case 12:i.next=3;break;case 14:case\"end\":return i.stop()}}),ue)}var fe=r(11),le=r(23);function pe(e){return he.apply(this,arguments)}function he(){return(he=Object(le.a)(i.a.mark((function e(t){var r,n,o,a,s,u,c=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=c.length>1&&void 0!==c[1]?c[1]:{},n=r.chunkSize||1048576,o=0;case 3:if(!(o<t.size)){e.next=14;break}return a=o+n,s=t.slice(o,a),e.next=8,Object(fe.a)(de(s));case 8:return u=e.sent,o=a,e.next=12,u;case 12:e.next=3;break;case 14:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function de(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){var n=new FileReader;n.onloadend=function(t){return e(t.target.result)},n.onerror=function(e){return r(e)},n.readAsArrayBuffer(t)}));case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e){if(T.c||T.e>=10){if(\"function\"==typeof e[Symbol.asyncIterator])return e;if(\"function\"==typeof e.getIterator)return e.getIterator()}return T.c?function(e){return me.apply(this,arguments)}(e):function(e){return ge.apply(this,arguments)}(e)}function me(){return(me=Object(le.a)(i.a.mark((function e(t){var r,n,o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.getReader(),e.prev=1;case 2:return e.next=5,Object(fe.a)(r.read());case 5:if(n=e.sent,o=n.done,a=n.value,!o){e.next=10;break}return e.abrupt(\"return\");case 10:return e.next=12,a;case 12:e.next=2;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),r.releaseLock();case 19:case\"end\":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}function ge(){return(ge=Object(le.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fe.a)(t);case 2:t=e.sent;case 3:if(null===(r=t.read())){e.next=9;break}return e.next=8,r;case 8:return e.abrupt(\"continue\",3);case 9:if(!t._readableState.ended){e.next=11;break}return e.abrupt(\"return\");case 11:return e.next=13,Object(fe.a)(be(t));case 13:e.next=3;break;case 15:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function be(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",new Promise((function(e){t.once(\"readable\",e)})));case 1:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return\"string\"==typeof e?se(e,t):e instanceof ArrayBuffer?ce(e,t):v(e)?pe(e,t):m(e)?ve(e):y(e)?ve(e.body):Object(_.a)(!1)}var we=r(28);function Ee(e,t){var r=e instanceof ArrayBuffer?new Uint8Array(e):e,n=t instanceof ArrayBuffer?new Uint8Array(t):t,i=new Uint8Array(r.byteLength+n.byteLength);return i.set(r,0),i.set(n,r.byteLength),i}function je(e,t){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(o.a)(i.a.mark((function e(t,r){var n,o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t.next();case 3:if(n=e.sent,o=n.done,a=n.value,!o){e.next=9;break}return t.return(),e.abrupt(\"return\");case 9:if(!r(a)){e.next=12;break}return e.abrupt(\"return\");case 12:e.next=0;break;case 14:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Se(e){return ke.apply(this,arguments)}function ke(){return(ke=Object(o.a)(i.a.mark((function e(t){var r,n,o,a,s,u,c,f,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new ArrayBuffer(0),n=\"\",o=!0,a=!1,e.prev=4,u=Object(we.a)(t);case 6:return e.next=8,u.next();case 8:return c=e.sent,o=c.done,e.next=12,c.value;case 12:if(f=e.sent,o){e.next=19;break}\"string\"==typeof(l=f)?n+=l:r=Ee(r,l);case 16:o=!0,e.next=6;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(4),a=!0,s=e.t0;case 25:if(e.prev=25,e.prev=26,o||null==u.return){e.next=30;break}return e.next=30,u.return();case 30:if(e.prev=30,!a){e.next=33;break}throw s;case 33:return e.finish(30);case 34:return e.finish(25);case 35:return e.abrupt(\"return\",n||r);case 36:case\"end\":return e.stop()}}),e,null,[[4,21,25,35],[26,,30,34]])})))).apply(this,arguments)}function Te(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(o.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=12;break}return r=\"fetch failed \".concat(t.status,\" \").concat(t.statusText),e.prev=2,e.next=5,t.text().slice(10);case 5:n=e.sent,r+=n,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:throw new Error(r);case 12:case\"end\":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var xe=\"Cannot convert supplied data type\";function Ie(e,t){return y(e)?t=t||e.url:v(t)&&(t=t.name),\"string\"==typeof t?t.replace(/\\?.*/,\"\"):t}function Re(e,t){if(t.text&&\"string\"==typeof e)return e;if(e instanceof ArrayBuffer){var r=e;return t.text&&!t.binary?new TextDecoder(\"utf8\").decode(r):r}if(ArrayBuffer.isView(e)||(o=e)&&\"object\"===Object(s.a)(o)&&o.isBuffer){if(t.text&&!t.binary)return new TextDecoder(\"utf8\").decode(e);var n=e.buffer,i=e.byteLength||e.length;return 0===e.byteOffset&&i===n.byteLength||(n=n.slice(e.byteOffset,e.byteOffset+i)),n}var o;throw new Error(xe)}function Me(e,t){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(o.a)(i.a.mark((function e(t,r){var n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(t=e.sent,n=t instanceof ArrayBuffer||ArrayBuffer.isView(t),\"string\"!=typeof t&&!n){e.next=6;break}return e.abrupt(\"return\",Re(t,r));case 6:if(!v(t)){e.next=10;break}return e.next=9,E(t);case 9:t=e.sent;case 10:if(!y(t)){e.next=24;break}return o=t,e.next=14,Te(o);case 14:if(!r.binary){e.next=20;break}return e.next=17,o.arrayBuffer();case 17:e.t0=e.sent,e.next=23;break;case 20:return e.next=22,o.text();case 22:e.t0=e.sent;case 23:return e.abrupt(\"return\",e.t0);case 24:if(m(t)&&(t=_e(t)),!p(t)&&!h(t)){e.next=27;break}return e.abrupt(\"return\",Se(t));case 27:throw new Error(xe);case 28:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Ve(e){return De.apply(this,arguments)}function De(){return(De=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d(t)){e.next=2;break}return e.abrupt(\"return\",t);case 2:if(!y(t)){e.next=6;break}return e.next=5,Te(t);case 5:return e.abrupt(\"return\",_e(t.body));case 6:if(!v(t)&&!m(t)){e.next=8;break}return e.abrupt(\"return\",_e(t));case 8:if(!h(t)){e.next=10;break}return e.abrupt(\"return\",t[Symbol.asyncIterator]());case 10:return e.abrupt(\"return\",Le(t));case 11:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e){if(ArrayBuffer.isView(e))return i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.buffer;case 2:case\"end\":return t.stop()}}),t)}))();if(e instanceof ArrayBuffer)return i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:case\"end\":return t.stop()}}),t)}))();if(d(e))return e;if(p(e))return e[Symbol.iterator]();throw new Error(xe)}var Ce=r(21);function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach((function(t){Object(D.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ue(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return r||(e=Be({fetch:e.fetch||S},e),Array.isArray(e.loaders)||(e.loaders=null),e)}function ze(e,t){if(!t&&!Array.isArray(e))return e;var r;if(e&&(r=Array.isArray(e)?e:[e]),t&&t.loaders){var n=Array.isArray(t.loaders)?t.loaders:[t.loaders];r=r?[].concat(Object(Ce.a)(r),Object(Ce.a)(n)):n}return r&&r.length?r:null}var $e=new Map;function Ze(e){return\"try {\\n  importScripts('\".concat(e,\"');\\n} catch (error) {\\n  console.error(error);\\n}\")}var Xe=r(64),qe=0;function Ye(e){var t=e.data;(0,e.resolve)(t)}var Ge=function(){function e(t){var r=t.source,n=t.name,i=void 0===n?\"web-worker-\".concat(qe++):n,o=t.onMessage;Object(b.a)(this,e);var a=function(e){if(Object(_.a)(\"string\"==typeof e,\"worker source\"),e.startsWith(\"url(\")&&e.endsWith(\")\")){var t=e.match(/^url\\((.*)\\)$/)[1];if(t&&!t.startsWith(\"http\"))return t;e=Ze(t)}var r=$e.get(e);if(!r){var n=new Blob([e],{type:\"application/javascript\"});r=URL.createObjectURL(n),$e.set(e,r)}return r}(r,i);this.worker=new Worker(a,{name:i}),this.name=i,this.onMessage=o||Ye}var t;return Object(O.a)(e,[{key:\"process\",value:(t=Object(o.a)(i.a.mark((function e(t){var r=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",new Promise((function(e,n){r.worker.onmessage=function(t){return r.onMessage({worker:r.worker,data:t.data,resolve:e,reject:n})},r.worker.onerror=function(e){var t=\"\".concat(r.name,\": WorkerThread.process() failed\");e.message&&(t+=\" \".concat(e.message,\" \").concat(e.filename,\":\").concat(e.lineno,\":\").concat(e.colno));var i=new Error(t);console.error(e),n(i)};var i=Object(Xe.a)(t);r.worker.postMessage(t,i)})));case 1:case\"end\":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:\"destroy\",value:function(){this.worker.terminate(),this.worker=null}}]),e}(),Je=function(){function e(t){var r=t.source,n=t.name,i=void 0===n?\"unnamed\":n,o=t.maxConcurrency,a=void 0===o?1:o,s=t.onMessage,u=t.onDebug,c=void 0===u?function(){}:u;Object(b.a)(this,e),this.source=r,this.name=i,this.maxConcurrency=a,this.onMessage=s,this.onDebug=c,this.jobQueue=[],this.idleQueue=[],this.count=0,this.isDestroyed=!1}var t;return Object(O.a)(e,[{key:\"destroy\",value:function(){this.idleQueue.forEach((function(e){return e.destroy()})),this.isDestroyed=!0}},{key:\"process\",value:(t=Object(o.a)(i.a.mark((function e(t,r){var n=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",new Promise((function(e,i){n.jobQueue.push({data:t,jobName:r,resolve:e,reject:i}),n._startQueuedJob()})));case 1:case\"end\":return e.stop()}}),e)}))),function(e,r){return t.apply(this,arguments)})},{key:\"_startQueuedJob\",value:function(){var e=this;if(this.jobQueue.length){var t=this._getAvailableWorker();if(t){var r=this.jobQueue.shift();this.onDebug({message:\"processing\",worker:t.name,job:r.jobName,backlog:this.jobQueue.length}),t.process(r.data).then((function(e){return r.resolve(e)})).catch((function(e){return r.reject(e)})).then((function(){return e._onWorkerDone(t)}))}}}},{key:\"_onWorkerDone\",value:function(e){this.isDestroyed?e.destroy():(this.idleQueue.push(e),this._startQueuedJob())}},{key:\"_getAvailableWorker\",value:function(){if(this.idleQueue.length>0)return this.idleQueue.shift();if(this.count<this.maxConcurrency){this.count++;var e=\"\".concat(this.name.toLowerCase(),\" (#\").concat(this.count,\" of \").concat(this.maxConcurrency,\")\");return new Ge({source:this.source,onMessage:this.onMessage,name:e})}return null}}]),e}(),We=function(){function e(t){var r=t.maxConcurrency,n=void 0===r?5:r,i=t.onMessage,o=t.onDebug,a=void 0===o?function(){}:o;Object(b.a)(this,e),this.maxConcurrency=n,this.onMessage=i,this.onDebug=a,this.workerPools=new Map}var t;return Object(O.a)(e,null,[{key:\"isSupported\",value:function(){return\"undefined\"!=typeof Worker}}]),Object(O.a)(e,[{key:\"setProps\",value:function(e){\"maxConcurrency\"in e&&(this.maxConcurrency=e.maxConcurrency),\"onDebug\"in e&&(this.onDebug=e.onDebug)}},{key:\"destroy\",value:function(){this.workerPools.forEach((function(e){return e.destroy()}))}},{key:\"process\",value:(t=Object(o.a)(i.a.mark((function e(t,r,n){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._getWorkerPool(t,r),e.abrupt(\"return\",o.process(n));case 2:case\"end\":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})},{key:\"_getWorkerPool\",value:function(e,t){var r=this.workerPools.get(t);return r||(r=new Je({source:e,name:t,onMessage:this.onMessage,maxConcurrency:this.maxConcurrency,onDebug:this.onDebug}),this.workerPools.set(t,r)),r}}]),e}(),He=r(93);function Qe(e){if(He.toArrayBuffer&&(e=Object(He.toArrayBuffer)(e)),e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return e.buffer;if(\"string\"==typeof e){var t=e;return(new TextEncoder).encode(t).buffer}return Object(_.a)(!1)}function Ke(e,t,r,n){if(!We.isSupported())return!1;var i=r&&r[e.id];return!!(\"local\"===r.worker&&i&&i.localWorkerUrl||r.worker&&i&&i.workerUrl)&&(!e.useWorker||e.useWorker(r))}function et(e,t,r,n){var i=(r||{}).worker,o=r&&r[e.id]||{},a=\"local\"===i?o.localWorkerUrl:o.workerUrl,s=\"url(\".concat(a,\")\"),u=e.name,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};e.maxConcurrency&&(t.maxConcurrency=e.maxConcurrency);e.onDebug&&(t.onDebug=e.onDebug);tt||(tt=new We({onMessage:rt}));return tt.setProps(t),tt}(r);r=JSON.parse(JSON.stringify(r));var f=\"2.2.6\"!==e.version?\"(core version \".concat(\"2.2.6\",\")\"):\"\";return c.process(s,\"\".concat(u,\"-worker@\").concat(e.version).concat(f),{arraybuffer:Qe(t),options:r,source:\"loaders.gl@\".concat(\"2.2.6\"),type:\"parse\"})}var tt=null;function rt(e){return nt.apply(this,arguments)}function nt(){return(nt=Object(o.a)(i.a.mark((function e(t){var r,n,o,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.worker,n=t.data,o=t.resolve,a=t.reject,e.t0=n.type,e.next=\"done\"===e.t0?4:\"parse\"===e.t0?6:\"error\"===e.t0?17:19;break;case 4:return o(n.result),e.abrupt(\"break\",19);case 6:return e.prev=6,e.next=9,wt(n.arraybuffer,n.options,n.url);case 9:s=e.sent,r.postMessage({type:\"parse-done\",id:n.id,result:s},Object(Xe.a)(s)),e.next=16;break;case 13:e.prev=13,e.t1=e.catch(6),r.postMessage({type:\"parse-error\",id:n.id,message:e.t1.message});case 16:return e.abrupt(\"break\",19);case 17:return a(n.message),e.abrupt(\"break\",19);case 19:case\"end\":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}var it=/^data:([-\\w.]+\\/[-\\w.+]+)(;|,)/,ot=/^([-\\w.]+\\/[-\\w.+]+)/;function at(e){if(\"string\"!=typeof e)return\"\";var t=e.match(it);return t?t[1]:\"\"}var st=/\\?.*/;function ut(e){if(y(e)){var t=function(e){if(\"string\"!=typeof e)return\"\";var t=e.match(ot);return t?t[1]:e}(e.headers.get(\"content-type\")),r=at(e.url);return{url:ct(e.url||\"\"),type:t||r||null}}return v(e)?{url:ct(e.url||\"\"),type:e.type||\"\"}:\"string\"==typeof e?{url:ct(e),type:at(e)}:{url:\"\",type:\"\"}}function ct(e){return e.replace(st,\"\")}function ft(e,t){var r;if(\"undefined\"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if(\"string\"==typeof e)return lt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===r&&e.constructor&&(r=e.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(e);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lt(e,t)}(e))||t&&e&&\"number\"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pt=/\\.([^.]+)$/;function ht(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t&&!Array.isArray(t))return Q(t);yt(t=[].concat(Object(Ce.a)(t||[]),Object(Ce.a)(ne())));var i=ut(e),o=i.url,a=i.type,s=vt(t,o||n.url);if(!(s=(s=s||mt(t,a))||gt(t,e))&&!r.nothrow)throw new Error(dt(e,o,a));return s}function dt(e,t,r){var n=\"No valid loader found\";return e&&(n+=' data: \"'.concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(\"string\"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return _t(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){var r=0;return _t(e,r,t)}return\"\"}(e),'\"')),t&&(n+=\" for \".concat(t)),n}function yt(e){var t,r=ft(e);try{for(r.s();!(t=r.n()).done;){Q(t.value)}}catch(e){r.e(e)}finally{r.f()}}function vt(e,t){var r=t&&t.match(pt),n=r&&r[1];return n&&function(e,t){t=t.toLowerCase();var r,n=ft(e);try{for(n.s();!(r=n.n()).done;){var i,o=r.value,a=ft(o.extensions);try{for(a.s();!(i=a.n()).done;){if(i.value.toLowerCase()===t)return o}}catch(e){a.e(e)}finally{a.f()}}}catch(e){n.e(e)}finally{n.f()}return null}(e,n)}function mt(e,t){var r,n=ft(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i.mimeTypes&&i.mimeTypes.includes(t))return i;if(t===\"application/x.\".concat(i.id))return i}}catch(e){n.e(e)}finally{n.f()}return null}function gt(e,t){if(!t)return null;var r,n=ft(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(\"string\"==typeof t){if(bt(t,i))return i}else if(ArrayBuffer.isView(t)){if(Ot(t.buffer,t.byteOffset,i))return i}else if(t instanceof ArrayBuffer){if(Ot(t,0,i))return i}}}catch(e){n.e(e)}finally{n.f()}return null}function bt(e,t){return t.testText&&t.testText(e)}function Ot(e,t,r){switch(Array.isArray(r.test)?\"array\":Object(s.a)(r.test)){case\"function\":return r.test(e,r);case\"string\":case\"array\":return(Array.isArray(r.test)?r.test:[r.test]).some((function(r){return r===_t(e,t,r.length)}));default:return!1}}function _t(e,t,r){if(e.byteLength<=t+r)return\"\";for(var n=new DataView(e),i=\"\",o=0;o<r;o++)i+=String.fromCharCode(n.getUint8(t+o));return i}function wt(e,t,r,n){return Et.apply(this,arguments)}function Et(){return(Et=Object(o.a)(i.a.mark((function e(t,r,n,o){var a,s,u,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||Array.isArray(r)||H(r)||(o=n,n=r,r=null),a=\"\",\"string\"==typeof o&&(a=o,o=null),n=n||{},s=Ie(t,a),u=ze(r,o),c=ht(t,u,n,{url:s})){e.next=9;break}return e.abrupt(\"return\",null);case 9:return n=Z(c,n,s),o=Ue({url:s,parse:wt,loaders:u},n,o),e.next=13,jt(c,t,n,o);case 13:return e.abrupt(\"return\",e.sent);case 14:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function jt(e,t,r,n){return Pt.apply(this,arguments)}function Pt(){return(Pt=Object(o.a)(i.a.mark((function e(t,r,n,o){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(oe.a)(t),e.next=3,Me(r,t);case 3:if(r=e.sent,!t.parseTextSync||\"string\"!=typeof r){e.next=7;break}return n.dataType=\"text\",e.abrupt(\"return\",t.parseTextSync(r,n,o,t));case 7:if(!Ke(t,0,n)){e.next=11;break}return e.next=10,et(t,r,n);case 10:return e.abrupt(\"return\",e.sent);case 11:if(!t.parse){e.next=15;break}return e.next=14,t.parse(r,n,o,t);case 14:return e.abrupt(\"return\",e.sent);case 15:return Object(_.a)(!t.parseSync),e.abrupt(\"return\",Object(_.a)(!1));case 17:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function St(e,t,r,n){Array.isArray(t)||H(t)||(n=r,r=t,t=null);var i=\"\";\"string\"==typeof n&&(i=n,n=null),r=r||{};var o=ht(e,ze(t,n),r,{url:i});return o?function(e,t,r,n){if(t=Re(t,e),e.parseTextSync&&\"string\"==typeof t)return e.parseTextSync(t,r,n,e);if(e.parseSync)return e.parseSync(t,r,n,e);throw new Error(\"\".concat(e.name,\" loader: 'parseSync' not supported by this loader, use 'parse' instead. \").concat(n.url||\"\"))}(o,e,r=Z(o,r,i),n=Ue({url:i,parseSync:St,loaders:t},r)):null}function kt(e,t){var r={},n=!1;function i(r,i){return n=!0,i=new Promise((function(t){t(e[r](i))})),{done:!1,value:t(i)}}return\"function\"==typeof Symbol&&Symbol.iterator&&(r[Symbol.iterator]=function(){return this}),r.next=function(e){return n?(n=!1,e):i(\"next\",e)},\"function\"==typeof e.throw&&(r.throw=function(e){if(n)throw n=!1,e;return i(\"throw\",e)}),\"function\"==typeof e.return&&(r.return=function(e){return n?(n=!1,e):i(\"return\",e)}),r}function Tt(e,t,r,n){return At.apply(this,arguments)}function At(){return(At=Object(o.a)(i.a.mark((function e(t,r,n,o){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Array.isArray(r)||H(r)||(o=n,n=r,r=null),a=ht(null,r,n,{url:o}),n=Z(a,n,o),s=Ue({url:o,loaders:r},n),e.next=6,xt(a,t,n,s);case 6:return e.abrupt(\"return\",e.sent);case 7:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function xt(e,t,r,n){return It.apply(this,arguments)}function It(){return(It=Object(o.a)(i.a.mark((function e(t,r,n,o){var a,s,u,c,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=function(){return(f=Object(le.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u;case 2:return e.delegateYield(kt(Object(we.a)(t),fe.a),\"t0\",3);case 3:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)},c=function(e){return f.apply(this,arguments)},t.parseInBatches){e.next=4;break}throw new Error(\"loader does not support parseInBatches\");case 4:return e.next=6,Ve(r);case 6:return a=e.sent,e.next=9,t.parseInBatches(a,n,o,t);case 9:if(s=e.sent,n.metadata){e.next=12;break}return e.abrupt(\"return\",s);case 12:return u={batchType:\"metadata\",metadata:{_loader:t,_context:o},data:[],bytesUsed:0},e.abrupt(\"return\",c(s));case 14:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Rt(e,t,r){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object(o.a)(i.a.mark((function e(t,r,n){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(r)||H(r)||(n=r,r=null),o=t,\"string\"!=typeof t){e.next=8;break}return e.next=5,S(t,n);case 5:o=e.sent,e.next=9;break;case 8:t=null;case 9:if(!v(t)){e.next=14;break}return e.next=12,S(t,n);case 12:o=e.sent,t=null;case 14:return e.next=16,wt(o,r,n,t);case 16:return e.abrupt(\"return\",e.sent);case 17:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Nt(e,t,r){return Vt.apply(this,arguments)}function Vt(){return(Vt=Object(o.a)(i.a.mark((function e(t,r,n){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t,n);case 2:return o=e.sent,e.abrupt(\"return\",Tt(o,r,n,t));case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Dt(e,t,r,n){return Lt.apply(this,arguments)}function Lt(){return(Lt=Object(o.a)(i.a.mark((function e(t,r,n,o){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.encode){e.next=4;break}return e.next=3,r.encode(t,n);case 3:return e.abrupt(\"return\",e.sent);case 4:if(!r.encodeSync){e.next=6;break}return e.abrupt(\"return\",r.encodeSync(t,n));case 6:throw new Error(\"Writer could not encode data\");case 7:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Ct(e,t,r,n){if(t.encodeSync)return t.encodeSync(e,r);throw new Error(\"Writer could not synchronously encode data\")}function Ft(e,t,r,n){if(t.encodeInBatches)return t.encodeInBatches(e,r);throw new Error(\"Writer could not encode data in batches\")}function Bt(e,t,r,n){return N(t,Dt(e,r,n,t))}function Ut(e,t,r,n){return V(t,Ct(e,r,n))}var zt=r(52),$t=r(105);function Zt(e,t){return Xt.apply(this,arguments)}function Xt(){return(Xt=Object(o.a)(i.a.mark((function e(t,r){var n,o,a,s,u,c=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:function(){},o=c.length>3&&void 0!==c[3]?c[3]:function(){},e.next=4,t;case 4:if((t=e.sent).ok){e.next=7;break}return e.abrupt(\"return\",t);case 7:if(t.body){e.next=9;break}return e.abrupt(\"return\",t);case 9:if(a=t.headers.get(\"content-length\"),s=a&&parseInt(a,10),a>0){e.next=13;break}return e.abrupt(\"return\",t);case 13:if(\"undefined\"!=typeof ReadableStream){e.next=15;break}return e.abrupt(\"return\",t);case 15:return u=new ReadableStream({start:function(e){qt(e,t.body.getReader(),0,s,r,n,o)}}),e.abrupt(\"return\",new Response(u));case 17:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function qt(e,t,r,n,i,o,a){return Yt.apply(this,arguments)}function Yt(){return(Yt=Object(o.a)(i.a.mark((function e(t,r,n,o,a,s,u){var c,f,l,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.read();case 3:if(c=e.sent,f=c.done,l=c.value,!f){e.next=10;break}return s(),t.close(),e.abrupt(\"return\");case 10:return n+=l.byteLength,p=Math.round(n/o*100),a(p,{loadedBytes:n,totalBytes:o}),t.enqueue(l),e.next=16,qt(t,r,n,o,a,s,u);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),t.error(e.t0),u(e.t0);case 22:case\"end\":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}},function(e,t,r){\"use strict\";r.r(t),r.d(t,\"VERSION\",(function(){return c})),r.d(t,\"self\",(function(){return E.e})),r.d(t,\"window\",(function(){return E.f})),r.d(t,\"global\",(function(){return E.c})),r.d(t,\"document\",(function(){return E.b})),r.d(t,\"process\",(function(){return E.d})),r.d(t,\"console\",(function(){return E.a})),r.d(t,\"isBrowser\",(function(){return u.a})),r.d(t,\"isBrowserMainThread\",(function(){return u.b})),r.d(t,\"getBrowser\",(function(){return L})),r.d(t,\"isMobile\",(function(){return D})),r.d(t,\"isElectron\",(function(){return V.a})),r.d(t,\"assert\",(function(){return w})),r.d(t,\"Log\",(function(){return I})),r.d(t,\"COLOR\",(function(){return v})),r.d(t,\"addColor\",(function(){return g})),r.d(t,\"leftPad\",(function(){return h})),r.d(t,\"rightPad\",(function(){return d})),r.d(t,\"autobind\",(function(){return _})),r.d(t,\"LocalStorage\",(function(){return p})),r.d(t,\"getHiResTimestamp\",(function(){return j})),r.d(t,\"Stats\",(function(){return C.b})),r.d(t,\"Stat\",(function(){return C.a}));var n=r(7),i=r(21),o=r(15),a=r(6),s=r(5),u=r(32),c=\"undefined\"!=typeof __VERSION__?__VERSION__:\"untranspiled source\",f=Object(u.a)();function l(e){try{var t=window[e],r=\"__storage_test__\";return t.setItem(r,r),t.removeItem(r),t}catch(e){return null}}var p=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"sessionStorage\";Object(a.a)(this,e),this.storage=l(n),this.id=t,this.config={},Object.assign(this.config,r),this._loadConfiguration()}return Object(s.a)(e,[{key:\"getConfiguration\",value:function(){return this.config}},{key:\"setConfiguration\",value:function(e){return this.config={},this.updateConfiguration(e)}},{key:\"updateConfiguration\",value:function(e){if(Object.assign(this.config,e),this.storage){var t=JSON.stringify(this.config);this.storage.setItem(this.id,t)}return this}},{key:\"_loadConfiguration\",value:function(){var e={};if(this.storage){var t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}]),e}();function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,r=Math.max(t-e.length,0);return\"\".concat(\" \".repeat(r)).concat(e)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,r=Math.max(t-e.length,0);return\"\".concat(e).concat(\" \".repeat(r))}function y(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600,i=e.src.replace(/\\(/g,\"%28\").replace(/\\)/g,\"%29\");e.width>n&&(r=Math.min(r,n/e.width));var o=e.width*r,a=e.height*r,s=[\"font-size:1px;\",\"padding:\".concat(Math.floor(a/2),\"px \").concat(Math.floor(o/2),\"px;\"),\"line-height:\".concat(a,\"px;\"),\"background:url(\".concat(i,\");\"),\"background-size:\".concat(o,\"px \").concat(a,\"px;\"),\"color:transparent;\"].join(\"\");return[\"\".concat(t,\" %c+\"),s]}var v={BLACK:30,RED:31,GREEN:32,YELLOW:33,BLUE:34,MAGENTA:35,CYAN:36,WHITE:37,BRIGHT_BLACK:90,BRIGHT_RED:91,BRIGHT_GREEN:92,BRIGHT_YELLOW:93,BRIGHT_BLUE:94,BRIGHT_MAGENTA:95,BRIGHT_CYAN:96,BRIGHT_WHITE:97};function m(e){return\"string\"==typeof e?v[e.toUpperCase()]||v.WHITE:e}function g(e,t,r){return f||\"string\"!=typeof e||(t&&(t=m(t),e=\"\u001b[\".concat(t,\"m\").concat(e,\"\u001b[39m\")),r&&(t=m(r),e=\"\u001b[\".concat(r+10,\"m\").concat(e,\"\u001b[49m\"))),e}function b(e){if(\"undefined\"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if(\"string\"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===r&&e.constructor&&(r=e.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(r);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var n,i,o=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[\"constructor\"],n=Object.getPrototypeOf(e),i=Object.getOwnPropertyNames(n),o=b(i);try{var a=function(){var n=t.value;\"function\"==typeof e[n]&&(r.find((function(e){return n===e}))||(e[n]=e[n].bind(e)))};for(o.s();!(t=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}}function w(e,t){if(!e)throw new Error(t||\"Assertion failed\")}var E=r(14);function j(){var e;if(f&&E.f.performance)e=E.f.performance.now();else if(E.d.hrtime){var t=E.d.hrtime();e=1e3*t[0]+t[1]/1e6}else e=Date.now();return e}var P={debug:f&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},S={enabled:!0,level:0};function k(){}var T={},A={once:!0};function x(e){for(var t in e)for(var r in e[t])return r||\"untitled\";return\"empty\"}var I=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.id;Object(a.a)(this,e),this.id=r,this.VERSION=c,this._startTs=j(),this._deltaTs=j(),this.LOG_THROTTLE_TIMEOUT=0,this._storage=new p(\"__probe-\".concat(this.id,\"__\"),S),this.userData={},this.timeStamp(\"\".concat(this.id,\" started\")),_(this),Object.seal(this)}return Object(s.a)(e,[{key:\"isEnabled\",value:function(){return this._storage.config.enabled}},{key:\"getLevel\",value:function(){return this._storage.config.level}},{key:\"getTotal\",value:function(){return Number((j()-this._startTs).toPrecision(10))}},{key:\"getDelta\",value:function(){return Number((j()-this._deltaTs).toPrecision(10))}},{key:\"getPriority\",value:function(){return this.level}},{key:\"enable\",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._storage.updateConfiguration({enabled:e}),this}},{key:\"setLevel\",value:function(e){return this._storage.updateConfiguration({level:e}),this}},{key:\"assert\",value:function(e,t){w(e,t)}},{key:\"warn\",value:function(e){return this._getLogFunction(0,e,P.warn,arguments,A)}},{key:\"error\",value:function(e){return this._getLogFunction(0,e,P.error,arguments)}},{key:\"deprecated\",value:function(e,t){return this.warn(\"`\".concat(e,\"` is deprecated and will be removed in a later version. Use `\").concat(t,\"` instead\"))}},{key:\"removed\",value:function(e,t){return this.error(\"`\".concat(e,\"` has been removed. Use `\").concat(t,\"` instead\"))}},{key:\"probe\",value:function(e,t){return this._getLogFunction(e,t,P.log,arguments,{time:!0,once:!0})}},{key:\"log\",value:function(e,t){return this._getLogFunction(e,t,P.debug,arguments)}},{key:\"info\",value:function(e,t){return this._getLogFunction(e,t,console.info,arguments)}},{key:\"once\",value:function(e,t){return this._getLogFunction(e,t,P.debug||P.info,arguments,A)}},{key:\"table\",value:function(e,t,r){return t?this._getLogFunction(e,t,console.table||k,r&&[r],{tag:x(t)}):k}},{key:\"image\",value:function(e){var t=e.logLevel,n=e.priority,o=e.image,a=e.message,s=void 0===a?\"\":a,u=e.scale,c=void 0===u?1:u;return this._shouldLog(t||n)?f?function(e){var t=e.image,r=e.message,n=void 0===r?\"\":r,o=e.scale,a=void 0===o?1:o;if(\"string\"==typeof t){var s=new Image;return s.onload=function(){var e,t=y(s,n,a);(e=console).log.apply(e,Object(i.a)(t))},s.src=t,k}var u=t.nodeName||\"\";if(\"img\"===u.toLowerCase()){var c;return(c=console).log.apply(c,Object(i.a)(y(t,n,a))),k}if(\"canvas\"===u.toLowerCase()){var f=new Image;return f.onload=function(){var e;return(e=console).log.apply(e,Object(i.a)(y(f,n,a)))},f.src=t.toDataURL(),k}return k}({image:o,message:s,scale:c}):function(e){var t=e.image,n=(e.message,e.scale),i=void 0===n?1:n,o=null;try{o=r(232)}catch(e){}if(o)return function(){return o(t,{fit:\"box\",width:\"\".concat(Math.round(80*i),\"%\")}).then((function(e){return console.log(e)}))};return k}({image:o,message:s,scale:c}):k}},{key:\"settings\",value:function(){console.table?console.table(this._storage.config):console.log(this._storage.config)}},{key:\"get\",value:function(e){return this._storage.config[e]}},{key:\"set\",value:function(e,t){this._storage.updateConfiguration(Object(o.a)({},e,t))}},{key:\"time\",value:function(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}},{key:\"timeEnd\",value:function(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}},{key:\"timeStamp\",value:function(e,t){return this._getLogFunction(e,t,console.timeStamp||k)}},{key:\"group\",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1},n=r=M({logLevel:e,message:t,opts:r}),i=n.collapsed;return r.method=(i?console.groupCollapsed:console.group)||console.info,this._getLogFunction(r)}},{key:\"groupCollapsed\",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.group(e,t,Object.assign({},r,{collapsed:!0}))}},{key:\"groupEnd\",value:function(e){return this._getLogFunction(e,\"\",console.groupEnd||k)}},{key:\"withGroup\",value:function(e,t,r){this.group(e,t)();try{r()}finally{this.groupEnd(e)()}}},{key:\"trace\",value:function(){console.trace&&console.trace()}},{key:\"_shouldLog\",value:function(e){return this.isEnabled()&&this.getLevel()>=R(e)}},{key:\"_getLogFunction\",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0;if(this._shouldLog(e)){var a;o=M({logLevel:e,message:t,args:n,opts:o}),w(r=r||o.method),o.total=this.getTotal(),o.delta=this.getDelta(),this._deltaTs=j();var s=o.tag||o.message;if(o.once){if(T[s])return k;T[s]=j()}return t=N(this.id,o.message,o),(a=r).bind.apply(a,[console,t].concat(Object(i.a)(o.args)))}return k}},{key:\"level\",set:function(e){this.setLevel(e)},get:function(){return this.getLevel()}},{key:\"priority\",set:function(e){this.level=e},get:function(){return this.level}}]),e}();function R(e){if(!e)return 0;var t;switch(Object(n.a)(e)){case\"number\":t=e;break;case\"object\":t=e.logLevel||e.priority||0;break;default:return 0}return w(Number.isFinite(t)&&t>=0),t}function M(e){var t=e.logLevel,r=e.message;e.logLevel=R(t);for(var i=e.args?Array.from(e.args):[];i.length&&i.shift()!==r;);switch(e.args=i,Object(n.a)(t)){case\"string\":case\"function\":void 0!==r&&i.unshift(r),e.message=t;break;case\"object\":Object.assign(e,t)}\"function\"==typeof e.message&&(e.message=e.message());var o=Object(n.a)(e.message);return w(\"string\"===o||\"object\"===o),Object.assign(e,e.opts)}function N(e,t,r){if(\"string\"==typeof t){var n=r.time?h((i=r.total)<10?\"\".concat(i.toFixed(2),\"ms\"):i<100?\"\".concat(i.toFixed(1),\"ms\"):i<1e3?\"\".concat(i.toFixed(0),\"ms\"):\"\".concat((i/1e3).toFixed(2),\"s\")):\"\";t=g(t=r.time?\"\".concat(e,\": \").concat(n,\"  \").concat(t):\"\".concat(e,\": \").concat(t),r.color,r.background)}var i;return t}I.VERSION=c;var V=r(46);function D(){return void 0!==E.f.orientation}function L(e){if(!e&&!Object(u.a)())return\"Node\";if(Object(V.a)(e))return\"Electron\";var t=\"undefined\"!=typeof navigator?navigator:{},r=e||t.userAgent||\"\";if(r.indexOf(\"Edge\")>-1)return\"Edge\";var n=-1!==r.indexOf(\"MSIE \"),i=-1!==r.indexOf(\"Trident/\");return n||i?\"IE\":E.f.chrome?\"Chrome\":E.f.safari?\"Safari\":E.f.mozInnerScreenX?\"Firefox\":\"Unknown\"}var C=r(54);t.default=new I({id:\"probe.gl\"})}]);","extractedComments":[]}