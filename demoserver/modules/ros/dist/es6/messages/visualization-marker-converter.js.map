{"version":3,"sources":["../../../src/messages/visualization-marker-converter.js"],"names":["_","VisualizationMarkerArray","VisualizationMarker","constructor","config","name","messageType","convertMessage","frame","xvizBuilder","messages","topic","markers","map","forEach","marker","_processMarker","writeMarkers"],"mappings":"AAaA,OAAOA,CAAP,MAAc,QAAd;AACA,SAAQC,wBAAR,QAAuC,uCAAvC;AAKA,OAAO,MAAMC,mBAAN,SAAkCD,wBAAlC,CAA2D;AAChEE,EAAAA,WAAW,CAACC,MAAD,EAAS;AAClB,UAAMA,MAAN;AACD;;AAED,aAAWC,IAAX,GAAkB;AAChB,WAAO,qBAAP;AACD;;AAED,aAAWC,WAAX,GAAyB;AACvB,WAAO,2BAAP;AACD;;AAED,QAAMC,cAAN,CAAqBC,KAArB,EAA4BC,WAA5B,EAAyC;AACvC,UAAMC,QAAQ,GAAGF,KAAK,CAAC,KAAKG,KAAN,CAAtB;;AACA,QAAID,QAAJ,EAAc;AACZ,YAAME,OAAO,GAAGZ,CAAC,CAACa,GAAF,CAAMH,QAAN,EAAgB,SAAhB,CAAhB;;AACAE,MAAAA,OAAO,CAACE,OAAR,CAAgBC,MAAM,IAAI,KAAKC,cAAL,CAAoBD,MAApB,CAA1B;AACD;;AAED,SAAKE,YAAL,CAAkBR,WAAlB;AACD;;AArB+D","sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport _ from 'lodash';\nimport {VisualizationMarkerArray} from './visualization-markerarray-converter';\n\n/**\n * Handles converting Marker messages\n */\nexport class VisualizationMarker extends VisualizationMarkerArray {\n  constructor(config) {\n    super(config);\n  }\n\n  static get name() {\n    return 'VisualizationMarker';\n  }\n\n  static get messageType() {\n    return 'visualization_msgs/Marker';\n  }\n\n  async convertMessage(frame, xvizBuilder) {\n    const messages = frame[this.topic];\n    if (messages) {\n      const markers = _.map(messages, 'message');\n      markers.forEach(marker => this._processMarker(marker));\n    }\n\n    this.writeMarkers(xvizBuilder);\n  }\n}\n"],"file":"visualization-marker-converter.js"}