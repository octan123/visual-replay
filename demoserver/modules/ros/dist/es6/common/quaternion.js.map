{"version":3,"sources":["../../../src/common/quaternion.js"],"names":["quaternionToEuler","w","x","y","z","ysqr","t0","t1","t2","t3","t4","ans","pitch","Math","asin","roll","atan2","yaw"],"mappings":"AAaA,OAAO,SAASA,iBAAT,CAA2B;AAACC,EAAAA,CAAD;AAAIC,EAAAA,CAAJ;AAAOC,EAAAA,CAAP;AAAUC,EAAAA;AAAV,CAA3B,EAAyC;AAC9C,QAAMC,IAAI,GAAGF,CAAC,GAAGA,CAAjB;AACA,QAAMG,EAAE,GAAG,CAAC,GAAD,IAAQD,IAAI,GAAGD,CAAC,GAAGA,CAAnB,IAAwB,GAAnC;AACA,QAAMG,EAAE,GAAG,CAAC,GAAD,IAAQL,CAAC,GAAGC,CAAJ,GAAQF,CAAC,GAAGG,CAApB,CAAX;AACA,MAAII,EAAE,GAAG,CAAC,GAAD,IAAQN,CAAC,GAAGE,CAAJ,GAAQH,CAAC,GAAGE,CAApB,CAAT;AACA,QAAMM,EAAE,GAAG,CAAC,GAAD,IAAQN,CAAC,GAAGC,CAAJ,GAAQH,CAAC,GAAGC,CAApB,CAAX;AACA,QAAMQ,EAAE,GAAG,CAAC,GAAD,IAAQR,CAAC,GAAGA,CAAJ,GAAQG,IAAhB,IAAwB,GAAnC;AAEAG,EAAAA,EAAE,GAAGA,EAAE,GAAG,GAAL,GAAW,GAAX,GAAiBA,EAAtB;AACAA,EAAAA,EAAE,GAAGA,EAAE,GAAG,CAAC,GAAN,GAAY,CAAC,GAAb,GAAmBA,EAAxB;AAEA,QAAMG,GAAG,GAAG,EAAZ;AACAA,EAAAA,GAAG,CAACC,KAAJ,GAAYC,IAAI,CAACC,IAAL,CAAUN,EAAV,CAAZ;AACAG,EAAAA,GAAG,CAACI,IAAJ,GAAWF,IAAI,CAACG,KAAL,CAAWP,EAAX,EAAeC,EAAf,CAAX;AACAC,EAAAA,GAAG,CAACM,GAAJ,GAAUJ,IAAI,CAACG,KAAL,CAAWT,EAAX,EAAeD,EAAf,CAAV;AAEA,SAAOK,GAAP;AACD","sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nexport function quaternionToEuler({w, x, y, z}) {\n  const ysqr = y * y;\n  const t0 = -2.0 * (ysqr + z * z) + 1.0;\n  const t1 = +2.0 * (x * y + w * z);\n  let t2 = -2.0 * (x * z - w * y);\n  const t3 = +2.0 * (y * z + w * x);\n  const t4 = -2.0 * (x * x + ysqr) + 1.0;\n\n  t2 = t2 > 1.0 ? 1.0 : t2;\n  t2 = t2 < -1.0 ? -1.0 : t2;\n\n  const ans = {};\n  ans.pitch = Math.asin(t2);\n  ans.roll = Math.atan2(t3, t4);\n  ans.yaw = Math.atan2(t1, t0);\n\n  return ans;\n}\n"],"file":"quaternion.js"}