{"version":3,"sources":["../../../src/messages/visualization-marker-converter.js"],"names":["VisualizationMarker","config","frame","xvizBuilder","messages","topic","markers","_","map","forEach","marker","_processMarker","writeMarkers","VisualizationMarkerArray"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAaA;;AACA;;;;;;IAKaA,mB;;;;;AACX,+BAAYC,MAAZ,EAAoB;AAAA;AAAA,6BACZA,MADY;AAEnB;;;;;6GAUoBC,K,EAAOC,W;;;;;;;;AACpBC,gBAAAA,Q,GAAWF,KAAK,CAAC,KAAKG,KAAN,C;;AACtB,oBAAID,QAAJ,EAAc;AACNE,kBAAAA,OADM,GACIC,mBAAEC,GAAF,CAAMJ,QAAN,EAAgB,SAAhB,CADJ;AAEZE,kBAAAA,OAAO,CAACG,OAAR,CAAgB,UAAAC,MAAM;AAAA,2BAAI,KAAI,CAACC,cAAL,CAAoBD,MAApB,CAAJ;AAAA,mBAAtB;AACD;;AAED,qBAAKE,YAAL,CAAkBT,WAAlB;;;;;;;;;;;;;;;;;;wBAfgB;AAChB,aAAO,qBAAP;AACD;;;wBAEwB;AACvB,aAAO,2BAAP;AACD;;;EAXsCU,2D","sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport _ from 'lodash';\nimport {VisualizationMarkerArray} from './visualization-markerarray-converter';\n\n/**\n * Handles converting Marker messages\n */\nexport class VisualizationMarker extends VisualizationMarkerArray {\n  constructor(config) {\n    super(config);\n  }\n\n  static get name() {\n    return 'VisualizationMarker';\n  }\n\n  static get messageType() {\n    return 'visualization_msgs/Marker';\n  }\n\n  async convertMessage(frame, xvizBuilder) {\n    const messages = frame[this.topic];\n    if (messages) {\n      const markers = _.map(messages, 'message');\n      markers.forEach(marker => this._processMarker(marker));\n    }\n\n    this.writeMarkers(xvizBuilder);\n  }\n}\n"],"file":"visualization-marker-converter.js"}