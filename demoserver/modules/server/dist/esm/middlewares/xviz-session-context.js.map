{"version":3,"sources":["../../../src/middlewares/xviz-session-context.js"],"names":["XVIZSessionContext","state","map","Map","Object","entries","activeTransforms","name","val","set","get","id","keys"],"mappings":";;AAmBA,WAAaA,kBAAb;AACE,gCAAwB;AAAA,QAAZC,KAAY,uEAAJ,EAAI;;AAAA;;AACtB,SAAKC,GAAL,GAAW,IAAIC,GAAJ,CAAQC,MAAM,CAACC,OAAP,CAAeJ,KAAf,CAAR,CAAX;AACA,SAAKK,gBAAL,GAAwB,IAAIH,GAAJ,EAAxB;AACD;;AAJH;AAAA;AAAA,wBAMMI,IANN,EAMYC,GANZ,EAMiB;AACb,WAAKN,GAAL,CAASO,GAAT,CAAaF,IAAb,EAAmBC,GAAnB;AACD;AARH;AAAA;AAAA,wBAUMD,IAVN,EAUY;AACR,aAAO,KAAKL,GAAL,CAASQ,GAAT,CAAaH,IAAb,CAAP;AACD;AAZH;AAAA;AAAA,mCAciBI,EAdjB,EAcqBV,KAdrB,EAc4B;AACxB,WAAKK,gBAAL,CAAsBG,GAAtB,CAA0BE,EAA1B,EAA8BV,KAA9B;AACD;AAhBH;AAAA;AAAA,iCAkBe;AACX,aAAO,KAAKK,gBAAL,CAAsBM,IAAtB,EAAP;AACD;AApBH;AAAA;AAAA,8BAsBYD,EAtBZ,EAsBgB;AACZ,aAAO,KAAKL,gBAAL,CAAsBI,GAAtB,CAA0BC,EAA1B,CAAP;AACD;AAxBH;AAAA;AAAA,iCA0BeA,EA1Bf,EA0BmB;AACf,WAAKL,gBAAL,WAA6BK,EAA7B;AACD;AA5BH;;AAAA;AAAA","sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/* XVIZSessionContext provides state shared across\n * a session.  It includes both general state about\n * the session as well as a store for middleware state\n * if necessary.\n */\nexport class XVIZSessionContext {\n  constructor(state = {}) {\n    this.map = new Map(Object.entries(state));\n    this.activeTransforms = new Map();\n  }\n\n  set(name, val) {\n    this.map.set(name, val);\n  }\n\n  get(name) {\n    return this.map.get(name);\n  }\n\n  startTransform(id, state) {\n    this.activeTransforms.set(id, state);\n  }\n\n  transforms() {\n    return this.activeTransforms.keys();\n  }\n\n  transform(id) {\n    return this.activeTransforms.get(id);\n  }\n\n  endTransform(id) {\n    this.activeTransforms.delete(id);\n  }\n}\n"],"file":"xviz-session-context.js"}