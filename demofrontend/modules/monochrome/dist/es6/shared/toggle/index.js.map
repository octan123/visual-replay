{"version":3,"sources":["../../../../src/shared/toggle/index.js"],"names":["React","PureComponent","PropTypes","styled","withTheme","evaluateStyle","WrapperComponent","div","props","theme","__reset__","display","width","alignItems","justifyContent","cursor","pointerEvents","isEnabled","color","textColorPrimary","textColorDisabled","userStyle","ToggleComponent","outline","position","height","knobSize","flexShrink","ToggleTrack","boxSizing","background","value","controlColorActive","controlColorPrimary","controlColorDisabled","top","transform","ToggleKnob","borderStyle","borderWidth","borderColor","isHovered","controlColorHovered","hasFocus","borderRadius","left","transitionProperty","transitionDuration","transitionTimingFunction","Toggle","setState","evt","keyCode","onChange","render","className","style","label","controlSize","styleProps","state","_onMouseEnter","_onMouseLeave","_onClick","wrapper","toggle","_onKeyDown","_onFocus","_onBlur","track","knob","bool","isRequired","func","string","node","object"],"mappings":"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","sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\n\nimport styled from '@emotion/styled';\nimport {withTheme, evaluateStyle} from '../theme';\n\nconst WrapperComponent = styled.div(props => ({\n  ...props.theme.__reset__,\n  display: 'flex',\n  width: '100%',\n  alignItems: 'center',\n  justifyContent: 'space-between',\n  cursor: 'pointer',\n  pointerEvents: props.isEnabled ? 'all' : 'none',\n  color: props.isEnabled ? props.theme.textColorPrimary : props.theme.textColorDisabled,\n  ...evaluateStyle(props.userStyle, props)\n}));\n\nconst ToggleComponent = styled.div(props => ({\n  outline: 'none',\n  position: 'relative',\n  height: props.knobSize,\n  width: props.knobSize * 2,\n  flexShrink: 0,\n  ...evaluateStyle(props.userStyle, props)\n}));\n\nconst ToggleTrack = styled.div(props => ({\n  boxSizing: 'border-box',\n  position: 'absolute',\n  width: '100%',\n  height: 2,\n  background: props.isEnabled\n    ? props.value\n      ? props.theme.controlColorActive\n      : props.theme.controlColorPrimary\n    : props.theme.controlColorDisabled,\n  top: '50%',\n  transform: 'translateY(-50%)',\n  ...evaluateStyle(props.userStyle, props)\n}));\n\nconst ToggleKnob = styled.div(props => ({\n  boxSizing: 'border-box',\n  position: 'absolute',\n  width: props.knobSize,\n  height: props.knobSize,\n\n  background: props.theme.background,\n  borderStyle: 'solid',\n  borderWidth: 2,\n  borderColor: props.isEnabled\n    ? props.isHovered\n      ? props.theme.controlColorHovered\n      : props.hasFocus\n        ? props.theme.controlColorActive\n        : props.theme.controlColorPrimary\n    : props.theme.controlColorDisabled,\n  borderRadius: '50%',\n  left: props.value ? `calc(100% - ${props.knobSize}px)` : 0,\n\n  transitionProperty: 'left',\n  transitionDuration: props.theme.transitionDuration,\n  transitionTimingFunction: props.theme.transitionTimingFunction,\n\n  ...evaluateStyle(props.userStyle, props)\n}));\n\n// Input component that can be toggled on and off\nclass Toggle extends PureComponent {\n  static propTypes = {\n    value: PropTypes.bool.isRequired,\n    onChange: PropTypes.func,\n    className: PropTypes.string,\n    label: PropTypes.node,\n    style: PropTypes.object,\n    isEnabled: PropTypes.bool\n  };\n\n  static defaultProps = {\n    className: '',\n    value: true,\n    style: {},\n    isEnabled: true,\n    onChange: () => {}\n  };\n\n  state = {\n    hasFocus: false,\n    isHovered: false\n  };\n\n  _onMouseEnter = () => this.setState({isHovered: true});\n  _onMouseLeave = () => this.setState({isHovered: false});\n  _onFocus = () => this.setState({hasFocus: true});\n  _onBlur = () => this.setState({hasFocus: false});\n\n  _onKeyDown = evt => {\n    if (evt.keyCode === 32) {\n      // space\n      this.props.onChange(!this.props.value);\n    }\n  };\n\n  _onClick = () => {\n    this.props.onChange(!this.props.value);\n  };\n\n  render() {\n    const {theme, className, style, value, label, isEnabled} = this.props;\n    const {knobSize = theme.controlSize} = style;\n\n    const styleProps = {\n      theme,\n      knobSize,\n      value,\n      isHovered: this.state.isHovered,\n      hasFocus: this.state.hasFocus,\n      isEnabled\n    };\n\n    return (\n      <WrapperComponent\n        className={className}\n        onMouseEnter={this._onMouseEnter}\n        onMouseLeave={this._onMouseLeave}\n        onClick={this._onClick}\n        userStyle={style.wrapper}\n        {...styleProps}\n      >\n        {label}\n\n        <ToggleComponent\n          userStyle={style.toggle}\n          {...styleProps}\n          tabIndex={isEnabled ? 0 : -1}\n          onKeyDown={this._onKeyDown}\n          onFocus={this._onFocus}\n          onBlur={this._onBlur}\n        >\n          <ToggleTrack userStyle={style.track} {...styleProps} />\n          <ToggleKnob userStyle={style.knob} {...styleProps} />\n        </ToggleComponent>\n      </WrapperComponent>\n    );\n  }\n}\n\nexport default withTheme(Toggle);\n"],"file":"index.js"}