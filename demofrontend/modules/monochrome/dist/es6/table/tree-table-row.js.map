{"version":3,"sources":["../../../src/table/tree-table-row.js"],"names":["React","PureComponent","PropTypes","TableRowComponent","TableCell","Expander","TreeTableRow","id","index","depth","key","data","style","indentSize","columns","theme","userStyle","renderCell","getIsExpanded","props","isExpanded","hasChildren","children","length","indent","row","expander","marginLeft","_toggleExpansion","iconExpanded","iconCollapsed","flexShrink","width","map","colValue","colIndex","column","name","cell","value","srcObject","columnIndex","rowId","rowIndex","_renderItem","toggleExpansion","render","string","shape","array","object","number","func"],"mappings":"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","sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\n\nimport {TableRowComponent, TableCell, Expander} from './styled-components';\n\n/**\n * A stateless component that renders a data row in the TreeTable component\n */\nexport default class TreeTableRow extends PureComponent {\n  static propTypes = {\n    id: PropTypes.string,\n    data: PropTypes.shape({\n      data: PropTypes.array,\n      children: PropTypes.array\n    }),\n    style: PropTypes.object,\n    indentSize: PropTypes.number,\n    renderCell: PropTypes.func,\n    columns: PropTypes.array,\n    getIsExpanded: PropTypes.func,\n    toggleExpansion: PropTypes.func\n  };\n\n  _toggleExpansion(id) {\n    this.props.toggleExpansion(id, this.props.id);\n  }\n\n  _renderItem = ({id, index, depth = 0, key, data, style}) => {\n    const {indentSize, columns, theme, userStyle, renderCell, getIsExpanded} = this.props;\n\n    const isExpanded = getIsExpanded(id);\n    const hasChildren = data.children.length > 0;\n    const indent = indentSize * (depth + 1);\n\n    return (\n      <div key={key} style={style}>\n        <TableRowComponent theme={theme} index={index} userStyle={userStyle.row}>\n          {hasChildren && (\n            <Expander\n              key=\"toggle\"\n              isExpanded={isExpanded}\n              theme={theme}\n              userStyle={userStyle.expander}\n              style={{marginLeft: indent}}\n              onClick={() => this._toggleExpansion(id)}\n            >\n              {isExpanded ? userStyle.iconExpanded || '▾' : userStyle.iconCollapsed || '▸'}\n            </Expander>\n          )}\n\n          <div style={{flexShrink: 0, width: indent}} />\n\n          {data.data.map((colValue, colIndex) => {\n            const column = columns[colIndex];\n            const width = colIndex === 0 ? column.width - indent : column.width;\n\n            return (\n              <TableCell\n                key={colIndex}\n                index={colIndex}\n                style={{width}}\n                title={`${column.name}: ${colValue}`}\n                theme={theme}\n                userStyle={userStyle.cell}\n              >\n                {renderCell({\n                  value: colValue,\n                  column: column.srcObject,\n                  columnIndex: colIndex,\n                  row: data.srcObject,\n                  rowId: id\n                })}\n              </TableCell>\n            );\n          })}\n        </TableRowComponent>\n\n        {hasChildren &&\n          isExpanded &&\n          data.children.map((row, rowIndex) =>\n            this._renderItem({\n              depth: depth + 1,\n              id: `${id}.${rowIndex}`,\n              index: rowIndex,\n              key: rowIndex,\n              data: row\n            })\n          )}\n      </div>\n    );\n  };\n\n  render() {\n    return this._renderItem({...this.props});\n  }\n}\n"],"file":"tree-table-row.js"}