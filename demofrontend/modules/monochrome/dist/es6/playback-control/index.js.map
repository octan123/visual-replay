{"version":3,"sources":["../../../src/playback-control/index.js"],"names":["React","PureComponent","PropTypes","AutoSizer","Slider","getTimelineTicks","formatTimeCode","scaleLinear","withTheme","WrapperComponent","ControlsContainer","PlayPauseButton","Timestamp","TicksContainer","Tick","TickLabel","MarkersContainer","MarkerComponent","BufferComponent","PlayIcon","PauseIcon","DEFAULT_PADDING","COMPACT_CONTAINER_STYLE","display","alignItems","noop","normalizePadding","padding","Number","isFinite","right","left","Object","assign","PlaybackControl","constructor","props","onPlay","onPause","newTime","currentTime","onSeek","width","style","scale","range","setState","componentDidUpdate","prevProps","step","startTime","endTime","_pause","_seek","componentWillUnmount","_renderMarker","marker","i","Component","styleProps","userStyle","time","content","x0","x1","markerStyle","position","_renderTimeline","tickSpacing","formatTick","markers","ticks","map","t","tickStyle","x","tick","tickLabel","label","_renderSlider","bufferRange","buffers","Array","isArray","slider","buffer","_renderPlayPauseButton","isPlaying","playPauseButton","_play","iconPause","iconPlay","_renderTimestamp","formatTimestamp","timestamp","render","theme","compact","className","domain","wrapperStyle","sliderStyle","flexGrow","paddingLeft","paddingRight","wrapper","_onResize","controls","children","oneOfType","string","number","object","bool","isRequired","arrayOf","func","ThemedPlaybackControl"],"mappings":"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","sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\n\nimport AutoSizer from '../shared/autosizer';\nimport Slider from '../shared/slider';\nimport {getTimelineTicks, formatTimeCode} from './utils';\nimport {scaleLinear} from 'd3-scale';\n\nimport {withTheme} from '../shared/theme';\n\nimport {\n  WrapperComponent,\n  ControlsContainer,\n  PlayPauseButton,\n  Timestamp,\n  TicksContainer,\n  Tick,\n  TickLabel,\n  MarkersContainer,\n  MarkerComponent,\n  BufferComponent\n} from './styled-components.js';\nimport {PlayIcon, PauseIcon} from '../shared/icons';\n\nconst DEFAULT_PADDING = 24;\nconst COMPACT_CONTAINER_STYLE = {display: 'flex', alignItems: 'flex-end'};\n\nfunction noop() {}\n\nfunction normalizePadding(padding) {\n  padding = padding || 0;\n  if (Number.isFinite(padding)) {\n    return {right: padding, left: padding};\n  }\n  return Object.assign(\n    {\n      right: 0,\n      left: 0\n    },\n    padding\n  );\n}\n\n/*\n * @class\n */\nclass PlaybackControl extends PureComponent {\n  static propTypes = {\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    style: PropTypes.object,\n    compact: PropTypes.bool,\n\n    currentTime: PropTypes.number.isRequired,\n    startTime: PropTypes.number,\n    endTime: PropTypes.number.isRequired,\n    isPlaying: PropTypes.bool.isRequired,\n    className: PropTypes.string,\n\n    // config\n    step: PropTypes.number,\n    tickSpacing: PropTypes.number,\n    bufferRange: PropTypes.arrayOf(PropTypes.object),\n    markers: PropTypes.arrayOf(PropTypes.object),\n\n    // callbacks\n    formatTick: PropTypes.func,\n    formatTimestamp: PropTypes.func,\n    onPlay: PropTypes.func,\n    onPause: PropTypes.func,\n    onSeek: PropTypes.func\n  };\n\n  static defaultProps = {\n    style: {},\n    compact: false,\n\n    className: '',\n    startTime: 0,\n    step: 0.1,\n    tickSpacing: 100,\n    formatTick: x => formatTimeCode(x, '{mm}:{ss}'),\n    formatTimestamp: x => formatTimeCode(x, '{mm}:{ss}.{S}'),\n    onPlay: noop,\n    onPause: noop,\n    onSeek: noop\n  };\n\n  constructor(props) {\n    super(props);\n    this.scale = scaleLinear();\n  }\n\n  componentDidUpdate(prevProps) {\n    const props = this.props;\n\n    if (\n      prevProps.step !== props.step ||\n      prevProps.startTime !== props.startTime ||\n      prevProps.endTime !== props.endTime\n    ) {\n      // Video source has changed\n      // Kill any running animation to avoid callbacks in incorrect time range\n      this._pause();\n      // Update currentTime to make sure it is the start of the new range\n      this._seek(props.startTime);\n    }\n  }\n\n  componentWillUnmount() {\n    this._pause();\n  }\n\n  _play = () => {\n    this.props.onPlay();\n  };\n\n  _pause = () => {\n    this.props.onPause();\n  };\n\n  _seek = newTime => {\n    const {currentTime} = this.props;\n\n    if (newTime !== currentTime) {\n      this.props.onSeek(newTime);\n    }\n  };\n\n  _onResize = ({width}) => {\n    let {padding = 24} = this.props.style;\n    padding = normalizePadding(padding);\n    this.scale.range([0, width - padding.left - padding.right]);\n    // Trigger rerender\n    this.setState({width});\n  };\n\n  _renderMarker(marker, i, Component, styleProps, userStyle) {\n    const {scale} = this;\n    const {startTime = marker.time, endTime = marker.time, style, content} = marker;\n    const x0 = scale(startTime);\n    const x1 = scale(endTime);\n\n    const markerStyle = {\n      ...style,\n      position: 'absolute',\n      left: x0,\n      width: x1 - x0\n    };\n\n    return (\n      <Component key={i} {...styleProps} style={markerStyle} userStyle={userStyle}>\n        {content}\n      </Component>\n    );\n  }\n\n  _renderTimeline(styleProps) {\n    const {style, tickSpacing, formatTick, markers} = this.props;\n    const {scale} = this;\n    const ticks = getTimelineTicks(scale, tickSpacing, formatTick);\n\n    return (\n      <div>\n        <TicksContainer {...styleProps} userStyle={style.ticks}>\n          {ticks.map((t, i) => {\n            const tickStyle = {\n              position: 'absolute',\n              left: t.x\n            };\n            return (\n              <Tick key={i} {...styleProps} userStyle={style.tick} style={tickStyle}>\n                <TickLabel {...styleProps} userStyle={style.tickLabel}>\n                  {t.label}\n                </TickLabel>\n              </Tick>\n            );\n          })}\n        </TicksContainer>\n\n        {markers && (\n          <MarkersContainer {...styleProps} userStyle={style.markers}>\n            {markers.map((marker, i) =>\n              this._renderMarker(marker, i, MarkerComponent, styleProps, style.marker)\n            )}\n          </MarkersContainer>\n        )}\n      </div>\n    );\n  }\n\n  _renderSlider(styleProps) {\n    const {style, currentTime, startTime, endTime, step, bufferRange = []} = this.props;\n\n    const buffers = Array.isArray(bufferRange) ? bufferRange : [bufferRange];\n\n    return (\n      <Slider\n        style={style.slider}\n        value={currentTime}\n        onChange={this._seek}\n        knobSize={18}\n        step={step}\n        min={startTime}\n        max={endTime}\n      >\n        {buffers.map((range, i) =>\n          this._renderMarker(range, i, BufferComponent, styleProps, style.buffer)\n        )}\n      </Slider>\n    );\n  }\n\n  _renderPlayPauseButton(styleProps) {\n    const {isPlaying, style} = this.props;\n\n    return (\n      <PlayPauseButton\n        {...styleProps}\n        userStyle={style.playPauseButton}\n        onClick={isPlaying ? this._pause : this._play}\n      >\n        {isPlaying ? style.iconPause || <PauseIcon /> : style.iconPlay || <PlayIcon />}\n      </PlayPauseButton>\n    );\n  }\n\n  _renderTimestamp(styleProps) {\n    const {style, currentTime, formatTimestamp} = this.props;\n    return (\n      <Timestamp {...styleProps} userStyle={style.timestamp}>\n        {formatTimestamp(currentTime)}\n      </Timestamp>\n    );\n  }\n\n  render() {\n    const {theme, compact, width, style, className, isPlaying, startTime, endTime} = this.props;\n\n    let {padding = DEFAULT_PADDING} = style;\n    padding = normalizePadding(padding);\n\n    this.scale.domain([startTime, endTime]);\n\n    const styleProps = {\n      theme,\n      compact,\n      isPlaying\n    };\n\n    const wrapperStyle = {width};\n\n    if (compact) {\n      const sliderStyle = {\n        flexGrow: 1,\n        paddingLeft: padding.left,\n        paddingRight: padding.right\n      };\n\n      return (\n        <WrapperComponent\n          className={className}\n          {...styleProps}\n          userStyle={style.wrapper}\n          style={wrapperStyle}\n        >\n          <div style={COMPACT_CONTAINER_STYLE}>\n            {this._renderPlayPauseButton(styleProps)}\n            <div style={sliderStyle}>\n              <AutoSizer disableHeight={true} onResize={this._onResize} />\n              {this._renderTimeline(styleProps)}\n              {this._renderSlider(styleProps)}\n            </div>\n            {this._renderTimestamp(styleProps)}\n          </div>\n\n          <ControlsContainer {...styleProps} userStyle={style.controls}>\n            {this.props.children}\n          </ControlsContainer>\n        </WrapperComponent>\n      );\n    }\n\n    Object.assign(wrapperStyle, {\n      paddingLeft: padding.left,\n      paddingRight: padding.right\n    });\n\n    return (\n      <WrapperComponent\n        className={className}\n        {...styleProps}\n        userStyle={style.wrapper}\n        style={wrapperStyle}\n      >\n        <AutoSizer disableHeight={true} onResize={this._onResize} />\n        {this._renderTimeline(styleProps)}\n        {this._renderSlider(styleProps)}\n\n        <ControlsContainer {...styleProps} userStyle={style.controls}>\n          {this._renderPlayPauseButton(styleProps)}\n          {this._renderTimestamp(styleProps)}\n          {this.props.children}\n        </ControlsContainer>\n      </WrapperComponent>\n    );\n  }\n}\n\nconst ThemedPlaybackControl = withTheme(PlaybackControl);\nThemedPlaybackControl.formatTimeCode = formatTimeCode;\n\nexport default ThemedPlaybackControl;\n"],"file":"index.js"}