{"version":3,"sources":["../../../../src/shared/dropdown/index.js"],"names":["React","PureComponent","PropTypes","styled","withTheme","evaluateStyle","DropdownIcon","DefaultDropdownIcon","getControlColor","props","isEnabled","theme","controlColorDisabled","hasFocus","controlColorActive","isHovered","controlColorHovered","controlColorPrimary","WrapperComponent","div","__reset__","pointerEvents","userStyle","DropdownBorder","position","width","height","borderStyle","borderWidth","borderColor","DropdownInput","select","cursor","boxSizing","lineHeight","color","textColorPrimary","textColorDisabled","appearance","background","border","outline","paddingLeft","spacingSmall","paddingRight","spacingLarge","right","top","transform","padding","textAlign","path","fill","Dropdown","setState","event","onChange","target","value","style","className","data","controlSize","spacingTiny","styleProps","state","wrapper","_onMouseEnter","_onMouseLeave","_onFocus","_onBlur","_onChange","Object","keys","map","key","icon","iconArrow","string","isRequired","func","object","bool"],"mappings":"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","sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\n\nimport styled from '@emotion/styled';\nimport {withTheme, evaluateStyle} from '../theme';\nimport {DropdownIcon as DefaultDropdownIcon} from '../icons';\n\nfunction getControlColor(props) {\n  if (!props.isEnabled) {\n    return props.theme.controlColorDisabled;\n  } else if (props.hasFocus) {\n    return props.theme.controlColorActive;\n  } else if (props.isHovered) {\n    return props.theme.controlColorHovered;\n  }\n  return props.theme.controlColorPrimary;\n}\n\nconst WrapperComponent = styled.div(props => ({\n  ...props.theme.__reset__,\n  pointerEvents: props.isEnabled ? 'all' : 'none',\n  ...evaluateStyle(props.userStyle, props)\n}));\n\nconst DropdownBorder = styled.div(props => ({\n  position: 'relative',\n  width: '100%',\n  height: props.height,\n  borderStyle: 'solid',\n  borderWidth: 1,\n  borderColor: getControlColor(props),\n  ...evaluateStyle(props.userStyle, props)\n}));\n\nconst DropdownInput = styled.select(props => ({\n  cursor: 'pointer',\n  boxSizing: 'border-box',\n  width: '100%',\n  height: '100%',\n  lineHeight: `${props.height}px`,\n  color: props.isEnabled ? props.theme.textColorPrimary : props.theme.textColorDisabled,\n\n  appearance: 'none',\n  background: props.theme.background,\n  border: 'none',\n  outline: 0,\n  paddingLeft: props.theme.spacingSmall,\n  paddingRight: props.theme.spacingLarge,\n\n  ...evaluateStyle(props.userStyle, props)\n}));\n\nconst DropdownIcon = styled.div(props => ({\n  pointerEvents: 'none',\n  position: 'absolute',\n  right: 0,\n  top: '50%',\n  transform: 'translateY(-50%)',\n\n  color: getControlColor(props),\n  padding: props.theme.spacingSmall,\n  width: 16,\n  height: 16,\n  textAlign: 'center',\n  lineHeight: '16px',\n  path: {fill: 'currentColor'},\n\n  ...evaluateStyle(props.userStyle, props)\n}));\n\n// Select component that takes an array and accessors and populates a dropdown\nclass Dropdown extends PureComponent {\n  static propTypes = {\n    value: PropTypes.string.isRequired,\n    onChange: PropTypes.func,\n    data: PropTypes.object.isRequired,\n    className: PropTypes.string,\n    style: PropTypes.object,\n    isEnabled: PropTypes.bool\n  };\n\n  static defaultProps = {\n    className: '',\n    style: {},\n    isEnabled: true,\n    onChange: () => {}\n  };\n\n  state = {\n    hasFocus: false,\n    isHovered: false\n  };\n\n  _onMouseEnter = () => this.setState({isHovered: true});\n  _onMouseLeave = () => this.setState({isHovered: false});\n  _onFocus = () => this.setState({hasFocus: true});\n  _onBlur = () => this.setState({hasFocus: false});\n\n  _onChange = event => {\n    const {onChange} = this.props;\n    onChange(event.target.value);\n  };\n\n  render() {\n    const {theme, style, className, data, value, isEnabled} = this.props;\n    const {height = theme.controlSize + theme.spacingTiny * 2} = style;\n\n    const styleProps = {\n      theme,\n      height,\n      hasFocus: this.state.hasFocus,\n      isHovered: this.state.isHovered,\n      isEnabled\n    };\n\n    return (\n      <WrapperComponent className={className} userStyle={style.wrapper} {...styleProps}>\n        <DropdownBorder\n          userStyle={style.border}\n          {...styleProps}\n          onMouseEnter={this._onMouseEnter}\n          onMouseLeave={this._onMouseLeave}\n        >\n          <DropdownInput\n            userStyle={style.select}\n            {...styleProps}\n            tabIndex={isEnabled ? 0 : -1}\n            onFocus={this._onFocus}\n            onBlur={this._onBlur}\n            onChange={this._onChange}\n            value={value}\n          >\n            {Object.keys(data).map(key => (\n              <option key={key} value={key}>\n                {data[key]}\n              </option>\n            ))}\n          </DropdownInput>\n          <DropdownIcon userStyle={style.icon} {...styleProps}>\n            {style.iconArrow || <DefaultDropdownIcon />}\n          </DropdownIcon>\n        </DropdownBorder>\n      </WrapperComponent>\n    );\n  }\n}\n\nexport default withTheme(Dropdown);\n"],"file":"index.js"}