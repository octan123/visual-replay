{"version":3,"sources":["../../../../src/shared/popover/utils.js"],"names":["POSITIONS","capitalize","string","toUpperCase","slice","getOppositePosition","side","TOP","BOTTOM","RIGHT","LEFT","generateTriangleStyles","position","size","positions","oppositePosition","style","width","height","borderStyle","p","key","color","undefined","nodeHasParent","current","possibleParent","parentNode","positionsToPopperPlacement","arrowPosition","placement","AUTO"],"mappings":"AAmBA,SAAQA,SAAR,QAAwB,WAAxB;AAEA,OAAO,SAASC,UAAT,CAAoBC,MAApB,EAA4B;AACjC,SAAOA,MAAM,CAAC,CAAD,CAAN,CAAUC,WAAV,KAA0BD,MAAM,CAACE,KAAP,CAAa,CAAb,CAAjC;AACD;AAED,OAAO,SAASC,mBAAT,CAA6BC,IAA7B,EAAmC;AACxC,UAAQA,IAAR;AACE,SAAKN,SAAS,CAACO,GAAf;AACE,aAAOP,SAAS,CAACQ,MAAjB;;AACF,SAAKR,SAAS,CAACS,KAAf;AACE,aAAOT,SAAS,CAACU,IAAjB;;AACF,SAAKV,SAAS,CAACQ,MAAf;AACE,aAAOR,SAAS,CAACO,GAAjB;;AACF,SAAKP,SAAS,CAACU,IAAf;AACE,aAAOV,SAAS,CAACS,KAAjB;;AACF;AACE,aAAOT,SAAS,CAACQ,MAAjB;AAVJ;AAYD;AAQD,OAAO,SAASG,sBAAT,CAAgCC,QAAhC,EAA0CC,IAA1C,EAAgD;AAErD,MAAMC,SAAS,GAAG,CAACd,SAAS,CAACO,GAAX,EAAgBP,SAAS,CAACS,KAA1B,EAAiCT,SAAS,CAACQ,MAA3C,EAAmDR,SAAS,CAACU,IAA7D,CAAlB;AAEA,MAAMK,gBAAgB,GAAGV,mBAAmB,CAACO,QAAD,CAA5C;AACA,MAAMI,KAAK,GAAG;AACZJ,IAAAA,QAAQ,EAAE,UADE;AAEZK,IAAAA,KAAK,EAAE,CAFK;AAGZC,IAAAA,MAAM,EAAE,CAHI;AAIZC,IAAAA,WAAW,EAAE;AAJD,GAAd;;AAOA,gCAAgBL,SAAhB,gCAA2B;AAAtB,QAAMM,CAAC,iBAAP;AACH,QAAMC,GAAG,GAAGpB,UAAU,CAACmB,CAAD,CAAtB;AACA,QAAMH,KAAK,GAAGG,CAAC,KAAKL,gBAAN,GAAyB,CAAzB,GAA6BF,IAA3C;AACA,QAAMS,KAAK,GAAGF,CAAC,KAAKR,QAAN,GAAiBW,SAAjB,GAA6B,aAA3C;AACAP,IAAAA,KAAK,iBAAUK,GAAV,WAAL,GAA6BJ,KAA7B;AACAD,IAAAA,KAAK,iBAAUK,GAAV,WAAL,GAA6BC,KAA7B;AACD;;AAED,SAAON,KAAP;AACD;AAED,OAAO,SAASQ,aAAT,CAAuBC,OAAvB,EAAgCC,cAAhC,EAAgD;AACrD,MAAID,OAAO,KAAKC,cAAhB,EAAgC;AAC9B,WAAO,IAAP;AACD;;AACD,SAAOD,OAAO,CAACE,UAAf,EAA2B;AACzB,QAAIF,OAAO,KAAKC,cAAhB,EAAgC;AAC9B,aAAO,IAAP;AACD;;AACDD,IAAAA,OAAO,GAAGA,OAAO,CAACE,UAAlB;AACD;;AACD,SAAO,KAAP;AACD;AAED,OAAO,SAASC,0BAAT,CAAoChB,QAApC,EAA8CiB,aAA9C,EAA6D;AAClE,MAAIC,SAAS,GAAGlB,QAAQ,IAAIZ,SAAS,CAAC+B,IAAtC;;AACA,MAAIF,aAAa,KAAK7B,SAAS,CAACU,IAA5B,IAAoCmB,aAAa,KAAK7B,SAAS,CAACO,GAApE,EAAyE;AACvEuB,IAAAA,SAAS,aAAMA,SAAN,WAAT;AACD;;AACD,MAAID,aAAa,KAAK7B,SAAS,CAACS,KAA5B,IAAqCoB,aAAa,KAAK7B,SAAS,CAACQ,MAArE,EAA6E;AAC3EsB,IAAAA,SAAS,aAAMA,SAAN,SAAT;AACD;;AACD,SAAOA,SAAP;AACD","sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport {POSITIONS} from './popover';\n\nexport function capitalize(string) {\n  return string[0].toUpperCase() + string.slice(1);\n}\n\nexport function getOppositePosition(side) {\n  switch (side) {\n    case POSITIONS.TOP:\n      return POSITIONS.BOTTOM;\n    case POSITIONS.RIGHT:\n      return POSITIONS.LEFT;\n    case POSITIONS.BOTTOM:\n      return POSITIONS.TOP;\n    case POSITIONS.LEFT:\n      return POSITIONS.RIGHT;\n    default:\n      return POSITIONS.BOTTOM;\n  }\n}\n\n/**\n * Some of this logic for generating arrows may seem rather complicated.\n * Normally Popper.js has an accompanying css file with some of the necessary\n * rules, but in the interest of having zero css dependencies, we'll move\n * this styling/positioning logic into js\n */\nexport function generateTriangleStyles(position, size) {\n  // Generate borderWidth & borderColor rules\n  const positions = [POSITIONS.TOP, POSITIONS.RIGHT, POSITIONS.BOTTOM, POSITIONS.LEFT];\n  // Set border width to zero for opposite position\n  const oppositePosition = getOppositePosition(position);\n  const style = {\n    position: 'absolute',\n    width: 0,\n    height: 0,\n    borderStyle: 'solid'\n  };\n\n  for (const p of positions) {\n    const key = capitalize(p);\n    const width = p === oppositePosition ? 0 : size;\n    const color = p === position ? undefined : 'transparent';\n    style[`border${key}Width`] = width;\n    style[`border${key}Color`] = color;\n  }\n\n  return style;\n}\n\nexport function nodeHasParent(current, possibleParent) {\n  if (current === possibleParent) {\n    return true;\n  }\n  while (current.parentNode) {\n    if (current === possibleParent) {\n      return true;\n    }\n    current = current.parentNode;\n  }\n  return false;\n}\n\nexport function positionsToPopperPlacement(position, arrowPosition) {\n  let placement = position || POSITIONS.AUTO;\n  if (arrowPosition === POSITIONS.LEFT || arrowPosition === POSITIONS.TOP) {\n    placement = `${placement}-start`;\n  }\n  if (arrowPosition === POSITIONS.RIGHT || arrowPosition === POSITIONS.BOTTOM) {\n    placement = `${placement}-end`;\n  }\n  return placement;\n}\n"],"file":"utils.js"}