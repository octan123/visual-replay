{"version":3,"sources":["../../../../src/shared/button/index.js"],"names":["React","PureComponent","PropTypes","styled","withTheme","evaluateStyle","BUTTON_TYPE","NORMAL","PRIMARY","WARNING","MUTED","getBackgroundColor","props","type","theme","background","isEnabled","controlColorDisabled","isHovered","primary500","controlColorActive","warning500","warning400","controlColorHovered","controlColorPrimary","getTextColor","textColorInvert","WrapperComponent","button","__reset__","outline","display","boxSizing","border","paddingLeft","spacingNormal","paddingRight","height","size","lineHeight","textAlign","cursor","pointerEvents","color","userStyle","Button","setState","hasFocus","onChange","value","className","style","onClick","controlSize","spacingTiny","styleProps","state","_onMouseEnter","_onMouseLeave","_onFocus","_onBlur","wrapper","children","oneOf","Object","values","func","string","object","bool","ThemedButton","assign"],"mappings":"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","sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\n\nimport styled from '@emotion/styled';\nimport {withTheme, evaluateStyle} from '../theme';\n\nconst BUTTON_TYPE = {\n  NORMAL: 0,\n  PRIMARY: 1,\n  WARNING: 2,\n  MUTED: 3\n};\n\nfunction getBackgroundColor(props) {\n  if (props.type === BUTTON_TYPE.MUTED) {\n    return props.theme.background;\n  }\n  if (!props.isEnabled) {\n    return props.theme.controlColorDisabled;\n  }\n\n  switch (props.type) {\n    case BUTTON_TYPE.PRIMARY:\n      return props.isHovered ? props.theme.primary500 : props.theme.controlColorActive;\n    case BUTTON_TYPE.WARNING:\n      return props.isHovered ? props.theme.warning500 : props.theme.warning400;\n    case BUTTON_TYPE.NORMAL:\n    default:\n      return props.isHovered ? props.theme.controlColorHovered : props.theme.controlColorPrimary;\n  }\n}\n\nfunction getTextColor(props) {\n  if (props.type !== BUTTON_TYPE.MUTED) {\n    return props.theme.textColorInvert;\n  }\n  if (!props.isEnabled) {\n    return props.theme.controlColorDisabled;\n  }\n  if (props.isHovered) {\n    return props.theme.controlColorHovered;\n  }\n  return props.theme.controlColorPrimary;\n}\n\nconst WrapperComponent = styled.button(props => ({\n  ...props.theme.__reset__,\n  outline: 'none',\n  display: 'inline-block',\n\n  boxSizing: 'border-box',\n  border: 'none',\n  paddingLeft: props.theme.spacingNormal,\n  paddingRight: props.theme.spacingNormal,\n  height: props.size,\n  lineHeight: `${props.size}px`,\n\n  textAlign: 'center',\n  cursor: 'pointer',\n  pointerEvents: props.isEnabled ? 'all' : 'none',\n  background: getBackgroundColor(props),\n  color: getTextColor(props),\n  ...evaluateStyle(props.userStyle, props)\n}));\n\n// Input component that can be toggled on and off\nclass Button extends PureComponent {\n  static propTypes = {\n    type: PropTypes.oneOf(Object.values(BUTTON_TYPE)),\n    onClick: PropTypes.func,\n    className: PropTypes.string,\n    style: PropTypes.object,\n    isEnabled: PropTypes.bool\n  };\n\n  static defaultProps = {\n    type: BUTTON_TYPE.NORMAL,\n    className: '',\n    style: {},\n    isEnabled: true\n  };\n\n  state = {\n    isHovered: false\n  };\n\n  _onMouseEnter = () => this.setState({isHovered: true});\n  _onMouseLeave = () => this.setState({isHovered: false});\n  _onFocus = () => this.setState({hasFocus: true});\n  _onBlur = () => this.setState({hasFocus: false});\n\n  _onClick = () => {\n    this.props.onChange(!this.props.value);\n  };\n\n  render() {\n    const {theme, type, className, style, isEnabled, onClick} = this.props;\n    const {size = theme.controlSize + theme.spacingTiny * 2} = style;\n\n    const styleProps = {\n      type,\n      theme,\n      size,\n      hasFocus: this.state.hasFocus,\n      isHovered: this.state.isHovered,\n      isEnabled\n    };\n\n    return (\n      <WrapperComponent\n        className={className}\n        onMouseEnter={this._onMouseEnter}\n        onMouseLeave={this._onMouseLeave}\n        onFocus={this._onFocus}\n        onBlur={this._onBlur}\n        onClick={onClick}\n        userStyle={style.wrapper}\n        {...styleProps}\n      >\n        {this.props.children}\n      </WrapperComponent>\n    );\n  }\n}\n\nconst ThemedButton = withTheme(Button);\nObject.assign(ThemedButton, BUTTON_TYPE);\n\nexport default ThemedButton;\n"],"file":"index.js"}