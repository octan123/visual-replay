{"version":3,"sources":["../../../../src/shared/text-box/index.js"],"names":["React","PureComponent","PropTypes","styled","withTheme","evaluateStyle","ClearIcon","getControlColor","props","isEnabled","theme","controlColorDisabled","hasFocus","controlColorActive","isHovered","controlColorHovered","controlColorPrimary","WrapperComponent","div","__reset__","pointerEvents","userStyle","TextBoxBorder","position","width","height","borderStyle","borderWidth","borderColor","TextBoxInput","input","boxSizing","lineHeight","background","outline","paddingLeft","spacingSmall","paddingRight","color","textColorPrimary","textColorDisabled","border","TextBoxClearButton","cursor","right","top","transform","padding","textAlign","path","fill","TextBox","setState","event","onChange","target","value","className","style","showClearButton","controlSize","spacingTiny","styleProps","state","wrapper","_onMouseEnter","_onMouseLeave","ref","_input","_onFocus","_onBlur","_onChange","Boolean","clear","_onClear","iconClear","string","isRequired","func","object","bool"],"mappings":"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","sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\n\nimport styled from '@emotion/styled';\nimport {withTheme, evaluateStyle} from '../theme';\nimport {ClearIcon} from '../icons';\n\nfunction getControlColor(props) {\n  if (!props.isEnabled) {\n    return props.theme.controlColorDisabled;\n  } else if (props.hasFocus) {\n    return props.theme.controlColorActive;\n  } else if (props.isHovered) {\n    return props.theme.controlColorHovered;\n  }\n  return props.theme.controlColorPrimary;\n}\n\nconst WrapperComponent = styled.div(props => ({\n  ...props.theme.__reset__,\n  pointerEvents: props.isEnabled ? 'all' : 'none',\n  ...evaluateStyle(props.userStyle, props)\n}));\n\nconst TextBoxBorder = styled.div(props => ({\n  position: 'relative',\n  width: '100%',\n  height: props.height,\n  borderStyle: 'solid',\n  borderWidth: 1,\n  borderColor: getControlColor(props),\n  ...evaluateStyle(props.userStyle, props)\n}));\n\nconst TextBoxInput = styled.input(props => ({\n  boxSizing: 'border-box',\n  width: '100%',\n  height: '100%',\n  lineHeight: `${props.height}px`,\n\n  background: props.theme.background,\n  outline: 'none',\n  paddingLeft: props.theme.spacingSmall,\n  paddingRight: props.theme.spacingSmall,\n  color: props.isEnabled ? props.theme.textColorPrimary : props.theme.textColorDisabled,\n  border: 'none',\n  ...evaluateStyle(props.userStyle, props)\n}));\n\nconst TextBoxClearButton = styled.div(props => ({\n  cursor: 'pointer',\n  position: 'absolute',\n  right: 0,\n  top: '50%',\n  transform: 'translateY(-50%)',\n  color: props.theme.controlColorPrimary,\n\n  padding: props.theme.spacingSmall,\n  width: 16,\n  height: 16,\n  textAlign: 'center',\n  lineHeight: '16px',\n  path: {fill: 'currentColor'},\n  '&:hover': {\n    color: props.theme.controlColorHovered\n  },\n  ...evaluateStyle(props.userStyle, props)\n}));\n\n// Input component that can be toggled on and off\nclass TextBox extends PureComponent {\n  static propTypes = {\n    value: PropTypes.string.isRequired,\n    onChange: PropTypes.func,\n    className: PropTypes.string,\n    style: PropTypes.object,\n    showClearButton: PropTypes.bool,\n    isEnabled: PropTypes.bool\n  };\n\n  static defaultProps = {\n    className: '',\n    style: {},\n    showClearButton: true,\n    isEnabled: true,\n    onChange: () => {}\n  };\n\n  state = {\n    hasFocus: false,\n    isHovered: false\n  };\n\n  _onMouseEnter = () => this.setState({isHovered: true});\n\n  _onMouseLeave = () => this.setState({isHovered: false});\n\n  _onFocus = () => this.setState({hasFocus: true});\n\n  _onBlur = () => this.setState({hasFocus: false});\n\n  _onChange = event => {\n    this.props.onChange(event.target.value);\n  };\n\n  _onClear = event => {\n    this.props.onChange('');\n  };\n\n  render() {\n    const {value, className, theme, style, showClearButton, isEnabled} = this.props;\n    const {height = theme.controlSize + theme.spacingTiny * 2} = style;\n\n    const styleProps = {\n      theme,\n      height,\n      isEnabled,\n      isHovered: this.state.isHovered,\n      hasFocus: this.state.hasFocus\n    };\n\n    return (\n      <WrapperComponent className={className} userStyle={style.wrapper} {...styleProps}>\n        <TextBoxBorder\n          userStyle={style.border}\n          {...styleProps}\n          onMouseEnter={this._onMouseEnter}\n          onMouseLeave={this._onMouseLeave}\n        >\n          <TextBoxInput\n            userStyle={style.input}\n            {...styleProps}\n            ref={ref => {\n              this._input = ref;\n            }}\n            type=\"text\"\n            tabIndex={isEnabled ? 0 : -1}\n            onFocus={this._onFocus}\n            onBlur={this._onBlur}\n            onChange={this._onChange}\n            value={value}\n          />\n          {Boolean(value && showClearButton && isEnabled) && (\n            <TextBoxClearButton userStyle={style.clear} {...styleProps} onClick={this._onClear}>\n              {style.iconClear || <ClearIcon />}\n            </TextBoxClearButton>\n          )}\n        </TextBoxBorder>\n      </WrapperComponent>\n    );\n  }\n}\n\nexport default withTheme(TextBox);\n"],"file":"index.js"}