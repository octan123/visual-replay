{"version":3,"sources":["../../../src/table/tree-table-row.js"],"names":["React","PureComponent","PropTypes","TableRowComponent","TableCell","Expander","TreeTableRow","id","index","depth","key","data","style","props","indentSize","columns","theme","userStyle","renderCell","getIsExpanded","isExpanded","hasChildren","children","length","indent","row","expander","marginLeft","_toggleExpansion","iconExpanded","iconCollapsed","flexShrink","width","map","colValue","colIndex","column","name","cell","value","srcObject","columnIndex","rowId","rowIndex","_renderItem","toggleExpansion","string","shape","array","object","number","func"],"mappings":"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","sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\n\nimport {TableRowComponent, TableCell, Expander} from './styled-components';\n\n/**\n * A stateless component that renders a data row in the TreeTable component\n */\nexport default class TreeTableRow extends PureComponent {\n  static propTypes = {\n    id: PropTypes.string,\n    data: PropTypes.shape({\n      data: PropTypes.array,\n      children: PropTypes.array\n    }),\n    style: PropTypes.object,\n    indentSize: PropTypes.number,\n    renderCell: PropTypes.func,\n    columns: PropTypes.array,\n    getIsExpanded: PropTypes.func,\n    toggleExpansion: PropTypes.func\n  };\n\n  _toggleExpansion(id) {\n    this.props.toggleExpansion(id, this.props.id);\n  }\n\n  _renderItem = ({id, index, depth = 0, key, data, style}) => {\n    const {indentSize, columns, theme, userStyle, renderCell, getIsExpanded} = this.props;\n\n    const isExpanded = getIsExpanded(id);\n    const hasChildren = data.children.length > 0;\n    const indent = indentSize * (depth + 1);\n\n    return (\n      <div key={key} style={style}>\n        <TableRowComponent theme={theme} index={index} userStyle={userStyle.row}>\n          {hasChildren && (\n            <Expander\n              key=\"toggle\"\n              isExpanded={isExpanded}\n              theme={theme}\n              userStyle={userStyle.expander}\n              style={{marginLeft: indent}}\n              onClick={() => this._toggleExpansion(id)}\n            >\n              {isExpanded ? userStyle.iconExpanded || '▾' : userStyle.iconCollapsed || '▸'}\n            </Expander>\n          )}\n\n          <div style={{flexShrink: 0, width: indent}} />\n\n          {data.data.map((colValue, colIndex) => {\n            const column = columns[colIndex];\n            const width = colIndex === 0 ? column.width - indent : column.width;\n\n            return (\n              <TableCell\n                key={colIndex}\n                index={colIndex}\n                style={{width}}\n                title={`${column.name}: ${colValue}`}\n                theme={theme}\n                userStyle={userStyle.cell}\n              >\n                {renderCell({\n                  value: colValue,\n                  column: column.srcObject,\n                  columnIndex: colIndex,\n                  row: data.srcObject,\n                  rowId: id\n                })}\n              </TableCell>\n            );\n          })}\n        </TableRowComponent>\n\n        {hasChildren &&\n          isExpanded &&\n          data.children.map((row, rowIndex) =>\n            this._renderItem({\n              depth: depth + 1,\n              id: `${id}.${rowIndex}`,\n              index: rowIndex,\n              key: rowIndex,\n              data: row\n            })\n          )}\n      </div>\n    );\n  };\n\n  render() {\n    return this._renderItem({...this.props});\n  }\n}\n"],"file":"tree-table-row.js"}