{"version":3,"sources":["../../../src/playback-control/index.js"],"names":["React","PureComponent","PropTypes","AutoSizer","Slider","getTimelineTicks","formatTimeCode","scaleLinear","withTheme","WrapperComponent","ControlsContainer","PlayPauseButton","Timestamp","TicksContainer","Tick","TickLabel","MarkersContainer","MarkerComponent","BufferComponent","PlayIcon","PauseIcon","DEFAULT_PADDING","COMPACT_CONTAINER_STYLE","display","alignItems","noop","normalizePadding","padding","Number","isFinite","right","left","Object","assign","PlaybackControl","props","onPlay","onPause","newTime","currentTime","onSeek","width","style","scale","range","setState","prevProps","step","startTime","endTime","_pause","_seek","marker","i","Component","styleProps","userStyle","time","content","x0","x1","markerStyle","position","tickSpacing","formatTick","markers","ticks","map","t","tickStyle","x","tick","tickLabel","label","_renderMarker","bufferRange","buffers","Array","isArray","slider","buffer","isPlaying","playPauseButton","_play","iconPause","iconPlay","formatTimestamp","timestamp","theme","compact","className","domain","wrapperStyle","sliderStyle","flexGrow","paddingLeft","paddingRight","wrapper","_renderPlayPauseButton","_onResize","_renderTimeline","_renderSlider","_renderTimestamp","controls","children","oneOfType","string","number","object","bool","isRequired","arrayOf","func","ThemedPlaybackControl"],"mappings":"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","sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\n\nimport AutoSizer from '../shared/autosizer';\nimport Slider from '../shared/slider';\nimport {getTimelineTicks, formatTimeCode} from './utils';\nimport {scaleLinear} from 'd3-scale';\n\nimport {withTheme} from '../shared/theme';\n\nimport {\n  WrapperComponent,\n  ControlsContainer,\n  PlayPauseButton,\n  Timestamp,\n  TicksContainer,\n  Tick,\n  TickLabel,\n  MarkersContainer,\n  MarkerComponent,\n  BufferComponent\n} from './styled-components.js';\nimport {PlayIcon, PauseIcon} from '../shared/icons';\n\nconst DEFAULT_PADDING = 24;\nconst COMPACT_CONTAINER_STYLE = {display: 'flex', alignItems: 'flex-end'};\n\nfunction noop() {}\n\nfunction normalizePadding(padding) {\n  padding = padding || 0;\n  if (Number.isFinite(padding)) {\n    return {right: padding, left: padding};\n  }\n  return Object.assign(\n    {\n      right: 0,\n      left: 0\n    },\n    padding\n  );\n}\n\n/*\n * @class\n */\nclass PlaybackControl extends PureComponent {\n  static propTypes = {\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    style: PropTypes.object,\n    compact: PropTypes.bool,\n\n    currentTime: PropTypes.number.isRequired,\n    startTime: PropTypes.number,\n    endTime: PropTypes.number.isRequired,\n    isPlaying: PropTypes.bool.isRequired,\n    className: PropTypes.string,\n\n    // config\n    step: PropTypes.number,\n    tickSpacing: PropTypes.number,\n    bufferRange: PropTypes.arrayOf(PropTypes.object),\n    markers: PropTypes.arrayOf(PropTypes.object),\n\n    // callbacks\n    formatTick: PropTypes.func,\n    formatTimestamp: PropTypes.func,\n    onPlay: PropTypes.func,\n    onPause: PropTypes.func,\n    onSeek: PropTypes.func\n  };\n\n  static defaultProps = {\n    style: {},\n    compact: false,\n\n    className: '',\n    startTime: 0,\n    step: 0.1,\n    tickSpacing: 100,\n    formatTick: x => formatTimeCode(x, '{mm}:{ss}'),\n    formatTimestamp: x => formatTimeCode(x, '{mm}:{ss}.{S}'),\n    onPlay: noop,\n    onPause: noop,\n    onSeek: noop\n  };\n\n  constructor(props) {\n    super(props);\n    this.scale = scaleLinear();\n  }\n\n  componentDidUpdate(prevProps) {\n    const props = this.props;\n\n    if (\n      prevProps.step !== props.step ||\n      prevProps.startTime !== props.startTime ||\n      prevProps.endTime !== props.endTime\n    ) {\n      // Video source has changed\n      // Kill any running animation to avoid callbacks in incorrect time range\n      this._pause();\n      // Update currentTime to make sure it is the start of the new range\n      this._seek(props.startTime);\n    }\n  }\n\n  componentWillUnmount() {\n    this._pause();\n  }\n\n  _play = () => {\n    this.props.onPlay();\n  };\n\n  _pause = () => {\n    this.props.onPause();\n  };\n\n  _seek = newTime => {\n    const {currentTime} = this.props;\n\n    if (newTime !== currentTime) {\n      this.props.onSeek(newTime);\n    }\n  };\n\n  _onResize = ({width}) => {\n    let {padding = 24} = this.props.style;\n    padding = normalizePadding(padding);\n    this.scale.range([0, width - padding.left - padding.right]);\n    // Trigger rerender\n    this.setState({width});\n  };\n\n  _renderMarker(marker, i, Component, styleProps, userStyle) {\n    const {scale} = this;\n    const {startTime = marker.time, endTime = marker.time, style, content} = marker;\n    const x0 = scale(startTime);\n    const x1 = scale(endTime);\n\n    const markerStyle = {\n      ...style,\n      position: 'absolute',\n      left: x0,\n      width: x1 - x0\n    };\n\n    return (\n      <Component key={i} {...styleProps} style={markerStyle} userStyle={userStyle}>\n        {content}\n      </Component>\n    );\n  }\n\n  _renderTimeline(styleProps) {\n    const {style, tickSpacing, formatTick, markers} = this.props;\n    const {scale} = this;\n    const ticks = getTimelineTicks(scale, tickSpacing, formatTick);\n\n    return (\n      <div>\n        <TicksContainer {...styleProps} userStyle={style.ticks}>\n          {ticks.map((t, i) => {\n            const tickStyle = {\n              position: 'absolute',\n              left: t.x\n            };\n            return (\n              <Tick key={i} {...styleProps} userStyle={style.tick} style={tickStyle}>\n                <TickLabel {...styleProps} userStyle={style.tickLabel}>\n                  {t.label}\n                </TickLabel>\n              </Tick>\n            );\n          })}\n        </TicksContainer>\n\n        {markers && (\n          <MarkersContainer {...styleProps} userStyle={style.markers}>\n            {markers.map((marker, i) =>\n              this._renderMarker(marker, i, MarkerComponent, styleProps, style.marker)\n            )}\n          </MarkersContainer>\n        )}\n      </div>\n    );\n  }\n\n  _renderSlider(styleProps) {\n    const {style, currentTime, startTime, endTime, step, bufferRange = []} = this.props;\n\n    const buffers = Array.isArray(bufferRange) ? bufferRange : [bufferRange];\n\n    return (\n      <Slider\n        style={style.slider}\n        value={currentTime}\n        onChange={this._seek}\n        knobSize={18}\n        step={step}\n        min={startTime}\n        max={endTime}\n      >\n        {buffers.map((range, i) =>\n          this._renderMarker(range, i, BufferComponent, styleProps, style.buffer)\n        )}\n      </Slider>\n    );\n  }\n\n  _renderPlayPauseButton(styleProps) {\n    const {isPlaying, style} = this.props;\n\n    return (\n      <PlayPauseButton\n        {...styleProps}\n        userStyle={style.playPauseButton}\n        onClick={isPlaying ? this._pause : this._play}\n      >\n        {isPlaying ? style.iconPause || <PauseIcon /> : style.iconPlay || <PlayIcon />}\n      </PlayPauseButton>\n    );\n  }\n\n  _renderTimestamp(styleProps) {\n    const {style, currentTime, formatTimestamp} = this.props;\n    return (\n      <Timestamp {...styleProps} userStyle={style.timestamp}>\n        {formatTimestamp(currentTime)}\n      </Timestamp>\n    );\n  }\n\n  render() {\n    const {theme, compact, width, style, className, isPlaying, startTime, endTime} = this.props;\n\n    let {padding = DEFAULT_PADDING} = style;\n    padding = normalizePadding(padding);\n\n    this.scale.domain([startTime, endTime]);\n\n    const styleProps = {\n      theme,\n      compact,\n      isPlaying\n    };\n\n    const wrapperStyle = {width};\n\n    if (compact) {\n      const sliderStyle = {\n        flexGrow: 1,\n        paddingLeft: padding.left,\n        paddingRight: padding.right\n      };\n\n      return (\n        <WrapperComponent\n          className={className}\n          {...styleProps}\n          userStyle={style.wrapper}\n          style={wrapperStyle}\n        >\n          <div style={COMPACT_CONTAINER_STYLE}>\n            {this._renderPlayPauseButton(styleProps)}\n            <div style={sliderStyle}>\n              <AutoSizer disableHeight={true} onResize={this._onResize} />\n              {this._renderTimeline(styleProps)}\n              {this._renderSlider(styleProps)}\n            </div>\n            {this._renderTimestamp(styleProps)}\n          </div>\n\n          <ControlsContainer {...styleProps} userStyle={style.controls}>\n            {this.props.children}\n          </ControlsContainer>\n        </WrapperComponent>\n      );\n    }\n\n    Object.assign(wrapperStyle, {\n      paddingLeft: padding.left,\n      paddingRight: padding.right\n    });\n\n    return (\n      <WrapperComponent\n        className={className}\n        {...styleProps}\n        userStyle={style.wrapper}\n        style={wrapperStyle}\n      >\n        <AutoSizer disableHeight={true} onResize={this._onResize} />\n        {this._renderTimeline(styleProps)}\n        {this._renderSlider(styleProps)}\n\n        <ControlsContainer {...styleProps} userStyle={style.controls}>\n          {this._renderPlayPauseButton(styleProps)}\n          {this._renderTimestamp(styleProps)}\n          {this.props.children}\n        </ControlsContainer>\n      </WrapperComponent>\n    );\n  }\n}\n\nconst ThemedPlaybackControl = withTheme(PlaybackControl);\nThemedPlaybackControl.formatTimeCode = formatTimeCode;\n\nexport default ThemedPlaybackControl;\n"],"file":"index.js"}