{"version":3,"sources":["../../../src/playback-control/index.js"],"names":["DEFAULT_PADDING","COMPACT_CONTAINER_STYLE","display","alignItems","noop","normalizePadding","padding","Number","isFinite","right","left","Object","assign","PlaybackControl","props","onPlay","onPause","newTime","currentTime","onSeek","width","style","scale","range","setState","prevProps","step","startTime","endTime","_pause","_seek","marker","i","Component","styleProps","userStyle","time","content","x0","x1","markerStyle","position","tickSpacing","formatTick","markers","ticks","map","t","tickStyle","x","tick","tickLabel","label","_renderMarker","MarkerComponent","bufferRange","buffers","Array","isArray","slider","BufferComponent","buffer","isPlaying","playPauseButton","_play","iconPause","iconPlay","formatTimestamp","timestamp","theme","compact","className","domain","wrapperStyle","sliderStyle","flexGrow","paddingLeft","paddingRight","wrapper","_renderPlayPauseButton","_onResize","_renderTimeline","_renderSlider","_renderTimestamp","controls","children","PureComponent","PropTypes","oneOfType","string","number","object","bool","isRequired","arrayOf","func","ThemedPlaybackControl","formatTimeCode"],"mappings":"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","sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\n\nimport AutoSizer from '../shared/autosizer';\nimport Slider from '../shared/slider';\nimport {getTimelineTicks, formatTimeCode} from './utils';\nimport {scaleLinear} from 'd3-scale';\n\nimport {withTheme} from '../shared/theme';\n\nimport {\n  WrapperComponent,\n  ControlsContainer,\n  PlayPauseButton,\n  Timestamp,\n  TicksContainer,\n  Tick,\n  TickLabel,\n  MarkersContainer,\n  MarkerComponent,\n  BufferComponent\n} from './styled-components.js';\nimport {PlayIcon, PauseIcon} from '../shared/icons';\n\nconst DEFAULT_PADDING = 24;\nconst COMPACT_CONTAINER_STYLE = {display: 'flex', alignItems: 'flex-end'};\n\nfunction noop() {}\n\nfunction normalizePadding(padding) {\n  padding = padding || 0;\n  if (Number.isFinite(padding)) {\n    return {right: padding, left: padding};\n  }\n  return Object.assign(\n    {\n      right: 0,\n      left: 0\n    },\n    padding\n  );\n}\n\n/*\n * @class\n */\nclass PlaybackControl extends PureComponent {\n  static propTypes = {\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    style: PropTypes.object,\n    compact: PropTypes.bool,\n\n    currentTime: PropTypes.number.isRequired,\n    startTime: PropTypes.number,\n    endTime: PropTypes.number.isRequired,\n    isPlaying: PropTypes.bool.isRequired,\n    className: PropTypes.string,\n\n    // config\n    step: PropTypes.number,\n    tickSpacing: PropTypes.number,\n    bufferRange: PropTypes.arrayOf(PropTypes.object),\n    markers: PropTypes.arrayOf(PropTypes.object),\n\n    // callbacks\n    formatTick: PropTypes.func,\n    formatTimestamp: PropTypes.func,\n    onPlay: PropTypes.func,\n    onPause: PropTypes.func,\n    onSeek: PropTypes.func\n  };\n\n  static defaultProps = {\n    style: {},\n    compact: false,\n\n    className: '',\n    startTime: 0,\n    step: 0.1,\n    tickSpacing: 100,\n    formatTick: x => formatTimeCode(x, '{mm}:{ss}'),\n    formatTimestamp: x => formatTimeCode(x, '{mm}:{ss}.{S}'),\n    onPlay: noop,\n    onPause: noop,\n    onSeek: noop\n  };\n\n  constructor(props) {\n    super(props);\n    this.scale = scaleLinear();\n  }\n\n  componentDidUpdate(prevProps) {\n    const props = this.props;\n\n    if (\n      prevProps.step !== props.step ||\n      prevProps.startTime !== props.startTime ||\n      prevProps.endTime !== props.endTime\n    ) {\n      // Video source has changed\n      // Kill any running animation to avoid callbacks in incorrect time range\n      this._pause();\n      // Update currentTime to make sure it is the start of the new range\n      this._seek(props.startTime);\n    }\n  }\n\n  componentWillUnmount() {\n    this._pause();\n  }\n\n  _play = () => {\n    this.props.onPlay();\n  };\n\n  _pause = () => {\n    this.props.onPause();\n  };\n\n  _seek = newTime => {\n    const {currentTime} = this.props;\n\n    if (newTime !== currentTime) {\n      this.props.onSeek(newTime);\n    }\n  };\n\n  _onResize = ({width}) => {\n    let {padding = 24} = this.props.style;\n    padding = normalizePadding(padding);\n    this.scale.range([0, width - padding.left - padding.right]);\n    // Trigger rerender\n    this.setState({width});\n  };\n\n  _renderMarker(marker, i, Component, styleProps, userStyle) {\n    const {scale} = this;\n    const {startTime = marker.time, endTime = marker.time, style, content} = marker;\n    const x0 = scale(startTime);\n    const x1 = scale(endTime);\n\n    const markerStyle = {\n      ...style,\n      position: 'absolute',\n      left: x0,\n      width: x1 - x0\n    };\n\n    return (\n      <Component key={i} {...styleProps} style={markerStyle} userStyle={userStyle}>\n        {content}\n      </Component>\n    );\n  }\n\n  _renderTimeline(styleProps) {\n    const {style, tickSpacing, formatTick, markers} = this.props;\n    const {scale} = this;\n    const ticks = getTimelineTicks(scale, tickSpacing, formatTick);\n\n    return (\n      <div>\n        <TicksContainer {...styleProps} userStyle={style.ticks}>\n          {ticks.map((t, i) => {\n            const tickStyle = {\n              position: 'absolute',\n              left: t.x\n            };\n            return (\n              <Tick key={i} {...styleProps} userStyle={style.tick} style={tickStyle}>\n                <TickLabel {...styleProps} userStyle={style.tickLabel}>\n                  {t.label}\n                </TickLabel>\n              </Tick>\n            );\n          })}\n        </TicksContainer>\n\n        {markers && (\n          <MarkersContainer {...styleProps} userStyle={style.markers}>\n            {markers.map((marker, i) =>\n              this._renderMarker(marker, i, MarkerComponent, styleProps, style.marker)\n            )}\n          </MarkersContainer>\n        )}\n      </div>\n    );\n  }\n\n  _renderSlider(styleProps) {\n    const {style, currentTime, startTime, endTime, step, bufferRange = []} = this.props;\n\n    const buffers = Array.isArray(bufferRange) ? bufferRange : [bufferRange];\n\n    return (\n      <Slider\n        style={style.slider}\n        value={currentTime}\n        onChange={this._seek}\n        knobSize={18}\n        step={step}\n        min={startTime}\n        max={endTime}\n      >\n        {buffers.map((range, i) =>\n          this._renderMarker(range, i, BufferComponent, styleProps, style.buffer)\n        )}\n      </Slider>\n    );\n  }\n\n  _renderPlayPauseButton(styleProps) {\n    const {isPlaying, style} = this.props;\n\n    return (\n      <PlayPauseButton\n        {...styleProps}\n        userStyle={style.playPauseButton}\n        onClick={isPlaying ? this._pause : this._play}\n      >\n        {isPlaying ? style.iconPause || <PauseIcon /> : style.iconPlay || <PlayIcon />}\n      </PlayPauseButton>\n    );\n  }\n\n  _renderTimestamp(styleProps) {\n    const {style, currentTime, formatTimestamp} = this.props;\n    return (\n      <Timestamp {...styleProps} userStyle={style.timestamp}>\n        {formatTimestamp(currentTime)}\n      </Timestamp>\n    );\n  }\n\n  render() {\n    const {theme, compact, width, style, className, isPlaying, startTime, endTime} = this.props;\n\n    let {padding = DEFAULT_PADDING} = style;\n    padding = normalizePadding(padding);\n\n    this.scale.domain([startTime, endTime]);\n\n    const styleProps = {\n      theme,\n      compact,\n      isPlaying\n    };\n\n    const wrapperStyle = {width};\n\n    if (compact) {\n      const sliderStyle = {\n        flexGrow: 1,\n        paddingLeft: padding.left,\n        paddingRight: padding.right\n      };\n\n      return (\n        <WrapperComponent\n          className={className}\n          {...styleProps}\n          userStyle={style.wrapper}\n          style={wrapperStyle}\n        >\n          <div style={COMPACT_CONTAINER_STYLE}>\n            {this._renderPlayPauseButton(styleProps)}\n            <div style={sliderStyle}>\n              <AutoSizer disableHeight={true} onResize={this._onResize} />\n              {this._renderTimeline(styleProps)}\n              {this._renderSlider(styleProps)}\n            </div>\n            {this._renderTimestamp(styleProps)}\n          </div>\n\n          <ControlsContainer {...styleProps} userStyle={style.controls}>\n            {this.props.children}\n          </ControlsContainer>\n        </WrapperComponent>\n      );\n    }\n\n    Object.assign(wrapperStyle, {\n      paddingLeft: padding.left,\n      paddingRight: padding.right\n    });\n\n    return (\n      <WrapperComponent\n        className={className}\n        {...styleProps}\n        userStyle={style.wrapper}\n        style={wrapperStyle}\n      >\n        <AutoSizer disableHeight={true} onResize={this._onResize} />\n        {this._renderTimeline(styleProps)}\n        {this._renderSlider(styleProps)}\n\n        <ControlsContainer {...styleProps} userStyle={style.controls}>\n          {this._renderPlayPauseButton(styleProps)}\n          {this._renderTimestamp(styleProps)}\n          {this.props.children}\n        </ControlsContainer>\n      </WrapperComponent>\n    );\n  }\n}\n\nconst ThemedPlaybackControl = withTheme(PlaybackControl);\nThemedPlaybackControl.formatTimeCode = formatTimeCode;\n\nexport default ThemedPlaybackControl;\n"],"file":"index.js"}