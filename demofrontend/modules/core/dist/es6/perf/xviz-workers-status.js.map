{"version":3,"sources":["../../../src/perf/xviz-workers-status.js"],"names":["React","STYLES","ActivityTag","isActive","style","TAG","POSITIVE","NEGATIVE","_formatLastUpdated","lastUpdated","toLocaleDateString","toLocaleTimeString","XVIZWorkersStatus","workers","Object","entries","map","workerId","WORKERS","CONTAINER","container","TITLE","title","tag"],"mappings":";;;;;;AAmBA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,MAAR,QAAqB,aAArB;;AAOA,MAAMC,WAAW,GAAG,CAAC;AAACC,EAAAA,QAAD;AAAWC,EAAAA;AAAX,CAAD,KAClBD,QAAQ,GACN;AAAK,EAAA,KAAK,gDAAMF,MAAM,CAACI,GAAb,GAAqBJ,MAAM,CAACK,QAA5B,GAAyCF,KAAzC;AAAV,YADM,GAGN;AAAK,EAAA,KAAK,gDAAMH,MAAM,CAACI,GAAb,GAAqBJ,MAAM,CAACM,QAA5B,GAAyCH,KAAzC;AAAV,cAJJ;;AAOA,MAAMI,kBAAkB,GAAGC,WAAW,cACjCA,WAAW,CAACC,kBAAZ,EADiC,cACGD,WAAW,CAACE,kBAAZ,EADH,CAAtC;;AAgBA,OAAO,MAAMC,iBAAiB,GAAG,CAAC;AAACC,EAAAA,OAAD;AAAUT,EAAAA,KAAK,GAAG;AAAlB,CAAD,KAC/BU,MAAM,CAACC,OAAP,CAAeF,OAAf,EAAwBG,GAAxB,CAA4B,CAAC,CAACC,QAAD,EAAW;AAACR,EAAAA,WAAD;AAAcN,EAAAA;AAAd,CAAX,CAAD,KAC1B;AAAK,EAAA,GAAG,EAAEc,QAAV;AAAoB,EAAA,KAAK,kCAAMhB,MAAM,CAACiB,OAAP,CAAeC,SAArB,GAAmCf,KAAK,CAACgB,SAAzC;AAAzB,GACE;AAAK,EAAA,KAAK,kCAAMnB,MAAM,CAACiB,OAAP,CAAeG,KAArB,GAA+BjB,KAAK,CAACkB,KAArC;AAAV,GACE,2CAAYL,QAAZ,CADF,EAEE,oBAAC,WAAD;AAAa,EAAA,QAAQ,EAAEd,QAAvB;AAAiC,EAAA,KAAK,EAAEC,KAAK,CAACmB;AAA9C,EAFF,CADF,EAKE,iCACGd,WAAW,4BACUD,kBAAkB,CAACC,WAAD,CAD5B,IAER,oCAHN,CALF,CADF,CADK","sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport React from 'react';\nimport {STYLES} from './constants';\n\n/**\n * Activity status tag.\n * @param {Boolean} isActive - Whether the tag should be marked as active.\n * @param {Object} style - Style overrides for the tag.\n */\nconst ActivityTag = ({isActive, style}) =>\n  isActive ? (\n    <div style={{...STYLES.TAG, ...STYLES.POSITIVE, ...style}}>ACTIVE</div>\n  ) : (\n    <div style={{...STYLES.TAG, ...STYLES.NEGATIVE, ...style}}>INACTIVE</div>\n  );\n\nconst _formatLastUpdated = lastUpdated =>\n  `${lastUpdated.toLocaleDateString()} ${lastUpdated.toLocaleTimeString()}`;\n\n/**\n * @typedef {Object} Worker - Status of a worker.\n * @property {Date} lastUpdated - Time at which the worker was last active.\n * @property {Boolean} isActive - Whether the worker is currently active.\n */\n\n/**\n * XVIZ workers status view component.\n * @param {Array<Worker>} workers - Workers status.\n * @param {Object} style - Style overrides.\n * @param {Object} style.container - Style of the outer container.\n * @param {Object} style.title - Style of the title.\n */\nexport const XVIZWorkersStatus = ({workers, style = {}}) =>\n  Object.entries(workers).map(([workerId, {lastUpdated, isActive}]) => (\n    <div key={workerId} style={{...STYLES.WORKERS.CONTAINER, ...style.container}}>\n      <div style={{...STYLES.WORKERS.TITLE, ...style.title}}>\n        <h3>Worker {workerId}</h3>\n        <ActivityTag isActive={isActive} style={style.tag} />\n      </div>\n      <div>\n        {lastUpdated\n          ? `Last active at ${_formatLastUpdated(lastUpdated)}`\n          : 'This worker has never been active.'}\n      </div>\n    </div>\n  ));\n"],"file":"xviz-workers-status.js"}