{"version":3,"sources":["../../../../src/components/log-viewer/hover-tooltip.js"],"names":["TooltipContainer","styled","div","props","theme","__reset__","position","pointerEvents","margin","spacingNormal","padding","maxWidth","overflow","background","color","textColorPrimary","zIndex","userStyle","KEY_BLACKLIST","Set","HoverTooltip","info","streamName","layer","id","objectId","object","base","object_id","concat","_renderEntries","Object","keys","filter","key","has","undefined","map","String","style","renderContent","_renderContent","left","x","top","y","PureComponent"],"mappings":"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","sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {PureComponent} from 'react';\nimport {withTheme, evaluateStyle} from '@streetscape.gl/monochrome';\n\nimport styled from '@emotion/styled';\n\nconst TooltipContainer = styled.div(props => ({\n  ...props.theme.__reset__,\n  position: 'absolute',\n  pointerEvents: 'none',\n  margin: props.theme.spacingNormal,\n  padding: props.theme.spacingNormal,\n  maxWidth: 320,\n  overflow: 'hidden',\n  background: props.theme.background,\n  color: props.theme.textColorPrimary,\n  zIndex: 100001,\n  ...evaluateStyle(props.userStyle, props)\n}));\n\nconst KEY_BLACKLIST = new Set(['vertices', 'base', 'style', 'state', 'index', 'id', 'object_id']);\n\nclass HoverTooltip extends PureComponent {\n  _renderEntries(object) {\n    if (!object) {\n      return null;\n    }\n    return Object.keys(object)\n      .filter(key => !KEY_BLACKLIST.has(key) && object[key] !== undefined)\n      .map(key => (\n        <div key={key}>\n          <div>\n            <b>{key}</b>\n          </div>\n          {String(object[key])}\n        </div>\n      ));\n  }\n\n  _renderContent = info => {\n    const {streamName} = info.layer.props;\n\n    if (!streamName) {\n      return (\n        <div>\n          <b>{info.layer.id}</b>\n        </div>\n      );\n    }\n\n    const objectId = info.object.base && info.object.base.object_id;\n\n    return [\n      <div key=\"-stream-\">\n        <div>\n          <b>stream</b>\n        </div>\n        {streamName}\n      </div>,\n      objectId ? (\n        <div key=\"-id-\">\n          <div>\n            <b>id</b>\n          </div>\n          {objectId}\n        </div>\n      ) : null,\n      <hr key=\"-separator-\" />\n    ].concat(this._renderEntries(info.object.base), this._renderEntries(info.object));\n  };\n\n  render() {\n    const {theme, info, style, renderContent = this._renderContent} = this.props;\n\n    return (\n      <TooltipContainer theme={theme} style={{left: info.x, top: info.y}} userStyle={style}>\n        {renderContent(info)}\n      </TooltipContainer>\n    );\n  }\n}\n\nexport default withTheme(HoverTooltip);\n"],"file":"hover-tooltip.js"}