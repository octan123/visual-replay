{"version":3,"sources":["../../../../src/components/hud/traffic-light-widget.js"],"names":["React","PureComponent","PropTypes","evaluateStyle","styled","BaseWidget","Container","div","props","display","justifyContent","flexDirection","layout","COLORS","red","yellow","green","LightComponent","boxSizing","width","theme","controlSize","height","margin","spacingTiny","borderRadius","borderStyle","borderWidth","borderColor","color","background","isOn","userStyle","TrafficLightWidget","streams","transformValue","style","value","light","data","variable","styleProps","log","streamName","_render","object","isRequired","string","func","x"],"mappings":"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","sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport {evaluateStyle} from '@streetscape.gl/monochrome';\nimport styled from '@emotion/styled';\n\nimport BaseWidget from './base-widget';\n\nconst Container = styled.div(props => ({\n  display: 'flex',\n  justifyContent: 'center',\n  flexDirection: props.layout === 'vertical' ? 'column' : 'row'\n}));\n\nconst COLORS = {\n  red: '#d42e22',\n  yellow: '#f8ce46',\n  green: '#57ad57'\n};\n\nconst LightComponent = styled.div(props => ({\n  boxSizing: 'border-box',\n  width: props.theme.controlSize,\n  height: props.theme.controlSize,\n  margin: props.theme.spacingTiny,\n  borderRadius: '50%',\n  borderStyle: 'solid',\n  borderWidth: 2,\n  borderColor: COLORS[props.color],\n  background: props.isOn ? COLORS[props.color] : 'none',\n  ...evaluateStyle(props.userStyle, props)\n}));\n\nexport default class TrafficLightWidget extends PureComponent {\n  static propTypes = {\n    log: PropTypes.object.isRequired,\n    style: PropTypes.object,\n    streamName: PropTypes.string.isRequired,\n    transformValue: PropTypes.func\n  };\n\n  static defaultProps = {\n    style: {},\n    transformValue: x => x\n  };\n\n  _render = ({theme, streams}) => {\n    const {transformValue, style} = this.props;\n    const value = streams.light.data && transformValue(streams.light.data.variable);\n\n    const styleProps = {theme, userStyle: style.light};\n\n    return (\n      <Container theme={theme} layout={style.layout}>\n        <LightComponent key=\"red\" color=\"red\" isOn={value === 'red'} {...styleProps} />\n        <LightComponent key=\"yellow\" color=\"yellow\" isOn={value === 'yellow'} {...styleProps} />\n        <LightComponent key=\"green\" color=\"green\" isOn={value === 'green'} {...styleProps} />\n      </Container>\n    );\n  };\n\n  render() {\n    const {log, style, streamName} = this.props;\n\n    return (\n      <BaseWidget log={log} style={style} streamNames={{light: streamName}}>\n        {this._render}\n      </BaseWidget>\n    );\n  }\n}\n"],"file":"traffic-light-widget.js"}